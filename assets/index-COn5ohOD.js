var Ab=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var wD=Ab((ID,hu)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function vE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function wb(){if(M_)return Nl;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var V_;function Rb(){return V_||(V_=1,Nd.exports=wb()),Nd.exports}var z=Rb(),Od={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function Cb(){if(k_)return Ue;k_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function q(E){return E===null||typeof E!="object"?null:(E=N&&E[N]||E["@@iterator"],typeof E=="function"?E:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,G={};function de(E,L,J){this.props=E,this.context=L,this.refs=G,this.updater=J||re}de.prototype.isReactComponent={},de.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},de.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function we(){}we.prototype=de.prototype;function be(E,L,J){this.props=E,this.context=L,this.refs=G,this.updater=J||re}var Be=be.prototype=new we;Be.constructor=be,te(Be,de.prototype),Be.isPureReactComponent=!0;var Se=Array.isArray;function Me(){}var T={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(E,L,J){var se=J.ref;return{$$typeof:r,type:E,key:L,ref:se!==void 0?se:null,props:J}}function V(E,L){return I(E.type,L,E.props)}function O(E){return typeof E=="object"&&E!==null&&E.$$typeof===r}function P(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return L[J]})}var C=/\/+/g;function nt(E,L){return typeof E=="object"&&E!==null&&E.key!=null?P(""+E.key):L.toString(36)}function ft(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Me,Me):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Q(E,L,J,se,ue){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(fe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case r:case e:ce=!0;break;case A:return ce=E._init,Q(ce(E._payload),L,J,se,ue)}}if(ce)return ue=ue(E),ce=se===""?"."+nt(E,0):se,Se(ue)?(J="",ce!=null&&(J=ce.replace(C,"$&/")+"/"),Q(ue,L,J,"",function(Pe){return Pe})):ue!=null&&(O(ue)&&(ue=V(ue,J+(ue.key==null||E&&E.key===ue.key?"":(""+ue.key).replace(C,"$&/")+"/")+ce)),L.push(ue)),1;ce=0;var Ae=se===""?".":se+":";if(Se(E))for(var _e=0;_e<E.length;_e++)se=E[_e],fe=Ae+nt(se,_e),ce+=Q(se,L,J,fe,ue);else if(_e=q(E),typeof _e=="function")for(E=_e.call(E),_e=0;!(se=E.next()).done;)se=se.value,fe=Ae+nt(se,_e++),ce+=Q(se,L,J,fe,ue);else if(fe==="object"){if(typeof E.then=="function")return Q(ft(E),L,J,se,ue);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ce}function $(E,L,J){if(E==null)return E;var se=[],ue=0;return Q(E,se,"","",function(fe){return L.call(J,fe,ue++)}),se}function le(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var Te=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},k={map:$,forEach:function(E,L,J){$(E,function(){L.apply(this,arguments)},J)},count:function(E){var L=0;return $(E,function(){L++}),L},toArray:function(E){return $(E,function(L){return L})||[]},only:function(E){if(!O(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Ue.Activity=w,Ue.Children=k,Ue.Component=de,Ue.Fragment=i,Ue.Profiler=l,Ue.PureComponent=be,Ue.StrictMode=a,Ue.Suspense=_,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(E){return T.H.useMemoCache(E)}},Ue.cache=function(E){return function(){return E.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(E,L,J){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var se=te({},E.props),ue=E.key;if(L!=null)for(fe in L.key!==void 0&&(ue=""+L.key),L)!R.call(L,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&L.ref===void 0||(se[fe]=L[fe]);var fe=arguments.length-2;if(fe===1)se.children=J;else if(1<fe){for(var ce=Array(fe),Ae=0;Ae<fe;Ae++)ce[Ae]=arguments[Ae+2];se.children=ce}return I(E.type,ue,se)},Ue.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Ue.createElement=function(E,L,J){var se,ue={},fe=null;if(L!=null)for(se in L.key!==void 0&&(fe=""+L.key),L)R.call(L,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=L[se]);var ce=arguments.length-2;if(ce===1)ue.children=J;else if(1<ce){for(var Ae=Array(ce),_e=0;_e<ce;_e++)Ae[_e]=arguments[_e+2];ue.children=Ae}if(E&&E.defaultProps)for(se in ce=E.defaultProps,ce)ue[se]===void 0&&(ue[se]=ce[se]);return I(E,fe,ue)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(E){return{$$typeof:p,render:E}},Ue.isValidElement=O,Ue.lazy=function(E){return{$$typeof:A,_payload:{_status:-1,_result:E},_init:le}},Ue.memo=function(E,L){return{$$typeof:y,type:E,compare:L===void 0?null:L}},Ue.startTransition=function(E){var L=T.T,J={};T.T=J;try{var se=E(),ue=T.S;ue!==null&&ue(J,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Me,Te)}catch(fe){Te(fe)}finally{L!==null&&J.types!==null&&(L.types=J.types),T.T=L}},Ue.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Ue.use=function(E){return T.H.use(E)},Ue.useActionState=function(E,L,J){return T.H.useActionState(E,L,J)},Ue.useCallback=function(E,L){return T.H.useCallback(E,L)},Ue.useContext=function(E){return T.H.useContext(E)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(E,L){return T.H.useDeferredValue(E,L)},Ue.useEffect=function(E,L){return T.H.useEffect(E,L)},Ue.useEffectEvent=function(E){return T.H.useEffectEvent(E)},Ue.useId=function(){return T.H.useId()},Ue.useImperativeHandle=function(E,L,J){return T.H.useImperativeHandle(E,L,J)},Ue.useInsertionEffect=function(E,L){return T.H.useInsertionEffect(E,L)},Ue.useLayoutEffect=function(E,L){return T.H.useLayoutEffect(E,L)},Ue.useMemo=function(E,L){return T.H.useMemo(E,L)},Ue.useOptimistic=function(E,L){return T.H.useOptimistic(E,L)},Ue.useReducer=function(E,L,J){return T.H.useReducer(E,L,J)},Ue.useRef=function(E){return T.H.useRef(E)},Ue.useState=function(E){return T.H.useState(E)},Ue.useSyncExternalStore=function(E,L,J){return T.H.useSyncExternalStore(E,L,J)},Ue.useTransition=function(){return T.H.useTransition()},Ue.version="19.2.0",Ue}var P_;function bm(){return P_||(P_=1,Od.exports=Cb()),Od.exports}var Fe=bm();const Ib=vE(Fe);var Md={exports:{}},Ol={},Vd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Db(){return U_||(U_=1,(function(r){function e(Q,$){var le=Q.length;Q.push($);e:for(;0<le;){var Te=le-1>>>1,k=Q[Te];if(0<l(k,$))Q[Te]=$,Q[le]=k,le=Te;else break e}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var $=Q[0],le=Q.pop();if(le!==$){Q[0]=le;e:for(var Te=0,k=Q.length,E=k>>>1;Te<E;){var L=2*(Te+1)-1,J=Q[L],se=L+1,ue=Q[se];if(0>l(J,le))se<k&&0>l(ue,J)?(Q[Te]=ue,Q[se]=le,Te=se):(Q[Te]=J,Q[L]=le,Te=L);else if(se<k&&0>l(ue,le))Q[Te]=ue,Q[se]=le,Te=se;else break e}}return $}function l(Q,$){var le=Q.sortIndex-$.sortIndex;return le!==0?le:Q.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,w=null,N=3,q=!1,re=!1,te=!1,G=!1,de=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Be(Q){for(var $=i(y);$!==null;){if($.callback===null)a(y);else if($.startTime<=Q)a(y),$.sortIndex=$.expirationTime,e(_,$);else break;$=i(y)}}function Se(Q){if(te=!1,Be(Q),!re)if(i(_)!==null)re=!0,Me||(Me=!0,P());else{var $=i(y);$!==null&&ft(Se,$.startTime-Q)}}var Me=!1,T=-1,R=5,I=-1;function V(){return G?!0:!(r.unstable_now()-I<R)}function O(){if(G=!1,Me){var Q=r.unstable_now();I=Q;var $=!0;try{e:{re=!1,te&&(te=!1,we(T),T=-1),q=!0;var le=N;try{t:{for(Be(Q),w=i(_);w!==null&&!(w.expirationTime>Q&&V());){var Te=w.callback;if(typeof Te=="function"){w.callback=null,N=w.priorityLevel;var k=Te(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof k=="function"){w.callback=k,Be(Q),$=!0;break t}w===i(_)&&a(_),Be(Q)}else a(_);w=i(_)}if(w!==null)$=!0;else{var E=i(y);E!==null&&ft(Se,E.startTime-Q),$=!1}}break e}finally{w=null,N=le,q=!1}$=void 0}}finally{$?P():Me=!1}}}var P;if(typeof be=="function")P=function(){be(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,nt=C.port2;C.port1.onmessage=O,P=function(){nt.postMessage(null)}}else P=function(){de(O,0)};function ft(Q,$){T=de(function(){Q(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var $=3;break;default:$=N}var le=N;N=$;try{return Q()}finally{N=le}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,$){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=N;N=Q;try{return $()}finally{N=le}},r.unstable_scheduleCallback=function(Q,$,le){var Te=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Te+le:Te):le=Te,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,Q={id:A++,callback:$,priorityLevel:Q,startTime:le,expirationTime:k,sortIndex:-1},le>Te?(Q.sortIndex=le,e(y,Q),i(_)===null&&Q===i(y)&&(te?(we(T),T=-1):te=!0,ft(Se,le-Te))):(Q.sortIndex=k,e(_,Q),re||q||(re=!0,Me||(Me=!0,P()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var $=N;return function(){var le=N;N=$;try{return Q.apply(this,arguments)}finally{N=le}}}})(kd)),kd}var L_;function xb(){return L_||(L_=1,Vd.exports=Db()),Vd.exports}var Pd={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function Nb(){if(z_)return _n;z_=1;var r=bm();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,A)},_n.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},_n.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},_n.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},_n.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:q}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},_n.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},_n.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},_n.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},_n.requestFormReset=function(_){a.d.r(_)},_n.unstable_batchedUpdates=function(_,y){return _(y)},_n.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var j_;function Ob(){if(j_)return Pd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pd.exports=Nb(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function Mb(){if(B_)return Ol;B_=1;var r=xb(),e=bm(),i=Ob();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),t;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,b=h.child;b;){if(b===s){g=!0,s=h,o=f;break}if(b===o){g=!0,o=h,s=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===s){g=!0,s=f,o=h;break}if(b===o){g=!0,o=f,s=h;break}b=b.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),we=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case de:return"Profiler";case G:return"StrictMode";case Se:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case be:return t.displayName||"Context";case we:return(t._context.displayName||"Context")+".Consumer";case Be:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return n=t.displayName||null,n!==null?n:nt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return nt(t(n))}catch{}}return null}var ft=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Te=[],k=-1;function E(t){return{current:t}}function L(t){0>k||(t.current=Te[k],Te[k]=null,k--)}function J(t,n){k++,Te[k]=t.current,t.current=n}var se=E(null),ue=E(null),fe=E(null),ce=E(null);function Ae(t,n){switch(J(fe,n),J(ue,t),J(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=n_(n),t=i_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}L(se),J(se,t)}function _e(){L(se),L(ue),L(fe)}function Pe(t){t.memoizedState!==null&&J(ce,t);var n=se.current,s=i_(n,t.type);n!==s&&(J(ue,t),J(se,s))}function pe(t){ue.current===t&&(L(se),L(ue)),ce.current===t&&(L(ce),Cl._currentValue=le)}var tt,dt;function Ce(t){if(tt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);tt=n&&n[1]||"",dt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+t+dt}var Dt=!1;function xt(t,n){if(!t||Dt)return"";Dt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var F=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){F=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){F=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var D=g.split(`
`),H=b.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===H.length)for(o=D.length-1,h=H.length-1;1<=o&&0<=h&&D[o]!==H[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==H[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==H[h]){var W=`
`+D[o].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=o&&0<=h);break}}}finally{Dt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ce(s):""}function Et(t,n){switch(t.tag){case 26:case 27:case 5:return Ce(t.type);case 16:return Ce("Lazy");case 13:return t.child!==n&&n!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return xt(t.type,!1);case 11:return xt(t.type.render,!1);case 1:return xt(t.type,!0);case 31:return Ce("Activity");default:return""}}function _t(t){try{var n="",s=null;do n+=Et(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,We=r.unstable_scheduleCallback,on=r.unstable_cancelCallback,Ni=r.unstable_shouldYield,mi=r.unstable_requestPaint,Nt=r.unstable_now,$n=r.unstable_getCurrentPriorityLevel,Sn=r.unstable_ImmediatePriority,pi=r.unstable_UserBlockingPriority,Zn=r.unstable_NormalPriority,er=r.unstable_LowPriority,tr=r.unstable_IdlePriority,gi=r.log,yi=r.unstable_setDisableYieldValue,tn=null,Ht=null;function An(t){if(typeof gi=="function"&&yi(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(tn,t)}catch{}}var Ot=Math.clz32?Math.clz32:Ea,va=Math.log,Vr=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(va(t)/Vr|0)|0}var Jn=256,nr=262144,Vt=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=Wn(o):(g&=b,g!==0?h=Wn(g):s||(s=b&~t,s!==0&&(h=Wn(s))))):(b=o&~f,b!==0?h=Wn(b):g!==0?h=Wn(g):s||(s=o&~t,s!==0&&(h=Wn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Cn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(){var t=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),t}function In(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ir(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ko(t,n,s,o,h,f){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(s=g&~s;0<s;){var W=31-Ot(s),ne=1<<W;b[W]=0,D[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var K=F[W];K!==null&&(K.lane&=-536870913)}s&=~ne}o!==0&&rr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function rr(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ot(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Oi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Ot(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function ks(t,n){var s=n&-n;return s=(s&42)!==0?1:sr(s),(s&(t.suspendedLanes|n))!==0?0:s}function sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function $t(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function jn(t,n){var s=$.p;try{return $.p=t,n()}finally{$.p=s}}var Dn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Dn,Ut="__reactProps$"+Dn,xn="__reactContainer$"+Dn,ar="__reactEvents$"+Dn,Ta="__reactListeners$"+Dn,Ps="__reactHandles$"+Dn,x="__reactResources$"+Dn,Y="__reactMarker$"+Dn;function Z(t){delete t[Rt],delete t[Ut],delete t[ar],delete t[Ta],delete t[Ps]}function oe(t){var n=t[Rt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[xn]||s[Rt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=c_(t);t!==null;){if(s=t[Rt])return s;t=c_(t)}return n}t=s,s=t.parentNode}return null}function ge(t){if(t=t[Rt]||t[xn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function De(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ve(t){var n=t[x];return n||(n=t[x]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function qe(t){t[Y]=!0}var Tt=new Set,yn={};function nn(t,n){Mi(t,n),Mi(t+"Capture",n)}function Mi(t,n){for(yn[t]=n,t=0;t<n.length;t++)Tt.add(n[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function fu(t){return it.call(Lo,t)?!0:it.call(Uo,t)?!1:Po.test(t)?Lo[t]=!0:(Uo[t]=!0,!1)}function ba(t,n,s){if(fu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Bn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function qt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zo(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=Pr(t)?"checked":"value";t._valueTracker=zo(t,n,""+t[n])}}function Us(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Pr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function Nn(t){return t.replace(Ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(t,n,s,o,h,f,g,b){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+rn(n)):t.value!==""+rn(n)&&(t.value=""+rn(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?jo(t,g,rn(n)):s!=null?jo(t,g,rn(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+rn(b):t.removeAttribute("name")}function du(t,n,s,o,h,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}s=s!=null?""+rn(s):"",n=n!=null?""+rn(n):s,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ut(t)}function jo(t,n,s){n==="number"&&Vi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ur(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+rn(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,s){if(n!=null&&(n=""+rn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+rn(s):""}function Lr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ft(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=rn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ut(t)}function On(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||pu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Ho(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Bo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(t,f,n[f])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function _i(){}var qo=null;function ni(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jr=null,ki=null;function zs(t){var n=ge(t);if(n&&(t=n.stateNode)){var s=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(Sa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(a(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Us(o)}break e;case"textarea":mu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ur(t,!!s.multiple,n,!1)}}}var Ra=!1;function Br(t,n,s){if(Ra)return t(n,s);Ra=!0;try{var o=t(n);return o}finally{if(Ra=!1,(jr!==null||ki!==null)&&(uc(),jr&&(n=jr,t=ki,ki=jr=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function vi(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Ut]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(ii)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){js=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{js=!1}var Pi=null,Fo=null,Bs=null;function Go(){if(Bs)return Bs;var t,n=Fo,s=n.length,o,h="value"in Pi?Pi.value:Pi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var g=s-t;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Bs=h.slice(t,1<o?1-o:void 0)}function Hs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function Ei(){return!1}function ln(t){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?or:Ei,this.isPropagationStopped=Ei,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),n}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=ln(lr),Hr=w({},lr,{view:0,detail:0}),Yo=ln(Hr),qr,Ca,Li,Ia=w({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(qr=t.screenX-Li.screenX,Ca=t.screenY-Li.screenY):Ca=qr=0,Li=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Xo=ln(Ia),qs=w({},Ia,{dataTransfer:0}),yu=ln(qs),_u=w({},Hr,{relatedTarget:0}),Fs=ln(_u),Qo=w({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=ln(Qo),Da=w({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=ln(Da),Tu=w({},lr,{data:0}),zi=ln(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Fr(){return wu}var wn=w({},Hr,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=ln(wn),Cu=w({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=ln(Cu),u=w({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),m=ln(u),v=w({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(v),j=w({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X=ln(j),he=w({},lr,{newState:0,oldState:0}),ze=ln(he),Lt=[9,13,27,32],at=ii&&"CompositionEvent"in window,Ct=null;ii&&"documentMode"in document&&(Ct=document.documentMode);var ri=ii&&"TextEvent"in window&&!Ct,ji=ii&&(!at||Ct&&8<Ct&&11>=Ct),Ti=" ",bi=!1;function Gs(t,n){switch(t){case"keyup":return Lt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function QT(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(bi=!0,Ti);case"textInput":return t=n.data,t===Ti&&bi?null:t;default:return null}}function KT(t,n){if(Na)return t==="compositionend"||!at&&Gs(t,n)?(t=Go(),Bs=Fo=Pi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$T[t.type]:n==="textarea"}function mp(t,n,s,o){jr?ki?ki.push(o):ki=[o]:jr=o,n=gc(n,"onChange"),0<n.length&&(s=new Ui("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ko=null,$o=null;function ZT(t){$y(t,0)}function Iu(t){var n=De(t);if(Us(n))return t}function pp(t,n){if(t==="change")return n}var gp=!1;if(ii){var Uh;if(ii){var Lh="oninput"in document;if(!Lh){var yp=document.createElement("div");yp.setAttribute("oninput","return;"),Lh=typeof yp.oninput=="function"}Uh=Lh}else Uh=!1;gp=Uh&&(!document.documentMode||9<document.documentMode)}function _p(){Ko&&(Ko.detachEvent("onpropertychange",vp),$o=Ko=null)}function vp(t){if(t.propertyName==="value"&&Iu($o)){var n=[];mp(n,$o,t,ni(t)),Br(ZT,n)}}function JT(t,n,s){t==="focusin"?(_p(),Ko=n,$o=s,Ko.attachEvent("onpropertychange",vp)):t==="focusout"&&_p()}function WT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu($o)}function e1(t,n){if(t==="click")return Iu(n)}function t1(t,n){if(t==="input"||t==="change")return Iu(n)}function n1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Hn=typeof Object.is=="function"?Object.is:n1;function Zo(t,n){if(Hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!it.call(n,h)||!Hn(t[h],n[h]))return!1}return!0}function Ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tp(t,n){var s=Ep(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ep(s)}}function bp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Vi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var i1=ii&&"documentMode"in document&&11>=document.documentMode,Oa=null,jh=null,Jo=null,Bh=!1;function Ap(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||Oa==null||Oa!==Vi(o)||(o=Oa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=gc(jh,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Oa)))}function Ys(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ma={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},Hh={},wp={};ii&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Xs(t){if(Hh[t])return Hh[t];if(!Ma[t])return t;var n=Ma[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in wp)return Hh[t]=n[s];return t}var Rp=Xs("animationend"),Cp=Xs("animationiteration"),Ip=Xs("animationstart"),r1=Xs("transitionrun"),s1=Xs("transitionstart"),a1=Xs("transitioncancel"),Dp=Xs("transitionend"),xp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Si(t,n){xp.set(t,n),nn(n,[t])}var Du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},si=[],Va=0,Fh=0;function xu(){for(var t=Va,n=Fh=Va=0;n<t;){var s=si[n];si[n++]=null;var o=si[n];si[n++]=null;var h=si[n];si[n++]=null;var f=si[n];if(si[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Np(s,h,f)}}function Nu(t,n,s,o){si[Va++]=t,si[Va++]=n,si[Va++]=s,si[Va++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Gh(t,n,s,o){return Nu(t,n,s,o),Ou(t)}function Qs(t,n){return Nu(t,null,null,n),Ou(t)}function Np(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ot(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Ou(t){if(50<El)throw El=0,td=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function o1(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,n,s,o){return new o1(t,n,s,o)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var s=t.alternate;return s===null?(s=qn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Op(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,s,o,h,f){var g=0;if(o=t,typeof t=="function")Yh(t)&&(g=1);else if(typeof t=="string")g=fb(t,s,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=qn(31,s,n,h),t.elementType=I,t.lanes=f,t;case te:return Ks(s.children,h,f,n);case G:g=8,h|=24;break;case de:return t=qn(12,s,n,h|2),t.elementType=de,t.lanes=f,t;case Se:return t=qn(13,s,n,h),t.elementType=Se,t.lanes=f,t;case Me:return t=qn(19,s,n,h),t.elementType=Me,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:g=10;break e;case we:g=9;break e;case Be:g=11;break e;case T:g=14;break e;case R:g=16,o=null;break e}g=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=qn(g,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ks(t,n,s,o){return t=qn(7,t,o,n),t.lanes=s,t}function Xh(t,n,s){return t=qn(6,t,null,n),t.lanes=s,t}function Mp(t){var n=qn(18,null,null,0);return n.stateNode=t,n}function Qh(t,n,s){return n=qn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Vp=new WeakMap;function ai(t,n){if(typeof t=="object"&&t!==null){var s=Vp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:_t(n)},Vp.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Pa=[],Ua=0,Vu=null,Wo=0,oi=[],li=0,Gr=null,Bi=1,Hi="";function hr(t,n){Pa[Ua++]=Wo,Pa[Ua++]=Vu,Vu=t,Wo=n}function kp(t,n,s){oi[li++]=Bi,oi[li++]=Hi,oi[li++]=Gr,Gr=t;var o=Bi;t=Hi;var h=32-Ot(o)-1;o&=~(1<<h),s+=1;var f=32-Ot(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Bi=1<<32-Ot(n)+h|s<<h|o,Hi=f+t}else Bi=1<<f|s<<h|o,Hi=t}function Kh(t){t.return!==null&&(hr(t,1),kp(t,1,0))}function $h(t){for(;t===Vu;)Vu=Pa[--Ua],Pa[Ua]=null,Wo=Pa[--Ua],Pa[Ua]=null;for(;t===Gr;)Gr=oi[--li],oi[li]=null,Hi=oi[--li],oi[li]=null,Bi=oi[--li],oi[li]=null}function Pp(t,n){oi[li++]=Bi,oi[li++]=Hi,oi[li++]=Gr,Bi=n.id,Hi=n.overflow,Gr=t}var un=null,bt=null,Je=!1,Yr=null,ui=!1,Zh=Error(a(519));function Xr(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(ai(n,t)),Zh}function Up(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Rt]=t,n[Ut]=o,s){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<bl.length;s++)Ye(bl[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ye("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ye("invalid",n);break;case"textarea":Ye("invalid",n),Lr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||e_(n.textContent,s)?(o.popover!=null&&(Ye("beforetoggle",n),Ye("toggle",n)),o.onScroll!=null&&Ye("scroll",n),o.onScrollEnd!=null&&Ye("scrollend",n),o.onClick!=null&&(n.onclick=_i),n=!0):n=!1,n||Xr(t,!0)}function Lp(t){for(un=t.return;un;)switch(un.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:un=un.return}}function La(t){if(t!==un)return!1;if(!Je)return Lp(t),Je=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||gd(t.type,t.memoizedProps)),s=!s),s&&bt&&Xr(t),Lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=u_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=u_(t)}else n===27?(n=bt,os(t.type)?(t=Td,Td=null,bt=t):bt=n):bt=un?hi(t.stateNode.nextSibling):null;return!0}function $s(){bt=un=null,Je=!1}function Jh(){var t=Yr;return t!==null&&(Pn===null?Pn=t:Pn.push.apply(Pn,t),Yr=null),t}function el(t){Yr===null?Yr=[t]:Yr.push(t)}var Wh=E(null),Zs=null,fr=null;function Qr(t,n,s){J(Wh,n._currentValue),n._currentValue=s}function dr(t){t._currentValue=Wh.current,L(Wh)}function ef(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function tf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var D=0;D<n.length;D++)if(b.context===n[D]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),ef(f.return,s,t),o||(g=null);break e}f=b.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),ef(g,s,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function za(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var b=h.type;Hn(h.pendingProps.value,g.value)||(t!==null?t.push(b):t=[b])}}else if(h===ce.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&tf(n,t,s,o),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!Hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return zp(Zs,t)}function Pu(t,n){return Zs===null&&Js(t),zp(t,n)}function zp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},fr===null){if(t===null)throw Error(a(308));fr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else fr=fr.next=n;return s}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,Ft={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new l1,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&u1(c1,function(){t.controller.abort()})}var nl=null,rf=0,ja=0,Ba=null;function h1(t,n){if(nl===null){var s=nl=[];rf=0,ja=od(),Ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return rf++,n.then(jp,jp),n}function jp(){if(--rf===0&&nl!==null){Ba!==null&&(Ba.status="fulfilled");var t=nl;nl=null,ja=0,Ba=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function f1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bp=Q.S;Q.S=function(t,n){Ay=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(t,n),Bp!==null&&Bp(t,n)};var Ws=E(null);function sf(){var t=Ws.current;return t!==null?t:vt.pooledCache}function Uu(t,n){n===null?J(Ws,Ws.current):J(Ws,n.pool)}function Hp(){var t=sf();return t===null?null:{parent:Ft._currentValue,pool:t}}var Ha=Error(a(460)),af=Error(a(474)),Lu=Error(a(542)),zu={then:function(){}};function qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(_i,_i),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yp(t),t;default:if(typeof n.status=="string")n.then(_i,_i);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Yp(t),t}throw ta=n,Ha}}function ea(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ta=s,Ha):s}}var ta=null;function Gp(){if(ta===null)throw Error(a(459));var t=ta;return ta=null,t}function Yp(t){if(t===Ha||t===Lu)throw Error(a(483))}var qa=null,il=0;function ju(t){var n=il;return il+=1,qa===null&&(qa=[]),Fp(qa,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Xp(t){function n(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=cr(U,M),U.index=0,U.sibling=null,U}function f(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,B,ee){return M===null||M.tag!==6?(M=Xh(B,U.mode,ee),M.return=U,M):(M=h(M,B),M.return=U,M)}function D(U,M,B,ee){var Re=B.type;return Re===te?W(U,M,B.props.children,ee,B.key):M!==null&&(M.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&ea(Re)===M.type)?(M=h(M,B.props),rl(M,B),M.return=U,M):(M=Mu(B.type,B.key,B.props,null,U.mode,ee),rl(M,B),M.return=U,M)}function H(U,M,B,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Qh(B,U.mode,ee),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function W(U,M,B,ee,Re){return M===null||M.tag!==7?(M=Ks(B,U.mode,ee,Re),M.return=U,M):(M=h(M,B),M.return=U,M)}function ne(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Xh(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return B=Mu(M.type,M.key,M.props,null,U.mode,B),rl(B,M),B.return=U,B;case re:return M=Qh(M,U.mode,B),M.return=U,M;case R:return M=ea(M),ne(U,M,B)}if(ft(M)||P(M))return M=Ks(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return ne(U,ju(M),B);if(M.$$typeof===be)return ne(U,Pu(U,M),B);Bu(U,M)}return null}function F(U,M,B,ee){var Re=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Re!==null?null:b(U,M,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case q:return B.key===Re?D(U,M,B,ee):null;case re:return B.key===Re?H(U,M,B,ee):null;case R:return B=ea(B),F(U,M,B,ee)}if(ft(B)||P(B))return Re!==null?null:W(U,M,B,ee,null);if(typeof B.then=="function")return F(U,M,ju(B),ee);if(B.$$typeof===be)return F(U,M,Pu(U,B),ee);Bu(U,B)}return null}function K(U,M,B,ee,Re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(B)||null,b(M,U,""+ee,Re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case q:return U=U.get(ee.key===null?B:ee.key)||null,D(M,U,ee,Re);case re:return U=U.get(ee.key===null?B:ee.key)||null,H(M,U,ee,Re);case R:return ee=ea(ee),K(U,M,B,ee,Re)}if(ft(ee)||P(ee))return U=U.get(B)||null,W(M,U,ee,Re,null);if(typeof ee.then=="function")return K(U,M,B,ju(ee),Re);if(ee.$$typeof===be)return K(U,M,B,Pu(M,ee),Re);Bu(M,ee)}return null}function ye(U,M,B,ee){for(var Re=null,rt=null,Ee=M,He=M=0,Qe=null;Ee!==null&&He<B.length;He++){Ee.index>He?(Qe=Ee,Ee=null):Qe=Ee.sibling;var st=F(U,Ee,B[He],ee);if(st===null){Ee===null&&(Ee=Qe);break}t&&Ee&&st.alternate===null&&n(U,Ee),M=f(st,M,He),rt===null?Re=st:rt.sibling=st,rt=st,Ee=Qe}if(He===B.length)return s(U,Ee),Je&&hr(U,He),Re;if(Ee===null){for(;He<B.length;He++)Ee=ne(U,B[He],ee),Ee!==null&&(M=f(Ee,M,He),rt===null?Re=Ee:rt.sibling=Ee,rt=Ee);return Je&&hr(U,He),Re}for(Ee=o(Ee);He<B.length;He++)Qe=K(Ee,U,He,B[He],ee),Qe!==null&&(t&&Qe.alternate!==null&&Ee.delete(Qe.key===null?He:Qe.key),M=f(Qe,M,He),rt===null?Re=Qe:rt.sibling=Qe,rt=Qe);return t&&Ee.forEach(function(fs){return n(U,fs)}),Je&&hr(U,He),Re}function xe(U,M,B,ee){if(B==null)throw Error(a(151));for(var Re=null,rt=null,Ee=M,He=M=0,Qe=null,st=B.next();Ee!==null&&!st.done;He++,st=B.next()){Ee.index>He?(Qe=Ee,Ee=null):Qe=Ee.sibling;var fs=F(U,Ee,st.value,ee);if(fs===null){Ee===null&&(Ee=Qe);break}t&&Ee&&fs.alternate===null&&n(U,Ee),M=f(fs,M,He),rt===null?Re=fs:rt.sibling=fs,rt=fs,Ee=Qe}if(st.done)return s(U,Ee),Je&&hr(U,He),Re;if(Ee===null){for(;!st.done;He++,st=B.next())st=ne(U,st.value,ee),st!==null&&(M=f(st,M,He),rt===null?Re=st:rt.sibling=st,rt=st);return Je&&hr(U,He),Re}for(Ee=o(Ee);!st.done;He++,st=B.next())st=K(Ee,U,He,st.value,ee),st!==null&&(t&&st.alternate!==null&&Ee.delete(st.key===null?He:st.key),M=f(st,M,He),rt===null?Re=st:rt.sibling=st,rt=st);return t&&Ee.forEach(function(Sb){return n(U,Sb)}),Je&&hr(U,He),Re}function yt(U,M,B,ee){if(typeof B=="object"&&B!==null&&B.type===te&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case q:e:{for(var Re=B.key;M!==null;){if(M.key===Re){if(Re=B.type,Re===te){if(M.tag===7){s(U,M.sibling),ee=h(M,B.props.children),ee.return=U,U=ee;break e}}else if(M.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&ea(Re)===M.type){s(U,M.sibling),ee=h(M,B.props),rl(ee,B),ee.return=U,U=ee;break e}s(U,M);break}else n(U,M);M=M.sibling}B.type===te?(ee=Ks(B.props.children,U.mode,ee,B.key),ee.return=U,U=ee):(ee=Mu(B.type,B.key,B.props,null,U.mode,ee),rl(ee,B),ee.return=U,U=ee)}return g(U);case re:e:{for(Re=B.key;M!==null;){if(M.key===Re)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){s(U,M.sibling),ee=h(M,B.children||[]),ee.return=U,U=ee;break e}else{s(U,M);break}else n(U,M);M=M.sibling}ee=Qh(B,U.mode,ee),ee.return=U,U=ee}return g(U);case R:return B=ea(B),yt(U,M,B,ee)}if(ft(B))return ye(U,M,B,ee);if(P(B)){if(Re=P(B),typeof Re!="function")throw Error(a(150));return B=Re.call(B),xe(U,M,B,ee)}if(typeof B.then=="function")return yt(U,M,ju(B),ee);if(B.$$typeof===be)return yt(U,M,Pu(U,B),ee);Bu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(s(U,M.sibling),ee=h(M,B),ee.return=U,U=ee):(s(U,M),ee=Xh(B,U.mode,ee),ee.return=U,U=ee),g(U)):s(U,M)}return function(U,M,B,ee){try{il=0;var Re=yt(U,M,B,ee);return qa=null,Re}catch(Ee){if(Ee===Ha||Ee===Lu)throw Ee;var rt=qn(29,Ee,null,U.mode);return rt.lanes=ee,rt.return=U,rt}finally{}}}var na=Xp(!0),Qp=Xp(!1),Kr=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ot&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ou(t),Np(t,null,s),n}return Nu(t,o,n,s),Ou(t)}function sl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Oi(t,s)}}function uf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var cf=!1;function al(){if(cf){var t=Ba;if(t!==null)throw t}}function ol(t,n,s,o){cf=!1;var h=t.updateQueue;Kr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,H=D.next;D.next=null,g===null?f=H:g.next=H,g=D;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==g&&(b===null?W.firstBaseUpdate=H:b.next=H,W.lastBaseUpdate=D))}if(f!==null){var ne=h.baseState;g=0,W=H=D=null,b=f;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(Xe&F)===F:(o&F)===F){F!==0&&F===ja&&(cf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=t,xe=b;F=n;var yt=s;switch(xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){ne=ye.call(yt,ne,F);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,F=typeof ye=="function"?ye.call(yt,ne,F):ye,F==null)break e;ne=w({},ne,F);break e;case 2:Kr=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(H=W=K,D=ne):W=W.next=K,g|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(D=ne),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),ns|=g,t.lanes=g,t.memoizedState=ne}}function Kp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function $p(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Kp(s[t],n)}var Fa=E(null),Hu=E(0);function Zp(t,n){t=br,J(Hu,t),J(Fa,n),br=t|n.baseLanes}function hf(){J(Hu,br),J(Fa,Fa.current)}function ff(){br=Hu.current,L(Fa),L(Hu)}var Fn=E(null),ci=null;function Jr(t){var n=t.alternate;J(zt,zt.current&1),J(Fn,t),ci===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(ci=t)}function df(t){J(zt,zt.current),J(Fn,t),ci===null&&(ci=t)}function Jp(t){t.tag===22?(J(zt,zt.current),J(Fn,t),ci===null&&(ci=t)):Wr()}function Wr(){J(zt,zt.current),J(Fn,Fn.current)}function Gn(t){L(Fn),ci===t&&(ci=null),L(zt)}var zt=E(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vd(s)||Ed(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var mr=0,je=null,pt=null,Gt=null,Fu=!1,Ga=!1,ia=!1,Gu=0,ll=0,Ya=null,d1=0;function kt(){throw Error(a(321))}function mf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Hn(t[s],n[s]))return!1;return!0}function pf(t,n,s,o,h,f){return mr=f,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?kg:xf,ia=!1,f=s(o,h),ia=!1,Ga&&(f=eg(n,s,o,h)),Wp(t),f}function Wp(t){Q.H=hl;var n=pt!==null&&pt.next!==null;if(mr=0,Gt=pt=je=null,Fu=!1,ll=0,Ya=null,n)throw Error(a(300));t===null||Yt||(t=t.dependencies,t!==null&&ku(t)&&(Yt=!0))}function eg(t,n,s,o){je=t;var h=0;do{if(Ga&&(Ya=null),ll=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Gt=pt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Pg,f=n(s,o)}while(Ga);return f}function m1(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(je.flags|=1024),n}function gf(){var t=Gu!==0;return Gu=0,t}function yf(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function _f(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}mr=0,Gt=pt=je=null,Ga=!1,ll=Gu=0,Ya=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function jt(){if(pt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var n=Gt===null?je.memoizedState:Gt.next;if(n!==null)Gt=n,pt=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?je.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=ll;return ll+=1,Ya===null&&(Ya=[]),t=Fp(Ya,t,n),n=je,(Gt===null?n.memoizedState:Gt.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?kg:xf),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===be)return cn(t)}throw Error(a(438,String(t)))}function vf(t){var n=null,s=je.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Yu(),je.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function pr(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=jt();return Ef(n,pt,t)}function Ef(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=g=null,D=null,H=n,W=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Xe&ne)===ne:(mr&ne)===ne){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===ja&&(W=!0);else if((mr&F)===F){H=H.next,F===ja&&(W=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=ne,g=f):D=D.next=ne,je.lanes|=F,ns|=F;ne=H.action,ia&&s(f,ne),f=H.hasEagerState?H.eagerState:s(f,ne)}else F={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=F,g=f):D=D.next=F,je.lanes|=ne,ns|=ne;H=H.next}while(H!==null&&H!==n);if(D===null?g=f:D.next=b,!Hn(f,t.memoizedState)&&(Yt=!0,W&&(s=Ba,s!==null)))throw s;t.memoizedState=f,t.baseState=g,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Tf(t){var n=jt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);Hn(f,n.memoizedState)||(Yt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tg(t,n,s){var o=je,h=jt(),f=Je;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Hn((pt||h).memoizedState,s);if(g&&(h.memoizedState=s,Yt=!0),h=h.queue,Af(rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Gt!==null&&Gt.memoizedState.tag&1){if(o.flags|=2048,Xa(9,{destroy:void 0},ig.bind(null,o,h,s,n),null),vt===null)throw Error(a(349));f||(mr&127)!==0||ng(o,n,s)}return s}function ng(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=je.updateQueue,n===null?(n=Yu(),je.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function ig(t,n,s,o){n.value=s,n.getSnapshot=o,sg(n)&&ag(t)}function rg(t,n,s){return s(function(){sg(n)&&ag(t)})}function sg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Hn(t,s)}catch{return!0}}function ag(t){var n=Qs(t,2);n!==null&&Un(n,t,2)}function bf(t){var n=Rn();if(typeof t=="function"){var s=t;if(t=s(),ia){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:t},n}function og(t,n,s,o){return t.baseState=s,Ef(t,pt,typeof o=="function"?o:pr)}function p1(t,n,s,o,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,lg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function lg(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var b=s(h,o),D=Q.S;D!==null&&D(g,b),ug(t,n,b)}catch(H){Sf(t,n,H)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(h,o),ug(t,n,f)}catch(H){Sf(t,n,H)}}function ug(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){cg(t,n,o)},function(o){return Sf(t,n,o)}):cg(t,n,s)}function cg(t,n,s){n.status="fulfilled",n.value=s,hg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,lg(t,s)))}function Sf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,hg(n),n=n.next;while(n!==o)}t.action=null}function hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function dg(t,n){if(Je){var s=vt.formState;if(s!==null){e:{var o=je;if(Je){if(bt){t:{for(var h=bt,f=ui;h.nodeType!==8;){if(!f){h=null;break t}if(h=hi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=hi(h.nextSibling),o=h.data==="F!";break e}}Xr(o)}o=!1}o&&(n=s[0])}}return s=Rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},s.queue=o,s=Og.bind(null,je,o),o.dispatch=s,o=bf(!1),f=Df.bind(null,je,!1,o.queue),o=Rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=p1.bind(null,je,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function mg(t){var n=jt();return pg(n,pt,t)}function pg(t,n,s){if(n=Ef(t,n,fg)[0],t=Qu(pr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ul(n)}catch(g){throw g===Ha?Lu:g}else o=n;n=jt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(je.flags|=2048,Xa(9,{destroy:void 0},g1.bind(null,h,s),null)),[o,f,t]}function g1(t,n){t.action=n}function gg(t){var n=jt(),s=pt;if(s!==null)return pg(n,s,t);jt(),n=n.memoizedState,s=jt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Xa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=je.updateQueue,n===null&&(n=Yu(),je.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function yg(){return jt().memoizedState}function Ku(t,n,s,o){var h=Rn();je.flags|=t,h.memoizedState=Xa(1|n,{destroy:void 0},s,o===void 0?null:o)}function $u(t,n,s,o){var h=jt();o=o===void 0?null:o;var f=h.memoizedState.inst;pt!==null&&o!==null&&mf(o,pt.memoizedState.deps)?h.memoizedState=Xa(n,f,s,o):(je.flags|=t,h.memoizedState=Xa(1|n,f,s,o))}function _g(t,n){Ku(8390656,8,t,n)}function Af(t,n){$u(2048,8,t,n)}function y1(t){je.flags|=4;var n=je.updateQueue;if(n===null)n=Yu(),je.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function vg(t){var n=jt().memoizedState;return y1({ref:n,nextImpl:t}),function(){if((ot&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Eg(t,n){return $u(4,2,t,n)}function Tg(t,n){return $u(4,4,t,n)}function bg(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,s){s=s!=null?s.concat([t]):null,$u(4,4,bg.bind(null,n,t),s)}function wf(){}function Ag(t,n){var s=jt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function wg(t,n){var s=jt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=t(),ia){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[o,n],o}function Rf(t,n,s){return s===void 0||(mr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ry(),je.lanes|=t,ns|=t,s)}function Rg(t,n,s,o){return Hn(s,n)?s:Fa.current!==null?(t=Rf(t,s,o),Hn(t,n)||(Yt=!0),t):(mr&42)===0||(mr&1073741824)!==0&&(Xe&261930)===0?(Yt=!0,t.memoizedState=s):(t=Ry(),je.lanes|=t,ns|=t,n)}function Cg(t,n,s,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=Q.T,b={};Q.T=b,Df(t,!1,n,s);try{var D=h(),H=Q.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=f1(D,o);cl(t,n,W,Qn(t))}else cl(t,n,o,Qn(t))}catch(ne){cl(t,n,{then:function(){},status:"rejected",reason:ne},Qn())}finally{$.p=f,g!==null&&b.types!==null&&(g.types=b.types),Q.T=g}}function _1(){}function Cf(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Ig(t).queue;Cg(t,h,n,le,s===null?_1:function(){return Dg(t),s(o)})}function Ig(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:le},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=Ig(t);n.next===null&&(n=t.alternate.memoizedState),cl(t,n.next.queue,{},Qn())}function If(){return cn(Cl)}function xg(){return jt().memoizedState}function Ng(){return jt().memoizedState}function v1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Qn();t=$r(s);var o=Zr(n,t,s);o!==null&&(Un(o,n,s),sl(o,n,s)),n={cache:nf()},t.payload=n;return}n=n.return}}function E1(t,n,s){var o=Qn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Mg(n,s):(s=Gh(t,n,s,o),s!==null&&(Un(s,t,o),Vg(s,n,o)))}function Og(t,n,s){var o=Qn();cl(t,n,s,o)}function cl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Mg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,s);if(h.hasEagerState=!0,h.eagerState=b,Hn(b,g))return Nu(t,n,h,0),vt===null&&xu(),!1}catch{}finally{}if(s=Gh(t,n,h,o),s!==null)return Un(s,t,o),Vg(s,n,o),!0}return!1}function Df(t,n,s,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Gh(t,s,o,2),n!==null&&Un(n,t,2)}function Zu(t){var n=t.alternate;return t===je||n!==null&&n===je}function Mg(t,n){Ga=Fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Vg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Oi(t,s)}}var hl={readContext:cn,use:Xu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};hl.useEffectEvent=kt;var kg={readContext:cn,use:Xu,useCallback:function(t,n){return Rn().memoizedState=[t,n===void 0?null:n],t},useContext:cn,useEffect:_g,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Ku(4194308,4,bg.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var s=Rn();n=n===void 0?null:n;var o=t();if(ia){An(!0);try{t()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Rn();if(s!==void 0){var h=s(n);if(ia){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=E1.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var n=Rn();return t={current:t},n.memoizedState=t},useState:function(t){t=bf(t);var n=t.queue,s=Og.bind(null,je,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:wf,useDeferredValue:function(t,n){var s=Rn();return Rf(s,t,n)},useTransition:function(){var t=bf(!1);return t=Cg.bind(null,je,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=je,h=Rn();if(Je){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),vt===null)throw Error(a(349));(Xe&127)!==0||ng(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,_g(rg.bind(null,o,f,t),[t]),o.flags|=2048,Xa(9,{destroy:void 0},ig.bind(null,o,f,s,n),null),s},useId:function(){var t=Rn(),n=vt.identifierPrefix;if(Je){var s=Hi,o=Bi;s=(o&~(1<<32-Ot(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=d1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:If,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=Rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Df.bind(null,je,!0,s),s.dispatch=n,[t,n]},useMemoCache:vf,useCacheRefresh:function(){return Rn().memoizedState=v1.bind(null,je)},useEffectEvent:function(t){var n=Rn(),s={impl:t};return n.memoizedState=s,function(){if((ot&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:cn,use:Xu,useCallback:Ag,useContext:cn,useEffect:Af,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Qu,useRef:yg,useState:function(){return Qu(pr)},useDebugValue:wf,useDeferredValue:function(t,n){var s=jt();return Rg(s,pt.memoizedState,t,n)},useTransition:function(){var t=Qu(pr)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:tg,useId:xg,useHostTransitionStatus:If,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var s=jt();return og(s,pt,t,n)},useMemoCache:vf,useCacheRefresh:Ng};xf.useEffectEvent=vg;var Pg={readContext:cn,use:Xu,useCallback:Ag,useContext:cn,useEffect:Af,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:Tf,useRef:yg,useState:function(){return Tf(pr)},useDebugValue:wf,useDeferredValue:function(t,n){var s=jt();return pt===null?Rf(s,t,n):Rg(s,pt.memoizedState,t,n)},useTransition:function(){var t=Tf(pr)[0],n=jt().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:tg,useId:xg,useHostTransitionStatus:If,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var s=jt();return pt!==null?og(s,pt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Ng};Pg.useEffectEvent=vg;function Nf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Of={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Qn(),h=$r(o);h.payload=n,s!=null&&(h.callback=s),n=Zr(t,h,o),n!==null&&(Un(n,t,o),sl(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Qn(),h=$r(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Zr(t,h,o),n!==null&&(Un(n,t,o),sl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Qn(),o=$r(s);o.tag=2,n!=null&&(o.callback=n),n=Zr(t,o,s),n!==null&&(Un(n,t,s),sl(n,t,s))}};function Ug(t,n,s,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(s,o)||!Zo(h,f):!0}function Lg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Of.enqueueReplaceState(n,n.state,null)}function ra(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zg(t){Du(t)}function jg(t){console.error(t)}function Bg(t){Du(t)}function Ju(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Hg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,n,s){return s=$r(s),s.tag=3,s.payload={element:null},s.callback=function(){Ju(t,n)},s}function qg(t){return t=$r(t),t.tag=3,t}function Fg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Hg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Hg(n,s,o),typeof h!="function"&&(is===null?is=new Set([this]):is.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function T1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&za(n,s,h,!0),s=Fn.current,s!==null){switch(s.tag){case 31:case 13:return ci===null?cc():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),rd(t,o,h)),!1;case 22:return s.flags|=65536,o===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),rd(t,o,h)),!1}throw Error(a(435,s.tag))}return rd(t,o,h),cc(),!1}if(Je)return n=Fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(t=Error(a(422),{cause:o}),el(ai(t,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),el(ai(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ai(o,s),h=Mf(t.stateNode,o,h),uf(t,h),Pt!==4&&(Pt=2)),!1;var f=Error(a(520),{cause:o});if(f=ai(f,s),vl===null?vl=[f]:vl.push(f),Pt!==4&&(Pt=2),n===null)return!0;o=ai(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Mf(s.stateNode,o,t),uf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(is===null||!is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=qg(h),Fg(h,t,s,o),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Vf=Error(a(461)),Yt=!1;function hn(t,n,s,o){n.child=t===null?Qp(n,null,s,o):na(n,t.child,s,o)}function Gg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Js(n),o=pf(t,n,s,g,f,h),b=gf(),t!==null&&!Yt?(yf(t,n,h),gr(t,n,h)):(Je&&b&&Kh(n),n.flags|=1,hn(t,n,o,h),n.child)}function Yg(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xg(t,n,f,o,h)):(t=Mu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hf(t,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Zo,s(g,o)&&t.ref===n.ref)return gr(t,n,h)}return n.flags|=1,t=cr(f,o),t.ref=n.ref,t.return=n,n.child=t}function Xg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Zo(f,o)&&t.ref===n.ref)if(Yt=!1,n.pendingProps=o=f,Hf(t,h))(t.flags&131072)!==0&&(Yt=!0);else return n.lanes=t.lanes,gr(t,n,h)}return kf(t,n,s,o,h)}function Qg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kg(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?Zp(n,f):hf(),Jp(n);else return o=n.lanes=536870912,Kg(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),Zp(n,f),Wr(),n.memoizedState=null):(t!==null&&Uu(n,null),hf(),Wr());return hn(t,n,h,s),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kg(t,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ft._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Uu(n,null),hf(),Jp(n),t!==null&&za(t,n,o,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function $g(t,n,s){return na(n,t.child,null,s),t=Wu(n,n.pendingProps),t.flags|=2,Gn(n),n.memoizedState=null,t}function b1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Je){if(o.mode==="hidden")return t=Wu(n,o),n.lanes=536870912,fl(null,t);if(df(n),(t=bt)?(t=l_(t,ui),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Mp(t),s.return=n,n.child=s,un=n,bt=null)):t=null,t===null)throw Xr(n);return n.lanes=536870912,null}return Wu(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=$g(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Yt||za(t,n,s,!1),h=(s&t.childLanes)!==0,Yt||h){if(o=vt,o!==null&&(g=ks(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Qs(t,g),Un(o,t,g),Vf;cc(),n=$g(t,n,s)}else t=f.treeContext,bt=hi(g.nextSibling),un=n,Je=!0,Yr=null,ui=!1,t!==null&&Pp(n,t),n=Wu(n,o),n.flags|=4096;return n}return t=cr(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function kf(t,n,s,o,h){return Js(n),s=pf(t,n,s,o,void 0,h),o=gf(),t!==null&&!Yt?(yf(t,n,h),gr(t,n,h)):(Je&&o&&Kh(n),n.flags|=1,hn(t,n,s,h),n.child)}function Zg(t,n,s,o,h,f){return Js(n),n.updateQueue=null,s=eg(n,o,s,h),Wp(t),o=gf(),t!==null&&!Yt?(yf(t,n,f),gr(t,n,f)):(Je&&o&&Kh(n),n.flags|=1,hn(t,n,s,f),n.child)}function Jg(t,n,s,o,h){if(Js(n),n.stateNode===null){var f=ka,g=s.contextType;typeof g=="object"&&g!==null&&(f=cn(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?cn(g):ka,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),ol(n,o,f,h),al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,D=ra(s,b);f.props=D;var H=f.context,W=s.contextType;g=ka,typeof W=="object"&&W!==null&&(g=cn(W));var ne=s.getDerivedStateFromProps;W=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||H!==g)&&Lg(n,f,o,g),Kr=!1;var F=n.memoizedState;f.state=F,ol(n,o,f,h),al(),H=n.memoizedState,b||F!==H||Kr?(typeof ne=="function"&&(Nf(n,s,ne,o),H=n.memoizedState),(D=Kr||Ug(n,s,D,o,F,H,g))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=g,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(t,n),g=n.memoizedProps,W=ra(s,g),f.props=W,ne=n.pendingProps,F=f.context,H=s.contextType,D=ka,typeof H=="object"&&H!==null&&(D=cn(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ne||F!==D)&&Lg(n,f,o,D),Kr=!1,F=n.memoizedState,f.state=F,ol(n,o,f,h),al();var K=n.memoizedState;g!==ne||F!==K||Kr||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof b=="function"&&(Nf(n,s,b,o),K=n.memoizedState),(W=Kr||Ug(n,s,W,o,F,K,D)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,K,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,K,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=K),f.props=o,f.state=K,f.context=D,o=W):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ec(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=na(n,t.child,null,h),n.child=na(n,null,s,h)):hn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=gr(t,n,h),t}function Wg(t,n,s,o){return $s(),n.flags|=256,hn(t,n,s,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Hp()}}function Lf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Xn),t}function ey(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Je){if(h?Jr(n):Wr(),(t=bt)?(t=l_(t,ui),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},s=Mp(t),s.return=n,n.child=s,un=n,bt=null)):t=null,t===null)throw Xr(n);return Ed(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Wr(),h=n.mode,b=tc({mode:"hidden",children:b},h),o=Ks(o,h,s,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=Pf,fl(null,o)):(Jr(n),zf(n,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)n.flags&256?(Jr(n),n.flags&=-257,n=jf(t,n,s)):n.memoizedState!==null?(Wr(),n.child=t.child,n.flags|=128,n=null):(Wr(),b=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),b=Ks(b,h,s,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,na(n,t.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(t,g,s),n.memoizedState=Pf,n=fl(null,o));else if(Jr(n),Ed(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var H=g.dgst;g=H,o=Error(a(419)),o.stack="",o.digest=g,el({value:o,source:null,stack:null}),n=jf(t,n,s)}else if(Yt||za(t,n,s,!1),g=(s&t.childLanes)!==0,Yt||g){if(g=vt,g!==null&&(o=ks(g,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,Qs(t,o),Un(g,t,o),Vf;vd(b)||cc(),n=jf(t,n,s)}else vd(b)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,bt=hi(b.nextSibling),un=n,Je=!0,Yr=null,ui=!1,t!==null&&Pp(n,t),n=zf(n,o.children),n.flags|=4096);return n}return h?(Wr(),b=o.fallback,h=n.mode,D=t.child,H=D.sibling,o=cr(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,H!==null?b=cr(H,b):(b=Ks(b,h,s,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,fl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Uf(s):(h=b.cachePool,h!==null?(D=Ft._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Hp(),b={baseLanes:b.baseLanes|s,cachePool:h}),o.memoizedState=b,o.childLanes=Lf(t,g,s),n.memoizedState=Pf,fl(t.child,o)):(Jr(n),s=t.child,t=s.sibling,s=cr(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function zf(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=qn(22,t,null,n),t.lanes=0,t}function jf(t,n,s){return na(n,t.child,null,s),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ty(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),ef(t.return,n,s)}function Bf(t,n,s,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ny(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=zt.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,J(zt,g),hn(t,n,o,s),o=Je?Wo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ty(t,s,n);else if(t.tag===19)ty(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&qu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Bf(n,!0,s,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function gr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ns|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(za(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=cr(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=cr(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function S1(t,n,s){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Qr(n,Ft,t.memoizedState.cache),$s();break;case 27:case 5:Pe(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Qr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Jr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ey(t,n,s):(Jr(n),t=gr(t,n,s),t!==null?t.sibling:null);Jr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(za(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ny(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(zt,zt.current),o)break;return null;case 22:return n.lanes=0,Qg(t,n,s,n.pendingProps);case 24:Qr(n,Ft,t.memoizedState.cache)}return gr(t,n,s)}function iy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Yt=!0;else{if(!Hf(t,s)&&(n.flags&128)===0)return Yt=!1,S1(t,n,s);Yt=(t.flags&131072)!==0}else Yt=!1,Je&&(n.flags&1048576)!==0&&kp(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ea(n.elementType),n.type=t,typeof t=="function")Yh(t)?(o=ra(t,o),n.tag=1,n=Jg(null,n,t,o,s)):(n.tag=0,n=kf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Be){n.tag=11,n=Gg(null,n,t,o,s);break e}else if(h===T){n.tag=14,n=Yg(null,n,t,o,s);break e}}throw n=nt(t)||t,Error(a(306,n,""))}}return n;case 0:return kf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ra(o,n.pendingProps),Jg(t,n,o,h,s);case 3:e:{if(Ae(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(t,n),ol(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Qr(n,Ft,o),o!==f.cache&&tf(n,[Ft],s,!0),al(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Wg(t,n,o,s);break e}else if(o!==h){h=ai(Error(a(424)),n),el(h),n=Wg(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=hi(t.firstChild),un=n,Je=!0,Yr=null,ui=!0,s=Qp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if($s(),o===h){n=gr(t,n,s);break e}hn(t,n,o,s)}n=n.child}return n;case 26:return ec(t,n),t===null?(s=m_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Je||(s=n.type,t=n.pendingProps,o=yc(fe.current).createElement(s),o[Rt]=n,o[Ut]=t,fn(o,s,t),qe(o),n.stateNode=o):n.memoizedState=m_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pe(n),t===null&&Je&&(o=n.stateNode=h_(n.type,n.pendingProps,fe.current),un=n,ui=!0,h=bt,os(n.type)?(Td=h,bt=hi(o.firstChild)):bt=h),hn(t,n,n.pendingProps.children,s),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Je&&((h=o=bt)&&(o=W1(o,n.type,n.pendingProps,ui),o!==null?(n.stateNode=o,un=n,bt=hi(o.firstChild),ui=!1,h=!0):h=!1),h||Xr(n)),Pe(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(t,n,m1,null,null,s),Cl._currentValue=h),ec(t,n),hn(t,n,o,s),n.child;case 6:return t===null&&Je&&((t=s=bt)&&(s=eb(s,n.pendingProps,ui),s!==null?(n.stateNode=s,un=n,bt=null,t=!0):t=!1),t||Xr(n)),null;case 13:return ey(t,n,s);case 4:return Ae(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=na(n,null,o,s):hn(t,n,o,s),n.child;case 11:return Gg(t,n,n.type,n.pendingProps,s);case 7:return hn(t,n,n.pendingProps,s),n.child;case 8:return hn(t,n,n.pendingProps.children,s),n.child;case 12:return hn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Qr(n,n.type,o.value),hn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Js(n),h=cn(h),o=o(h),n.flags|=1,hn(t,n,o,s),n.child;case 14:return Yg(t,n,n.type,n.pendingProps,s);case 15:return Xg(t,n,n.type,n.pendingProps,s);case 19:return ny(t,n,s);case 31:return b1(t,n,s);case 22:return Qg(t,n,s,n.pendingProps);case 24:return Js(n),o=cn(Ft),t===null?(h=sf(),h===null&&(h=vt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},of(n),Qr(n,Ft,h)):((t.lanes&s)!==0&&(lf(t,n),ol(n,null,null,s),al()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qr(n,Ft,o)):(o=f.cache,Qr(n,Ft,o),o!==h.cache&&tf(n,[Ft],s,!0))),hn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function yr(t){t.flags|=4}function qf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(xy())t.flags|=8192;else throw ta=zu,af}else t.flags&=-16777217}function ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v_(n))if(xy())t.flags|=8192;else throw ta=zu,af}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?kr():536870912,t.lanes|=n,Za|=n)}function dl(t,n){if(!Je)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function St(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function A1(t,n,s){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(n),null;case 1:return St(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),dr(Ft),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(La(n)?yr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),St(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(yr(n),f!==null?(St(n),ry(n,f)):(St(n),qf(n,h,null,o,s))):f?f!==t.memoizedState?(yr(n),St(n),ry(n,f)):(St(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&yr(n),St(n),qf(n,h,t,o,s)),null;case 27:if(pe(n),s=fe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&yr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}t=se.current,La(n)?Up(n):(t=h_(h,o,s),n.stateNode=t,yr(n))}return St(n),null;case 5:if(pe(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&yr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return St(n),null}if(f=se.current,La(n))Up(n);else{var g=yc(fe.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Rt]=n,f[Ut]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(fn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&yr(n)}}return St(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&yr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=fe.current,La(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Rt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||e_(t.nodeValue,s)),t||Xr(n,!0)}else t=yc(t).createTextNode(o),t[Rt]=n,n.stateNode=t}return St(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=La(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Rt]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),t=!1}else s=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Gn(n),n):(Gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return St(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=La(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Rt]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;St(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Gn(n),n):(Gn(n),null)}return Gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),nc(n,n.updateQueue),St(n),null);case 4:return _e(),t===null&&hd(n.stateNode.containerInfo),St(n),null;case 10:return dr(n.type),St(n),null;case 19:if(L(zt),o=n.memoizedState,o===null)return St(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)dl(o,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,dl(o,!1),t=f.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Op(s,t),s=s.sibling;return J(zt,zt.current&1|2),Je&&hr(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Nt()>oc&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Je)return St(n),null}else 2*Nt()-o.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,dl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,s=zt.current,J(zt,h?s&1|2:s&1),Je&&hr(n,o.treeForkCount),t):(St(n),null);case 22:case 23:return Gn(n),ff(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(St(n),n.subtreeFlags&6&&(n.flags|=8192)):St(n),s=n.updateQueue,s!==null&&nc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&L(Ws),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),dr(Ft),St(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w1(t,n){switch($h(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return dr(Ft),_e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pe(n),null;case 31:if(n.memoizedState!==null){if(Gn(n),n.alternate===null)throw Error(a(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return L(zt),null;case 4:return _e(),null;case 10:return dr(n.type),null;case 22:case 23:return Gn(n),ff(),t!==null&&L(Ws),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return dr(Ft),null;case 25:return null;default:return null}}function sy(t,n){switch($h(n),n.tag){case 3:dr(Ft),_e();break;case 26:case 27:case 5:pe(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&Gn(n);break;case 13:Gn(n);break;case 19:L(zt);break;case 10:dr(n.type);break;case 22:case 23:Gn(n),ff(),t!==null&&L(Ws);break;case 24:dr(Ft)}}function ml(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(b){ht(n,n.return,b)}}function es(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,h=n;var D=s,H=b;try{H()}catch(W){ht(h,D,W)}}}o=o.next}while(o!==f)}}catch(W){ht(n,n.return,W)}}function ay(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{$p(n,s)}catch(o){ht(t,t.return,o)}}}function oy(t,n,s){s.props=ra(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ht(t,n,o)}}function pl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ht(t,n,h)}}function qi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ht(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ht(t,n,h)}else s.current=null}function ly(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ht(t,t.return,h)}}function Ff(t,n,s){try{var o=t.stateNode;X1(o,t.type,s,n),o[Ut]=n}catch(h){ht(t,t.return,h)}}function uy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&os(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=_i));else if(o!==4&&(o===27&&os(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Yf(t,n,s),t=t.sibling;t!==null;)Yf(t,n,s),t=t.sibling}function ic(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&os(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ic(t,n,s),t=t.sibling;t!==null;)ic(t,n,s),t=t.sibling}function cy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,o,s),n[Rt]=t,n[Ut]=s}catch(f){ht(t,t.return,f)}}var _r=!1,Xt=!1,Xf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function R1(t,n){if(t=t.containerInfo,md=Ac,t=Sp(t),zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var g=0,b=-1,D=-1,H=0,W=0,ne=t,F=null;t:for(;;){for(var K;ne!==s||h!==0&&ne.nodeType!==3||(b=g+h),ne!==f||o!==0&&ne.nodeType!==3||(D=g+o),ne.nodeType===3&&(g+=ne.nodeValue.length),(K=ne.firstChild)!==null;)F=ne,ne=K;for(;;){if(ne===t)break t;if(F===s&&++H===h&&(b=g),F===f&&++W===o&&(D=g),(K=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=K}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(pd={focusedElem:t,selectionRange:s},Ac=!1,sn=n;sn!==null;)if(n=sn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,sn=t;else for(;sn!==null;){switch(n=sn,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ye=ra(s.type,h);t=o.getSnapshotBeforeUpdate(ye,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(xe){ht(s,s.return,xe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)_d(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,sn=t;break}sn=n.return}}function fy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Er(t,s),o&4&&ml(5,s);break;case 1:if(Er(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){ht(s,s.return,g)}else{var h=ra(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ht(s,s.return,g)}}o&64&&ay(s),o&512&&pl(s,s.return);break;case 3:if(Er(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$p(t,n)}catch(g){ht(s,s.return,g)}}break;case 27:n===null&&o&4&&cy(s);case 26:case 5:Er(t,s),n===null&&o&4&&ly(s),o&512&&pl(s,s.return);break;case 12:Er(t,s);break;case 31:Er(t,s),o&4&&py(t,s);break;case 13:Er(t,s),o&4&&gy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=k1.bind(null,s),tb(t,s))));break;case 22:if(o=s.memoizedState!==null||_r,!o){n=n!==null&&n.memoizedState!==null||Xt,h=_r;var f=Xt;_r=o,(Xt=n)&&!f?Tr(t,s,(s.subtreeFlags&8772)!==0):Er(t,s),_r=h,Xt=f}break;case 30:break;default:Er(t,s)}}function dy(t){var n=t.alternate;n!==null&&(t.alternate=null,dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Z(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Mn=!1;function vr(t,n,s){for(s=s.child;s!==null;)my(t,n,s),s=s.sibling}function my(t,n,s){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(tn,s)}catch{}switch(s.tag){case 26:Xt||qi(s,n),vr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xt||qi(s,n);var o=It,h=Mn;os(s.type)&&(It=s.stateNode,Mn=!1),vr(t,n,s),Al(s.stateNode),It=o,Mn=h;break;case 5:Xt||qi(s,n);case 6:if(o=It,h=Mn,It=null,vr(t,n,s),It=o,Mn=h,It!==null)if(Mn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(s.stateNode)}catch(f){ht(s,n,f)}else try{It.removeChild(s.stateNode)}catch(f){ht(s,n,f)}break;case 18:It!==null&&(Mn?(t=It,a_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),so(t)):a_(It,s.stateNode));break;case 4:o=It,h=Mn,It=s.stateNode.containerInfo,Mn=!0,vr(t,n,s),It=o,Mn=h;break;case 0:case 11:case 14:case 15:es(2,s,n),Xt||es(4,s,n),vr(t,n,s);break;case 1:Xt||(qi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&oy(s,n,o)),vr(t,n,s);break;case 21:vr(t,n,s);break;case 22:Xt=(o=Xt)||s.memoizedState!==null,vr(t,n,s),Xt=o;break;default:vr(t,n,s)}}function py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(s){ht(n,n.return,s)}}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(s){ht(n,n.return,s)}}function C1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new hy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new hy),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var s=C1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=P1.bind(null,t,o);o.then(h,h)}})}function Vn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,g=n,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(os(b.type)){It=b.stateNode,Mn=!1;break e}break;case 5:It=b.stateNode,Mn=!1;break e;case 3:case 4:It=b.stateNode.containerInfo,Mn=!0;break e}b=b.return}if(It===null)throw Error(a(160));my(f,g,h),It=null,Mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)yy(n,t),n=n.sibling}var Ai=null;function yy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(n,t),kn(t),o&4&&(es(3,t,t.return),ml(3,t),es(5,t,t.return));break;case 1:Vn(n,t),kn(t),o&512&&(Xt||s===null||qi(s,s.return)),o&64&&_r&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ai;if(Vn(n,t),kn(t),o&512&&(Xt||s===null||qi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Y]||f[Rt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,o,s),f[Rt]=t,qe(f),o=f;break e;case"link":var g=y_("link","href",h).get(o+(s.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(b,1);break t}}f=h.createElement(o),fn(f,o,s),h.head.appendChild(f);break;case"meta":if(g=y_("meta","content",h).get(o+(s.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(b,1);break t}}f=h.createElement(o),fn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Rt]=t,qe(f),o=f}t.stateNode=o}else __(h,t.type,t.stateNode);else t.stateNode=g_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?__(h,t.type,t.stateNode):g_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,s.memoizedProps)}break;case 27:Vn(n,t),kn(t),o&512&&(Xt||s===null||qi(s,s.return)),s!==null&&o&4&&Ff(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Vn(n,t),kn(t),o&512&&(Xt||s===null||qi(s,s.return)),t.flags&32){h=t.stateNode;try{On(h,"")}catch(ye){ht(t,t.return,ye)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Xf=!0);break;case 6:if(Vn(n,t),kn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ye){ht(t,t.return,ye)}}break;case 3:if(Ec=null,h=Ai,Ai=_c(n.containerInfo),Vn(n,t),Ai=h,kn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{so(n.containerInfo)}catch(ye){ht(t,t.return,ye)}Xf&&(Xf=!1,_y(t));break;case 4:o=Ai,Ai=_c(t.stateNode.containerInfo),Vn(n,t),kn(t),Ai=o;break;case 12:Vn(n,t),kn(t);break;case 31:Vn(n,t),kn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 13:Vn(n,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ac=Nt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,H=_r,W=Xt;if(_r=H||h,Xt=W||D,Vn(n,t),Xt=W,_r=H,kn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||_r||Xt||sa(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=D.stateNode;var ne=D.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ye){ht(D,D.return,ye)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ye){ht(D,D.return,ye)}}}else if(n.tag===18){if(s===null){D=n;try{var K=D.stateNode;h?o_(K,!0):o_(D.stateNode,!1)}catch(ye){ht(D,D.return,ye)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,rc(t,s))));break;case 19:Vn(n,t),kn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,rc(t,o)));break;case 30:break;case 21:break;default:Vn(n,t),kn(t)}}function kn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(uy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(t);ic(t,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(On(g,""),s.flags&=-33);var b=Gf(t);ic(t,b,g);break;case 3:case 4:var D=s.stateNode.containerInfo,H=Gf(t);Yf(t,H,D);break;default:throw Error(a(161))}}catch(W){ht(t,t.return,W)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_y(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Er(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(t,n.alternate,n),n=n.sibling}function sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:es(4,n,n.return),sa(n);break;case 1:qi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&oy(n,n.return,s),sa(n);break;case 27:Al(n.stateNode);case 26:case 5:qi(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}t=t.sibling}}function Tr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Tr(h,f,s),ml(4,f);break;case 1:if(Tr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){ht(o,o.return,H)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Kp(D[h],b)}catch(H){ht(o,o.return,H)}}s&&g&64&&ay(f),pl(f,f.return);break;case 27:cy(f);case 26:case 5:Tr(h,f,s),s&&o===null&&g&4&&ly(f),pl(f,f.return);break;case 12:Tr(h,f,s);break;case 31:Tr(h,f,s),s&&g&4&&py(h,f);break;case 13:Tr(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Tr(h,f,s),pl(f,f.return);break;case 30:break;default:Tr(h,f,s)}n=n.sibling}}function Qf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&tl(s))}function Kf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t))}function wi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vy(t,n,s,o),n=n.sibling}function vy(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:wi(t,n,s,o),h&2048&&ml(9,n);break;case 1:wi(t,n,s,o);break;case 3:wi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){wi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ht(n,n.return,D)}}else wi(t,n,s,o);break;case 31:wi(t,n,s,o);break;case 13:wi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?wi(t,n,s,o):gl(t,n):f._visibility&2?wi(t,n,s,o):(f._visibility|=2,Qa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:wi(t,n,s,o),h&2048&&Kf(n.alternate,n);break;default:wi(t,n,s,o)}}function Qa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,b=s,D=o,H=g.flags;switch(g.tag){case 0:case 11:case 15:Qa(f,g,b,D,h),ml(8,g);break;case 23:break;case 22:var W=g.stateNode;g.memoizedState!==null?W._visibility&2?Qa(f,g,b,D,h):gl(f,g):(W._visibility|=2,Qa(f,g,b,D,h)),h&&H&2048&&Qf(g.alternate,g);break;case 24:Qa(f,g,b,D,h),h&&H&2048&&Kf(g.alternate,g);break;default:Qa(f,g,b,D,h)}n=n.sibling}}function gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:gl(s,o),h&2048&&Qf(o.alternate,o);break;case 24:gl(s,o),h&2048&&Kf(o.alternate,o);break;default:gl(s,o)}n=n.sibling}}var yl=8192;function Ka(t,n,s){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Ey(t,n,s),t=t.sibling}function Ey(t,n,s){switch(t.tag){case 26:Ka(t,n,s),t.flags&yl&&t.memoizedState!==null&&db(s,Ai,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,n,s);break;case 3:case 4:var o=Ai;Ai=_c(t.stateNode.containerInfo),Ka(t,n,s),Ai=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Ka(t,n,s),yl=o):Ka(t,n,s));break;default:Ka(t,n,s)}}function Ty(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function _l(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];sn=o,Sy(o,t)}Ty(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&es(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):_l(t);break;default:_l(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];sn=o,Sy(o,t)}Ty(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:es(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Sy(t,n){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:es(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,sn=o;else e:for(s=t;sn!==null;){o=sn;var h=o.sibling,f=o.return;if(dy(o),o===s){sn=null;break e}if(h!==null){h.return=f,sn=h;break e}sn=f}}}var I1={getCacheForType:function(t){var n=cn(Ft),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return cn(Ft).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Ge=null,Xe=0,ct=0,Yn=null,ts=!1,$a=!1,$f=!1,br=0,Pt=0,ns=0,aa=0,Zf=0,Xn=0,Za=0,vl=null,Pn=null,Jf=!1,ac=0,Ay=0,oc=1/0,lc=null,is=null,Zt=0,rs=null,Ja=null,Sr=0,Wf=0,ed=null,wy=null,El=0,td=null;function Qn(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:Q.T!==null?od():$t()}function Ry(){if(Xn===0)if((Xe&536870912)===0||Je){var t=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Xn=t}else Xn=536870912;return t=Fn.current,t!==null&&(t.flags|=32),Xn}function Un(t,n,s){(t===vt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),ss(t,Xe,Xn,!1)),ir(t,s),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(aa|=s),Pt===4&&ss(t,Xe,Xn,!1)),Fi(t))}function Cy(t,n,s){if((ot&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Cn(t,n),h=o?O1(t,n):id(t,n,!0),f=o;do{if(h===0){$a&&!o&&ss(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!x1(s)){h=id(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var b=t;h=vl;var D=b.current.memoizedState.isDehydrated;if(D&&(Wa(b,g).flags|=256),g=id(b,g,!1),g!==2){if($f&&!D){b.errorRecoveryDisabledLanes|=f,aa|=f,h=4;break e}f=Pn,Pn=h,f!==null&&(Pn===null?Pn=f:Pn.push.apply(Pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),ss(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ss(o,n,Xn,!ts);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-Nt(),10<h)){if(ss(o,n,Xn,!ts),ei(o,0,!0)!==0)break e;Sr=n,o.timeoutHandle=r_(Iy.bind(null,o,s,Pn,lc,Jf,n,Xn,aa,Za,ts,f,"Throttled",-0,0),h);break e}Iy(o,s,Pn,lc,Jf,n,Xn,aa,Za,ts,f,null,-0,0)}}break}while(!0);Fi(t)}function Iy(t,n,s,o,h,f,g,b,D,H,W,ne,F,K){if(t.timeoutHandle=-1,ne=n.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},Ey(n,f,ne);var ye=(f&62914560)===f?ac-Nt():(f&4194048)===f?Ay-Nt():0;if(ye=mb(ne,ye),ye!==null){Sr=f,t.cancelPendingCommit=ye(Py.bind(null,t,n,f,s,o,h,g,b,D,W,ne,null,F,K)),ss(t,f,g,!H);return}}Py(t,n,f,s,o,h,g,b,D)}function x1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Hn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ss(t,n,s,o){n&=~Zf,n&=~aa,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Ot(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&rr(t,s,n)}function uc(){return(ot&6)===0?(Tl(0),!1):!0}function nd(){if(Ge!==null){if(ct===0)var t=Ge.return;else t=Ge,fr=Zs=null,_f(t),qa=null,il=0,t=Ge;for(;t!==null;)sy(t.alternate,t),t=t.return;Ge=null}}function Wa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Sr=0,nd(),vt=t,Ge=s=cr(t.current,null),Xe=n,ct=0,Yn=null,ts=!1,$a=Cn(t,n),$f=!1,Za=Xn=Zf=aa=ns=Pt=0,Pn=vl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Ot(o),f=1<<h;n|=t[h],o&=~f}return br=n,xu(),s}function Dy(t,n){je=null,Q.H=hl,n===Ha||n===Lu?(n=Gp(),ct=3):n===af?(n=Gp(),ct=4):ct=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yn=n,Ge===null&&(Pt=1,Ju(t,ai(n,t.current)))}function xy(){var t=Fn.current;return t===null?!0:(Xe&4194048)===Xe?ci===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===ci:!1}function Ny(){var t=Q.H;return Q.H=hl,t===null?hl:t}function Oy(){var t=Q.A;return Q.A=I1,t}function cc(){Pt=4,ts||(Xe&4194048)!==Xe&&Fn.current!==null||($a=!0),(ns&134217727)===0&&(aa&134217727)===0||vt===null||ss(vt,Xe,Xn,!1)}function id(t,n,s){var o=ot;ot|=2;var h=Ny(),f=Oy();(vt!==t||Xe!==n)&&(lc=null,Wa(t,n)),n=!1;var g=Pt;e:do try{if(ct!==0&&Ge!==null){var b=Ge,D=Yn;switch(ct){case 8:nd(),g=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(n=!0);var H=ct;if(ct=0,Yn=null,eo(t,b,D,H),s&&$a){g=0;break e}break;default:H=ct,ct=0,Yn=null,eo(t,b,D,H)}}N1(),g=Pt;break}catch(W){Dy(t,W)}while(!0);return n&&t.shellSuspendCounter++,fr=Zs=null,ot=o,Q.H=h,Q.A=f,Ge===null&&(vt=null,Xe=0,xu()),g}function N1(){for(;Ge!==null;)My(Ge)}function O1(t,n){var s=ot;ot|=2;var o=Ny(),h=Oy();vt!==t||Xe!==n?(lc=null,oc=Nt()+500,Wa(t,n)):$a=Cn(t,n);e:do try{if(ct!==0&&Ge!==null){n=Ge;var f=Yn;t:switch(ct){case 1:ct=0,Yn=null,eo(t,n,f,1);break;case 2:case 9:if(qp(f)){ct=0,Yn=null,Vy(n);break}n=function(){ct!==2&&ct!==9||vt!==t||(ct=7),Fi(t)},f.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:qp(f)?(ct=0,Yn=null,Vy(n)):(ct=0,Yn=null,eo(t,n,f,7));break;case 5:var g=null;switch(Ge.tag){case 26:g=Ge.memoizedState;case 5:case 27:var b=Ge;if(g?v_(g):b.stateNode.complete){ct=0,Yn=null;var D=b.sibling;if(D!==null)Ge=D;else{var H=b.return;H!==null?(Ge=H,hc(H)):Ge=null}break t}}ct=0,Yn=null,eo(t,n,f,5);break;case 6:ct=0,Yn=null,eo(t,n,f,6);break;case 8:nd(),Pt=6;break e;default:throw Error(a(462))}}M1();break}catch(W){Dy(t,W)}while(!0);return fr=Zs=null,Q.H=o,Q.A=h,ot=s,Ge!==null?0:(vt=null,Xe=0,xu(),Pt)}function M1(){for(;Ge!==null&&!Ni();)My(Ge)}function My(t){var n=iy(t.alternate,t,br);t.memoizedProps=t.pendingProps,n===null?hc(t):Ge=n}function Vy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Zg(s,n,n.pendingProps,n.type,void 0,Xe);break;case 11:n=Zg(s,n,n.pendingProps,n.type.render,n.ref,Xe);break;case 5:_f(n);default:sy(s,n),n=Ge=Op(n,br),n=iy(s,n,br)}t.memoizedProps=t.pendingProps,n===null?hc(t):Ge=n}function eo(t,n,s,o){fr=Zs=null,_f(n),qa=null,il=0;var h=n.return;try{if(T1(t,h,n,s,Xe)){Pt=1,Ju(t,ai(s,t.current)),Ge=null;return}}catch(f){if(h!==null)throw Ge=h,f;Pt=1,Ju(t,ai(s,t.current)),Ge=null;return}n.flags&32768?(Je||o===1?t=!0:$a||(Xe&536870912)!==0?t=!1:(ts=t=!0,(o===2||o===9||o===3||o===6)&&(o=Fn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ky(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){ky(n,ts);return}t=n.return;var s=A1(n.alternate,n,br);if(s!==null){Ge=s;return}if(n=n.sibling,n!==null){Ge=n;return}Ge=n=t}while(n!==null);Pt===0&&(Pt=5)}function ky(t,n){do{var s=w1(t.alternate,t);if(s!==null){s.flags&=32767,Ge=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=s}while(t!==null);Pt=6,Ge=null}function Py(t,n,s,o,h,f,g,b,D){t.cancelPendingCommit=null;do fc();while(Zt!==0);if((ot&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,ko(t,s,f,g,b,D),t===vt&&(Ge=vt=null,Xe=0),Ja=n,rs=t,Sr=s,Wf=f,ed=h,wy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U1(Zn,function(){return By(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=$.p,$.p=2,g=ot,ot|=4;try{R1(t,n,s)}finally{ot=g,$.p=h,Q.T=o}}Zt=1,Uy(),Ly(),zy()}}function Uy(){if(Zt===1){Zt=0;var t=rs,n=Ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=$.p;$.p=2;var h=ot;ot|=4;try{yy(n,t);var f=pd,g=Sp(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&bp(b.ownerDocument.documentElement,b)){if(D!==null&&zh(b)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(W,b.value.length);else{var ne=b.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var K=F.getSelection(),ye=b.textContent.length,xe=Math.min(D.start,ye),yt=D.end===void 0?xe:Math.min(D.end,ye);!K.extend&&xe>yt&&(g=yt,yt=xe,xe=g);var U=Tp(b,xe),M=Tp(b,yt);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=ne.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),xe>yt?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(ne=[],K=b;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ac=!!md,pd=md=null}finally{ot=h,$.p=o,Q.T=s}}t.current=n,Zt=2}}function Ly(){if(Zt===2){Zt=0;var t=rs,n=Ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=$.p;$.p=2;var h=ot;ot|=4;try{fy(t,n.alternate,n)}finally{ot=h,$.p=o,Q.T=s}}Zt=3}}function zy(){if(Zt===4||Zt===3){Zt=0,mi();var t=rs,n=Ja,s=Sr,o=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Zt=5:(Zt=0,Ja=rs=null,jy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(is=null),ti(s),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(tn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=$.p,$.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{Q.T=n,$.p=h}}(Sr&3)!==0&&fc(),Fi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===td?El++:(El=0,td=t):El=0,Tl(0)}}function jy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,tl(n)))}function fc(){return Uy(),Ly(),zy(),By()}function By(){if(Zt!==5)return!1;var t=rs,n=Wf;Wf=0;var s=ti(Sr),o=Q.T,h=$.p;try{$.p=32>s?32:s,Q.T=null,s=ed,ed=null;var f=rs,g=Sr;if(Zt=0,Ja=rs=null,Sr=0,(ot&6)!==0)throw Error(a(331));var b=ot;if(ot|=4,by(f.current),vy(f,f.current,g,s),ot=b,Tl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(tn,f)}catch{}return!0}finally{$.p=h,Q.T=o,jy(t,n)}}function Hy(t,n,s){n=ai(s,n),n=Mf(t.stateNode,n,2),t=Zr(t,n,2),t!==null&&(ir(t,2),Fi(t))}function ht(t,n,s){if(t.tag===3)Hy(t,t,s);else for(;n!==null;){if(n.tag===3){Hy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(is===null||!is.has(o))){t=ai(s,t),s=qg(2),o=Zr(n,s,2),o!==null&&(Fg(s,o,n,t),ir(o,2),Fi(o));break}}n=n.return}}function rd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||($f=!0,h.add(s),t=V1.bind(null,t,n,s),n.then(t,t))}function V1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,vt===t&&(Xe&s)===s&&(Pt===4||Pt===3&&(Xe&62914560)===Xe&&300>Nt()-ac?(ot&2)===0&&Wa(t,0):Zf|=s,Za===Xe&&(Za=0)),Fi(t)}function qy(t,n){n===0&&(n=kr()),t=Qs(t,n),t!==null&&(ir(t,n),Fi(t))}function k1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),qy(t,s)}function P1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),qy(t,s)}function U1(t,n){return We(t,n)}var dc=null,to=null,sd=!1,mc=!1,ad=!1,as=0;function Fi(t){t!==to&&t.next===null&&(to===null?dc=to=t:to=to.next=t),mc=!0,sd||(sd=!0,z1())}function Tl(t,n){if(!ad&&mc){ad=!0;do for(var s=!1,o=dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Ot(42|t)+1)-1,f&=h&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(o,f))}else f=Xe,f=ei(o,o===vt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Cn(o,f)||(s=!0,Xy(o,f));o=o.next}while(s);ad=!1}}function L1(){Fy()}function Fy(){mc=sd=!1;var t=0;as!==0&&K1()&&(t=as);for(var n=Nt(),s=null,o=dc;o!==null;){var h=o.next,f=Gy(o,n);f===0?(o.next=null,s===null?dc=h:s.next=h,h===null&&(to=s)):(s=o,(t!==0||(f&3)!==0)&&(mc=!0)),o=h}Zt!==0&&Zt!==5||Tl(t),as!==0&&(as=0)}function Gy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-Ot(f),b=1<<g,D=h[g];D===-1?((b&s)===0||(b&o)!==0)&&(h[g]=Vo(b,n)):D<=n&&(t.expiredLanes|=b),f&=~b}if(n=vt,s=Xe,s=ei(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&on(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Cn(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&on(o),ti(s)){case 2:case 8:s=pi;break;case 32:s=Zn;break;case 268435456:s=tr;break;default:s=Zn}return o=Yy.bind(null,t),s=We(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&on(o),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,n){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(fc()&&t.callbackNode!==s)return null;var o=Xe;return o=ei(t,t===vt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Cy(t,o,n),Gy(t,Nt()),t.callbackNode!=null&&t.callbackNode===s?Yy.bind(null,t):null)}function Xy(t,n){if(fc())return null;Cy(t,n,!0)}function z1(){Z1(function(){(ot&6)!==0?We(Sn,L1):Fy()})}function od(){if(as===0){var t=ja;t===0&&(t=Jn,Jn<<=1,(Jn&261888)===0&&(Jn=256)),as=t}return as}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Ky(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function j1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Qy((h[Ut]||null).action),g=o.submitter;g&&(n=(n=g[Ut]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new Ui("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(as!==0){var D=g?Ky(h,g):new FormData(h);Cf(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=g?Ky(h,g):new FormData(h),Cf(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var ld=0;ld<qh.length;ld++){var ud=qh[ld],B1=ud.toLowerCase(),H1=ud[0].toUpperCase()+ud.slice(1);Si(B1,"on"+H1)}Si(Rp,"onAnimationEnd"),Si(Cp,"onAnimationIteration"),Si(Ip,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(r1,"onTransitionRun"),Si(s1,"onTransitionStart"),Si(a1,"onTransitionCancel"),Si(Dp,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function $y(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var b=o[g],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=H;try{f(h)}catch(W){Du(W)}h.currentTarget=null,f=D}else for(g=0;g<o.length;g++){if(b=o[g],D=b.instance,H=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=H;try{f(h)}catch(W){Du(W)}h.currentTarget=null,f=D}}}}function Ye(t,n){var s=n[ar];s===void 0&&(s=n[ar]=new Set);var o=t+"__bubble";s.has(o)||(Zy(n,t,2,!1),s.add(o))}function cd(t,n,s){var o=0;n&&(o|=4),Zy(s,t,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[pc]){t[pc]=!0,Tt.forEach(function(s){s!=="selectionchange"&&(q1.has(s)||cd(s,!1,t),cd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,cd("selectionchange",!1,n))}}function Zy(t,n,s,o){switch(R_(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=Rd}s=h.bind(null,n,s,t),h=void 0,!js||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function fd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===h)break;if(g===4)for(g=o.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;b!==null;){if(g=oe(b),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){o=f=g;continue e}b=b.parentNode}}o=o.return}Br(function(){var H=f,W=ni(s),ne=[];e:{var F=xp.get(t);if(F!==void 0){var K=Ui,ye=t;switch(t){case"keypress":if(Hs(s)===0)break e;case"keydown":case"keyup":K=Ru;break;case"focusin":ye="focus",K=Fs;break;case"focusout":ye="blur",K=Fs;break;case"beforeblur":case"afterblur":K=Fs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=m;break;case Rp:case Cp:case Ip:K=vu;break;case Dp:K=S;break;case"scroll":case"scrollend":K=Yo;break;case"wheel":K=X;break;case"copy":case"cut":case"paste":K=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ur;break;case"toggle":case"beforetoggle":K=ze}var xe=(n&4)!==0,yt=!xe&&(t==="scroll"||t==="scrollend"),U=xe?F!==null?F+"Capture":null:F;xe=[];for(var M=H,B;M!==null;){var ee=M;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||U===null||(ee=vi(M,U),ee!=null&&xe.push(Sl(M,ee,B))),yt)break;M=M.return}0<xe.length&&(F=new K(F,ye,null,s,W),ne.push({event:F,listeners:xe}))}}if((n&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&s!==qo&&(ye=s.relatedTarget||s.fromElement)&&(oe(ye)||ye[xn]))break e;if((K||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ye=s.relatedTarget||s.toElement,K=H,ye=ye?oe(ye):null,ye!==null&&(yt=c(ye),xe=ye.tag,ye!==yt||xe!==5&&xe!==27&&xe!==6)&&(ye=null)):(K=null,ye=H),K!==ye)){if(xe=Xo,ee="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(xe=ur,ee="onPointerLeave",U="onPointerEnter",M="pointer"),yt=K==null?F:De(K),B=ye==null?F:De(ye),F=new xe(ee,M+"leave",K,s,W),F.target=yt,F.relatedTarget=B,ee=null,oe(W)===H&&(xe=new xe(U,M+"enter",ye,s,W),xe.target=B,xe.relatedTarget=yt,ee=xe),yt=ee,K&&ye)t:{for(xe=F1,U=K,M=ye,B=0,ee=U;ee;ee=xe(ee))B++;ee=0;for(var Re=M;Re;Re=xe(Re))ee++;for(;0<B-ee;)U=xe(U),B--;for(;0<ee-B;)M=xe(M),ee--;for(;B--;){if(U===M||M!==null&&U===M.alternate){xe=U;break t}U=xe(U),M=xe(M)}xe=null}else xe=null;K!==null&&Jy(ne,F,K,xe,!1),ye!==null&&yt!==null&&Jy(ne,yt,ye,xe,!0)}}e:{if(F=H?De(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var rt=pp;else if(dp(F))if(gp)rt=t1;else{rt=WT;var Ee=JT}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Aa(H.elementType)&&(rt=pp):rt=e1;if(rt&&(rt=rt(t,H))){mp(ne,rt,s,W);break e}Ee&&Ee(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&jo(F,"number",F.value)}switch(Ee=H?De(H):window,t){case"focusin":(dp(Ee)||Ee.contentEditable==="true")&&(Oa=Ee,jh=H,Jo=null);break;case"focusout":Jo=jh=Oa=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Ap(ne,s,W);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Ap(ne,s,W)}var He;if(at)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Na?Gs(t,s)&&(Qe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Qe="onCompositionStart");Qe&&(ji&&s.locale!=="ko"&&(Na||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Na&&(He=Go()):(Pi=W,Fo="value"in Pi?Pi.value:Pi.textContent,Na=!0)),Ee=gc(H,Qe),0<Ee.length&&(Qe=new zi(Qe,t,null,s,W),ne.push({event:Qe,listeners:Ee}),He?Qe.data=He:(He=xa(s),He!==null&&(Qe.data=He)))),(He=ri?QT(t,s):KT(t,s))&&(Qe=gc(H,"onBeforeInput"),0<Qe.length&&(Ee=new zi("onBeforeInput","beforeinput",null,s,W),ne.push({event:Ee,listeners:Qe}),Ee.data=He)),j1(ne,t,H,s,W)}$y(ne,n)})}function Sl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function gc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=vi(t,s),h!=null&&o.unshift(Sl(t,h,f)),h=vi(t,n),h!=null&&o.push(Sl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function F1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jy(t,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var b=s,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===o)break;b!==5&&b!==26&&b!==27||H===null||(D=H,h?(H=vi(s,f),H!=null&&g.unshift(Sl(s,H,D))):h||(H=vi(s,f),H!=null&&g.push(Sl(s,H,D)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var G1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Wy(t){return(typeof t=="string"?t:""+t).replace(G1,`
`).replace(Y1,"")}function e_(t,n){return n=Wy(n),Wy(t)===n}function gt(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||On(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&On(t,""+o);break;case"className":Bn(t,"class",o);break;case"tabIndex":Bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(t,s,o);break;case"style":Ho(t,o,f);break;case"data":if(n!=="object"){Bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=wa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=wa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=_i);break;case"onScroll":o!=null&&Ye("scroll",t);break;case"onScrollEnd":o!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=wa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),ba(t,"popover",o);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ba(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,ba(t,s,o))}}function dd(t,n,s,o,h,f){switch(s){case"style":Ho(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?On(t,o):(typeof o=="number"||typeof o=="bigint")&&On(t,""+o);break;case"onScroll":o!=null&&Ye("scroll",t);break;case"onScrollEnd":o!=null&&Ye("scrollend",t);break;case"onClick":o!=null&&(t.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Ut]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ba(t,s,o)}}}function fn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,f,g,s,null)}}h&&gt(t,n,"srcSet",s.srcSet,s,null),o&&gt(t,n,"src",s.src,s,null);return;case"input":Ye("invalid",t);var b=f=g=h=null,D=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var W=s[o];if(W!=null)switch(o){case"name":h=W;break;case"type":g=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":f=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,n));break;default:gt(t,n,o,W,s,null)}}du(t,f,b,D,H,g,h,!1);return;case"select":Ye("invalid",t),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:gt(t,n,h,b,s,null)}n=f,s=g,t.multiple=!!o,n!=null?Ur(t,!!o,n,!1):s!=null&&Ur(t,!!o,s,!0);return;case"textarea":Ye("invalid",t),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(b=s[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:gt(t,n,g,b,s,null)}Lr(t,o,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:gt(t,n,D,o,s,null)}return;case"dialog":Ye("beforetoggle",t),Ye("toggle",t),Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(o=0;o<bl.length;o++)Ye(bl[o],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,H,o,s,null)}return;default:if(Aa(n)){for(W in s)s.hasOwnProperty(W)&&(o=s[W],o!==void 0&&dd(t,n,W,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&gt(t,n,b,o,s,null))}function X1(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,b=null,D=null,H=null,W=null;for(K in s){var ne=s[K];if(s.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty(K)||gt(t,n,K,null,o,ne)}}for(var F in o){var K=o[F];if(ne=s[F],o.hasOwnProperty(F)&&(K!=null||ne!=null))switch(F){case"type":f=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":g=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:K!==ne&&gt(t,n,F,K,o,ne)}}Sa(t,g,b,D,H,W,f,h);return;case"select":K=g=b=F=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":K=D;default:o.hasOwnProperty(f)||gt(t,n,f,null,o,D)}for(h in o)if(f=o[h],D=s[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":F=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==D&&gt(t,n,h,f,o,D)}n=b,s=g,o=K,F!=null?Ur(t,!!s,F,!1):!!o!=!!s&&(n!=null?Ur(t,!!s,n,!0):Ur(t,!!s,s?[]:"",!1));return;case"textarea":K=F=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:gt(t,n,b,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&gt(t,n,g,h,o,f)}mu(t,F,K);return;case"option":for(var ye in s)if(F=s[ye],s.hasOwnProperty(ye)&&F!=null&&!o.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:gt(t,n,ye,null,o,F)}for(D in o)if(F=o[D],K=s[D],o.hasOwnProperty(D)&&F!==K&&(F!=null||K!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:gt(t,n,D,F,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in s)F=s[xe],s.hasOwnProperty(xe)&&F!=null&&!o.hasOwnProperty(xe)&&gt(t,n,xe,null,o,F);for(H in o)if(F=o[H],K=s[H],o.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:gt(t,n,H,F,o,K)}return;default:if(Aa(n)){for(var yt in s)F=s[yt],s.hasOwnProperty(yt)&&F!==void 0&&!o.hasOwnProperty(yt)&&dd(t,n,yt,void 0,o,F);for(W in o)F=o[W],K=s[W],!o.hasOwnProperty(W)||F===K||F===void 0&&K===void 0||dd(t,n,W,F,o,K);return}}for(var U in s)F=s[U],s.hasOwnProperty(U)&&F!=null&&!o.hasOwnProperty(U)&&gt(t,n,U,null,o,F);for(ne in o)F=o[ne],K=s[ne],!o.hasOwnProperty(ne)||F===K||F==null&&K==null||gt(t,n,ne,F,o,K)}function t_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,b=h.duration;if(f&&b&&t_(g)){for(g=0,b=h.responseEnd,o+=1;o<s.length;o++){var D=s[o],H=D.startTime;if(H>b)break;var W=D.transferSize,ne=D.initiatorType;W&&t_(ne)&&(D=D.responseEnd,g+=W*(D<b?1:(b-H)/(D-H)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,pd=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function K1(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(t){return s_.resolve(null).then(t).catch(J1)}:r_;function J1(t){setTimeout(function(){throw t})}function os(t){return t==="head"}function a_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),so(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Al(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Al(s);for(var f=s.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[Y]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&Al(t.ownerDocument.body);s=h}while(s);so(n)}function o_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function _d(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),Z(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function W1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Y])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=hi(t.nextSibling),t===null)break}return null}function eb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=hi(t.nextSibling),t===null))return null;return t}function l_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=hi(t.nextSibling),t===null))return null;return t}function vd(t){return t.data==="$?"||t.data==="$~"}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tb(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function hi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Td=null;function u_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return hi(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function c_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function h_(t,n,s){switch(n=yc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Al(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Z(t)}var fi=new Map,f_=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ar=$.d;$.d={f:nb,r:ib,D:rb,C:sb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var t=Ar.f(),n=uc();return t||n}function ib(t){var n=ge(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Ar.r(t)}var no=typeof document>"u"?null:document;function d_(t,n,s){var o=no;if(o&&typeof n=="string"&&n){var h=Nn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),f_.has(h)||(f_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),fn(n,"link",t),qe(n),o.head.appendChild(n)))}}function rb(t){Ar.D(t),d_("dns-prefetch",t,null)}function sb(t,n){Ar.C(t,n),d_("preconnect",t,n)}function ab(t,n,s){Ar.L(t,n,s);var o=no;if(o&&t&&n){var h='link[rel="preload"][as="'+Nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Nn(s.imageSizes)+'"]')):h+='[href="'+Nn(t)+'"]';var f=h;switch(n){case"style":f=io(t);break;case"script":f=ro(t)}fi.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),fi.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(wl(f))||n==="script"&&o.querySelector(Rl(f))||(n=o.createElement("link"),fn(n,"link",t),qe(n),o.head.appendChild(n)))}}function ob(t,n){Ar.m(t,n);var s=no;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Nn(o)+'"][href="'+Nn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ro(t)}if(!fi.has(f)&&(t=w({rel:"modulepreload",href:t},n),fi.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Rl(f)))return}o=s.createElement("link"),fn(o,"link",t),qe(o),s.head.appendChild(o)}}}function lb(t,n,s){Ar.S(t,n,s);var o=no;if(o&&t){var h=Ve(o).hoistableStyles,f=io(t);n=n||"default";var g=h.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(wl(f)))b.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=fi.get(f))&&bd(t,s);var D=g=o.createElement("link");qe(D),fn(D,"link",t),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:b},h.set(f,g)}}}function ub(t,n){Ar.X(t,n);var s=no;if(s&&t){var o=Ve(s).hoistableScripts,h=ro(t),f=o.get(h);f||(f=s.querySelector(Rl(h)),f||(t=w({src:t,async:!0},n),(n=fi.get(h))&&Sd(t,n),f=s.createElement("script"),qe(f),fn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cb(t,n){Ar.M(t,n);var s=no;if(s&&t){var o=Ve(s).hoistableScripts,h=ro(t),f=o.get(h);f||(f=s.querySelector(Rl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=fi.get(h))&&Sd(t,n),f=s.createElement("script"),qe(f),fn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m_(t,n,s,o){var h=(h=fe.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=io(s.href),s=Ve(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=io(s.href);var f=Ve(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(wl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),fi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fi.set(t,s),f||hb(h,t,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ro(s),s=Ve(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function io(t){return'href="'+Nn(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function p_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),fn(n,"link",s),qe(n),t.head.appendChild(n))}function ro(t){return'[src="'+Nn(t)+'"]'}function Rl(t){return"script[async]"+t}function g_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Nn(s.href)+'"]');if(o)return n.instance=o,qe(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),qe(o),fn(o,"style",h),vc(o,s.precedence,t),n.instance=o;case"stylesheet":h=io(s.href);var f=t.querySelector(wl(h));if(f)return n.state.loading|=4,n.instance=f,qe(f),f;o=p_(s),(h=fi.get(h))&&bd(o,h),f=(t.ownerDocument||t).createElement("link"),qe(f);var g=f;return g._p=new Promise(function(b,D){g.onload=b,g.onerror=D}),fn(f,"link",o),n.state.loading|=4,vc(f,s.precedence,t),n.instance=f;case"script":return f=ro(s.src),(h=t.querySelector(Rl(f)))?(n.instance=h,qe(h),h):(o=s,(h=fi.get(f))&&(o=w({},s),Sd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),qe(h),fn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,s.precedence,t));return n.instance}function vc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function y_(t,n,s){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(s,o)}else h=Ec,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Y]||f[Rt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function __(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function fb(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function v_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function db(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=io(o.href),f=n.querySelector(wl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,qe(f);return}f=n.ownerDocument||n,o=p_(o),(h=fi.get(h))&&bd(o,h),f=f.createElement("link"),qe(f);var g=f;g._p=new Promise(function(b,D){g.onload=b,g.onerror=D}),fn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Tc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function mb(t,n){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*Q1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Sc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(pb,t),bc=null,Tc.call(t))}function pb(t,n){if(!(n.state.loading&4)){var s=bc.get(t);if(s)var o=s.get(null);else{s=new Map,bc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Cl={$$typeof:be,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function gb(t,n,s,o,h,f,g,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function E_(t,n,s,o,h,f,g,b,D,H,W,ne){return t=new gb(t,n,s,g,D,H,W,ne,b),n=1,f===!0&&(n|=24),f=qn(3,null,null,n),t.current=f,f.stateNode=t,n=nf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},of(f),t}function T_(t){return t?(t=ka,t):ka}function b_(t,n,s,o,h,f){h=T_(h),o.context===null?o.context=h:o.pendingContext=h,o=$r(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Zr(t,o,n),s!==null&&(Un(s,t,n),sl(s,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function wd(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function A_(t){if(t.tag===13||t.tag===31){var n=Qs(t,67108864);n!==null&&Un(n,t,67108864),wd(t,67108864)}}function w_(t){if(t.tag===13||t.tag===31){var n=Qn();n=sr(n);var s=Qs(t,n);s!==null&&Un(s,t,n),wd(t,n)}}var Ac=!0;function yb(t,n,s,o){var h=Q.T;Q.T=null;var f=$.p;try{$.p=2,Rd(t,n,s,o)}finally{$.p=f,Q.T=h}}function _b(t,n,s,o){var h=Q.T;Q.T=null;var f=$.p;try{$.p=8,Rd(t,n,s,o)}finally{$.p=f,Q.T=h}}function Rd(t,n,s,o){if(Ac){var h=Cd(o);if(h===null)fd(t,n,o,wc,s),C_(t,o);else if(Eb(h,t,n,s,o))o.stopPropagation();else if(C_(t,o),n&4&&-1<vb.indexOf(t)){for(;h!==null;){var f=ge(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var D=1<<31-Ot(g);b.entanglements[1]|=D,g&=~D}Fi(f),(ot&6)===0&&(oc=Nt()+500,Tl(0))}}break;case 31:case 13:b=Qs(f,2),b!==null&&Un(b,f,2),uc(),wd(f,2)}if(f=Cd(o),f===null&&fd(t,n,o,wc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(t,n,o,null,s)}}function Cd(t){return t=ni(t),Id(t)}var wc=null;function Id(t){if(wc=null,t=oe(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=p(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case Sn:return 2;case pi:return 8;case Zn:case er:return 32;case tr:return 268435456;default:return 32}default:return 32}}var Dd=!1,ls=null,us=null,cs=null,Il=new Map,Dl=new Map,hs=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,n){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function xl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=ge(n),n!==null&&A_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Eb(t,n,s,o,h){switch(n){case"focusin":return ls=xl(ls,t,n,s,o,h),!0;case"dragenter":return us=xl(us,t,n,s,o,h),!0;case"mouseover":return cs=xl(cs,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Il.set(f,xl(Il.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Dl.set(f,xl(Dl.get(f)||null,t,n,s,o,h)),!0}return!1}function I_(t){var n=oe(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,jn(t.priority,function(){w_(s)});return}}else if(n===31){if(n=p(s),n!==null){t.blockedOn=n,jn(t.priority,function(){w_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Cd(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);qo=o,s.target.dispatchEvent(o),qo=null}else return n=ge(s),n!==null&&A_(n),t.blockedOn=s,!1;n.shift()}return!0}function D_(t,n,s){Rc(t)&&s.delete(n)}function Tb(){Dd=!1,ls!==null&&Rc(ls)&&(ls=null),us!==null&&Rc(us)&&(us=null),cs!==null&&Rc(cs)&&(cs=null),Il.forEach(D_),Dl.forEach(D_)}function Cc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Ic=null;function x_(t){Ic!==t&&(Ic=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Id(o||s)===null)continue;break}var f=ge(s);f!==null&&(t.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function so(t){function n(D){return Cc(D,t)}ls!==null&&Cc(ls,t),us!==null&&Cc(us,t),cs!==null&&Cc(cs,t),Il.forEach(n),Dl.forEach(n);for(var s=0;s<hs.length;s++){var o=hs[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<hs.length&&(s=hs[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&hs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ut]||null;if(typeof f=="function")g||x_(s);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ut]||null)b=g.formAction;else if(Id(h)!==null)continue}else b=g.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),x_(s)}}}function N_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(t){this._internalRoot=t}Dc.prototype.render=xd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Qn();b_(s,o,t,n,null,null)},Dc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;b_(t.current,2,null,t,null,null),uc(),n[xn]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var n=$t();t={blockedOn:null,target:t,priority:n};for(var s=0;s<hs.length&&n!==0&&n<hs[s].priority;s++);hs.splice(s,0,t),s===0&&I_(t)}};var O_=e.version;if(O_!=="19.2.0")throw Error(a(527,O_,"19.2.0"));$.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var bb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{tn=xc.inject(bb),Ht=xc}catch{}}return Ol.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=zg,f=jg,g=Bg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=E_(t,1,!1,null,null,s,o,null,h,f,g,N_),t[xn]=n.current,hd(t),new xd(n)},Ol.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=zg,g=jg,b=Bg,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=E_(t,1,!0,n,s??null,o,h,D,f,g,b,N_),n.context=T_(null),s=n.current,o=Qn(),o=sr(o),h=$r(o),h.callback=null,Zr(s,h,o),s=o,n.current.lanes=s,ir(n,s),Fi(n),t[xn]=n.current,hd(t),new Dc(n)},Ol.version="19.2.0",Ol}var H_;function Vb(){if(H_)return Md.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Md.exports=Mb(),Md.exports}var kb=Vb();const Pb=vE(kb),Ub=()=>{};var q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Lb=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},TE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let N=(p&15)<<2|y>>6,q=y&63;_||(q=64,d||(N=64)),a.push(i[A],i[w],i[N],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(EE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Lb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new zb;const N=c<<2|p>>4;if(a.push(N),y!==64){const q=p<<4&240|y>>2;if(a.push(q),w!==64){const re=y<<6&192|w;a.push(re)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=EE(r);return TE.encodeByteArray(e,!0)},Qc=function(r){return jb(r).replace(/\./g,"")},bE=function(r){try{return TE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=()=>Bb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&bE(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return Ub()||Hb()||qb()||Fb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},SE=r=>mh()?.emulatorHosts?.[r],Gb=r=>{const e=SE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},AE=()=>mh()?.config,wE=r=>mh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const jl={};function Qb(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function Kb(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F_=!1;function CE(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||jl[r]===e||jl[r]||F_)return;jl[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=Qb().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{F_=!0,d()},N}function A(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=Kb(a),q=i("text"),re=document.getElementById(q)||document.createElement("span"),te=i("learnmore"),G=document.getElementById(te)||document.createElement("a"),de=i("preprendIcon"),we=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const be=N.element;p(be),A(G,te);const Be=y();_(we,de),be.append(we,re,G,Be),document.body.appendChild(be)}c?(re.innerText="Preview backend disconnected.",we.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(we.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function Zb(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="FirebaseError";class Mr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=sS,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?aS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Mr(l,p,a)}}function aS(r,e){return r.replace(oS,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ha(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(G_(c)&&G_(d)){if(!ha(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ml(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function uS(r,e){const i=new cS(r,e);return i.subscribe.bind(i)}class cS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(r){return r&&r._delegate?r._delegate:r}class fa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===oa?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const gS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},yS=Ke.INFO,_S={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},vS=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=_S[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sm{constructor(e){this.name=e,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const ES=(r,e)=>e.some(i=>r instanceof i);let Y_,X_;function TS(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,Kd=new WeakMap,DE=new WeakMap,Ld=new WeakMap,Am=new WeakMap;function SS(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(vs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&IE.set(i,r)}).catch(()=>{}),Am.set(e,r),e}function AS(r){if(Kd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let $d={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||DE.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){$d=r($d)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return DE.set(a,e.sort?e.sort():[e]),vs(a)}:bS().includes(r)?function(...e){return r.apply(zd(this),e),vs(IE.get(this))}:function(...e){return vs(r.apply(zd(this),e))}}function CS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&AS(r),ES(r,TS())?new Proxy(r,$d):r)}function vs(r){if(r instanceof IDBRequest)return SS(r);if(Ld.has(r))return Ld.get(r);const e=CS(r);return e!==r&&(Ld.set(r,e),Am.set(e,r)),e}const zd=r=>Am.get(r);function IS(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),p=vs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vs(d.result),_.oldVersion,_.newVersion,vs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],jd=new Map;function Q_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return jd.set(e,c),c}wS(r=>({...r,get:(e,i,a)=>Q_(e,i)||r.get(e,i,a),has:(e,i)=>!!Q_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",K_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Sm("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",PS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",HS="@firebase/database-compat",qS="@firebase/functions",FS="@firebase/functions-compat",GS="@firebase/installations",YS="@firebase/installations-compat",XS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",eA="@firebase/storage-compat",tA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",rA="firebase",sA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",aA={[Zd]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[US]:"fire-app-check",[PS]:"fire-app-check-compat",[LS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[qS]:"fire-fn",[FS]:"fire-fn-compat",[GS]:"fire-iid",[YS]:"fire-iid-compat",[XS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[eA]:"fire-gcs-compat",[tA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,oA=new Map,Wd=new Map;function $_(r,e){try{r.container.addComponent(e)}catch(i){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function yo(r){const e=r.name;if(Wd.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,r);for(const i of Kc.values())$_(i,r);for(const i of oA.values())$_(i,r);return!0}function wm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ci(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new tu("app","Firebase",lA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=sA;function xE(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Jd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Es.create("bad-app-name",{appName:String(l)});if(i||(i=AE()),!i)throw Es.create("no-options");const c=Kc.get(l);if(c){if(ha(i,c.options)&&ha(a,c.config))return c;throw Es.create("duplicate-app",{appName:l})}const d=new pS(l);for(const _ of Wd.values())d.addComponent(_);const p=new uA(i,a,d);return Kc.set(l,p),p}function NE(r=Jd){const e=Kc.get(r);if(!e&&r===Jd&&AE())return xE();if(!e)throw Es.create("no-app",{appName:r});return e}function Ts(r,e,i){let a=aA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(d.join(" "));return}yo(new fa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebase-heartbeat-database",hA=1,Yl="firebase-heartbeat-store";let Bd=null;function OE(){return Bd||(Bd=IS(cA,hA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function fA(r){try{const i=(await OE()).transaction(Yl),a=await i.objectStore(Yl).get(ME(r));return await i.done,a}catch(e){if(e instanceof Mr)Ir.warn(e.message);else{const i=Es.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(i.message)}}}async function Z_(r,e){try{const a=(await OE()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,ME(r)),await a.done}catch(i){if(i instanceof Mr)Ir.warn(i.message);else{const a=Es.create("idb-set",{originalErrorMessage:i?.message});Ir.warn(a.message)}}}function ME(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1024,mA=30;class pA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J_(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ir.warn(e),""}}}function J_(){return new Date().toISOString().substring(0,10)}function gA(r,e=dA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),W_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),W_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function W_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function _A(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){yo(new fa("platform-logger",e=>new NS(e),"PRIVATE")),yo(new fa("heartbeat",e=>new pA(e),"PRIVATE")),Ts(Zd,K_,r),Ts(Zd,K_,"esm2020"),Ts("fire-js","")}vA("");function VE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=VE,kE=new tu("auth","Firebase",VE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Sm("@firebase/auth");function TA(r,...e){$c.logLevel<=Ke.WARN&&$c.warn(`Auth (${Ro}): ${r}`,...e)}function Lc(r,...e){$c.logLevel<=Ke.ERROR&&$c.error(`Auth (${Ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(r,...e){throw Rm(r,...e)}function Yi(r,...e){return Rm(r,...e)}function PE(r,e,i){const a={...EA(),[e]:i};return new tu("auth","Firebase",a).create(e,{appName:r.name})}function bs(r){return PE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return kE.create(r,...e)}function Ne(r,e,...i){if(!r)throw Rm(e,...i)}function wr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lc(e),new Error(e)}function Dr(r,e){r||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof self<"u"&&self.location?.href||""}function bA(){return ev()==="http:"||ev()==="https:"}function ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bA()||Wb()||"connection"in navigator)?navigator.onLine:!0}function AA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Dr(i>e,"Short delay should be less than long delay!"),this.isMobile=$b()||eS()}get(){return SA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(r,e){Dr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CA=new iu(3e4,6e4);function ga(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ns(r,e,i,a,l={}){return LE(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=nu({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:_,...c};return Jb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(y.credentials="include"),UE.fetch()(await zE(r,r.config.apiHost,i,p),y)})}async function LE(r,e,i){r._canInitEmulator=!1;const a={...wA,...e};try{const l=new DA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw PE(r,A,y);xi(r,A)}}catch(l){if(l instanceof Mr)throw l;xi(r,"network-request-failed",{message:String(l)})}}async function ph(r,e,i,a,l={}){const c=await Ns(r,e,i,a,l);return"mfaPendingCredential"in c&&xi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function zE(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Cm(r.config,l):`${r.config.apiScheme}://${l}`;return RA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function IA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Yi(this.auth,"network-request-failed")),CA.get())})}}function Nc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Yi(r,e,a);return l.customData._tokenResponse=i,l}function tv(r){return r!==void 0&&r.enterprise!==void 0}class xA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return IA(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NA(r,e){return Ns(r,"GET","/v2/recaptchaConfig",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,e){return Ns(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return Ns(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MA(r,e=!1){const i=pn(r),a=await i.getIdToken(e),l=Im(a);Ne(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Bl(Hd(l.auth_time)),issuedAtTime:Bl(Hd(l.iat)),expirationTime:Bl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function Im(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bE(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function nv(r){const e=Im(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Mr&&VA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(r){const e=r.auth,i=await r.getIdToken(),a=await Xl(r,Zc(e,{idToken:i}));Ne(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?jE(l.providerUserInfo):[],d=UA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function PA(r){const e=pn(r);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function jE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(r,e){const i=await LE(r,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await zE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(_.credentials="include"),UE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zA(r,e){return Ns(r,"POST","/v2/accounts:revokeToken",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const i=nv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LA(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ho;return a&&(Ne(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ne(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ii{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MA(this,e)}reload(){return PA(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Xl(this,OA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:q,providerData:re,stsTokenManager:te}=i;Ne(w&&te,e,"internal-error");const G=ho.fromJSON(this.name,te);Ne(typeof w=="string",e,"internal-error"),ds(a,e.name),ds(l,e.name),Ne(typeof N=="boolean",e,"internal-error"),Ne(typeof q=="boolean",e,"internal-error"),ds(c,e.name),ds(d,e.name),ds(p,e.name),ds(_,e.name),ds(y,e.name),ds(A,e.name);const de=new Ii({uid:w,auth:e,email:l,emailVerified:N,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:G,createdAt:y,lastLoginAt:A});return re&&Array.isArray(re)&&(de.providerData=re.map(we=>({...we}))),_&&(de._redirectEventId=_),de}static async _fromIdTokenResponse(e,i,a=!1){const l=new ho;l.updateFromServerResponse(i);const c=new Ii({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ne(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?jE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ho;p.updateFromIdToken(a);const _=new Ii({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;function Rr(r){Dr(r instanceof Function,"Expected a class definition");let e=iv.get(r);return e?(Dr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,iv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}BE.type="NONE";const rv=BE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r,e,i){return`firebase:${r}:${e}:${i}`}class fo{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?Ii._fromGetAccountInfoResponse(this.auth,i,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new fo(Rr(rv),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Rr(rv);const d=zc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const N=await Zc(e,{idToken:A}).catch(()=>{});if(!N)break;w=await Ii._fromGetAccountInfoResponse(e,N,A)}else w=Ii._fromJSON(e,A);y!==c&&(p=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new fo(c,e,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new fo(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XE(e))return"Blackberry";if(QE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||FE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function HE(r=bn()){return/firefox\//i.test(r)}function qE(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FE(r=bn()){return/crios\//i.test(r)}function GE(r=bn()){return/iemobile/i.test(r)}function YE(r=bn()){return/android/i.test(r)}function XE(r=bn()){return/blackberry/i.test(r)}function QE(r=bn()){return/webos/i.test(r)}function Dm(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jA(r=bn()){return Dm(r)&&!!window.navigator?.standalone}function BA(){return tS()&&document.documentMode===10}function KE(r=bn()){return Dm(r)||YE(r)||QE(r)||XE(r)||/windows phone/i.test(r)||GE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r,e=[]){let i;switch(r){case"Browser":i=sv(bn());break;case"Worker":i=`${sv(bn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ro}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const _=e(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(r,e={}){return Ns(r,"GET","/v2/passwordPolicy",ga(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6;class GA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new av(this),this.idTokenSubscription=new av(this),this.beforeStateQueue=new HA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Rr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await Ii._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(bs(this));const i=e?pn(e):null;return i&&Ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qA(this),i=new GA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Rr(e)||this._popupRedirectResolver;Ne(i,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Rr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(r){return pn(r)}class av{constructor(e){this.auth=e,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XA(r){gh=r}function ZE(r){return gh.loadJS(r)}function QA(){return gh.recaptchaEnterpriseScript}function KA(){return gh.gapiScript}function $A(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ZA{constructor(){this.enterprise=new JA}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class JA{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const WA="recaptcha-enterprise",JE="NO_RECAPTCHA";class ew{constructor(e){this.type=WA,this.auth=Co(e)}async verify(e="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{NA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new xA(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;tv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(JE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&tv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=QA();_.length!==0&&(_+=p),ZE(_).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function ov(r,e,i,a=!1,l=!1){const c=new ew(r);let d;if(l)d=JE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lv(r,e,i,a,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ov(r,e,i,i==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ov(r,e,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,e){const i=wm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ha(c,e??{}))return l;xi(l,"already-initialized")}return i.initialize({options:e})}function nw(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function iw(r,e,i){const a=Co(r);Ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=WE(e),{host:d,port:p}=rw(e),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ne(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ne(ha(y,a.config.emulator)&&ha(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,wo(d)?(RE(`${c}//${d}${_}`),CE("Auth",!0)):sw()}function WE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rw(r){const e=WE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:uv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:uv(d)}}}function uv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,i){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function aw(r,e){return Ns(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(r,e){return ph(r,"POST","/v1/accounts:signInWithPassword",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(r,e){return ph(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,e))}async function uw(r,e){return ph(r,"POST","/v1/accounts:signInWithEmailLink",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends xm{constructor(e,i,a,l=null){super("password",a),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Ql(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new Ql(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lv(e,i,"signInWithPassword",ow);case"emailLink":return lw(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lv(e,a,"signUpPassword",aw);case"emailLink":return uw(e,{idToken:i,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return ph(r,"POST","/v1/accounts:signInWithIdp",ga(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="http://localhost";class da extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):xi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new da(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return mo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,mo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,mo(e,i)}buildRequest(){const e={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=nu(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fw(r){const e=Ml(Vl(r)).link,i=e?Ml(Vl(e)).deep_link_id:null,a=Ml(Vl(r)).deep_link_id;return(a?Ml(Vl(a)).link:null)||a||i||e||r}class Nm{constructor(e){const i=Ml(Vl(e)),a=i.apiKey??null,l=i.oobCode??null,c=hw(i.mode??null);Ne(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=fw(e);try{return new Nm(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,i){return Ql._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=Nm.parseLink(i);return Ne(a,"argument-error"),Ql._fromEmailAndCode(e,a.code,a.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ru{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return da._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ps.credential(i,a)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ru{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends ru{constructor(){super("twitter.com")}static credential(e,i){return da._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ys.credential(i,a)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Ii._fromIdTokenResponse(e,a,l),d=cv(a);return new _o({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=cv(a);return new _o({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function cv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Mr{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Wc(e,i,a,l)}}function t0(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function dw(r,e,i=!1){const a=await Xl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return _o._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(r,e,i=!1){const{auth:a}=r;if(Ci(a.app))return Promise.reject(bs(a));const l="reauthenticate";try{const c=await Xl(r,t0(a,l,e,r),i);Ne(c.idToken,a,"internal-error");const d=Im(c.idToken);Ne(d,a,"internal-error");const{sub:p}=d;return Ne(r.uid===p,a,"user-mismatch"),_o._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&xi(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n0(r,e,i=!1){if(Ci(r.app))return Promise.reject(bs(r));const a="signIn",l=await t0(r,a,e),c=await _o._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function pw(r,e){return n0(Co(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r){const e=Co(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yw(r,e,i){return Ci(r.app)?Promise.reject(bs(r)):pw(pn(r),Io.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gw(r),a})}function _w(r,e,i,a){return pn(r).onIdTokenChanged(e,i,a)}function vw(r,e,i){return pn(r).beforeAuthStateChanged(e,i)}function Ew(r,e,i,a){return pn(r).onAuthStateChanged(e,i,a)}function i0(r){return pn(r).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1e3,bw=10;class s0 extends r0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);BA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}s0.type="LOCAL";const Sw=s0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends r0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}a0.type="SESSION";const o0=a0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await Aw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=Om("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function Rw(r){Xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function Cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Iw(){return navigator?.serviceWorker?.controller||null}function Dw(){return l0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firebaseLocalStorageDb",xw=1,th="firebaseLocalStorage",c0="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function Nw(){const r=indexedDB.deleteDatabase(u0);return new su(r).toPromise()}function nm(){const r=indexedDB.open(u0,xw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:c0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await Nw(),e(await nm()))})})}async function hv(r,e,i){const a=_h(r,!0).put({[c0]:e,value:i});return new su(a).toPromise()}async function Ow(r,e){const i=_h(r,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function fv(r,e){const i=_h(r,!0).delete(e);return new su(i).toPromise()}const Mw=800,Vw=3;class h0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Vw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(Dw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Iw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await hv(e,eh,"1"),await fv(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>hv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Ow(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h0.type="LOCAL";const kw=h0;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,e){return e?Rr(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return mo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Uw(r){return n0(r.auth,new Mm(r),r.bypassAuthState)}function Lw(r){const{auth:e,user:i}=r;return Ne(i,e,"internal-error"),mw(i,new Mm(r),r.bypassAuthState)}async function zw(r){const{auth:e,user:i}=r;return Ne(i,e,"internal-error"),dw(i,new Mm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return zw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:xi(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new iu(2e3,1e4);class co extends f0{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jw.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="pendingRedirect",jc=new Map;class Hw extends f0{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(r,e){const i=Yw(e),a=Gw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Fw(r,e){jc.set(r._key(),e)}function Gw(r){return Rr(r._redirectPersistence)}function Yw(r){return zc(Bw,r.config.apiKey,r.name)}async function Xw(r,e,i=!1){if(Ci(r.app))return Promise.reject(bs(r));const a=Co(r),l=Pw(a,e),d=await new Hw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=600*1e3;class Kw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$w(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!d0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Yi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qw&&this.cachedEventUids.clear(),this.cachedEventUids.has(dv(e))}saveEventToCache(e){this.cachedEventUids.add(dv(e)),this.lastProcessedEventTime=Date.now()}}function dv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function d0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function $w(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(r,e={}){return Ns(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ww=/^https?/;async function eR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Zw(r);for(const i of e)try{if(tR(i))return}catch{}xi(r,"unauthorized-domain")}function tR(r){const e=em(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Ww.test(i))return!1;if(Jw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new iu(3e4,6e4);function mv(){const r=Xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function iR(r){return new Promise((e,i)=>{function a(){mv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mv(),i(Yi(r,"network-request-failed"))},timeout:nR.get()})}if(Xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xi().gapi?.load)a();else{const l=$A("iframefcb");return Xi()[l]=()=>{gapi.load?a():i(Yi(r,"network-request-failed"))},ZE(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function rR(r){return Bc=Bc||iR(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new iu(5e3,15e3),aR="__/auth/iframe",oR="emulator/auth/iframe",lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Cm(e,oR):`https://${r.config.authDomain}/${aR}`,a={apiKey:e.apiKey,appName:r.name,v:Ro},l=uR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${nu(a).slice(1)}`}async function hR(r){const e=await rR(r),i=Xi().gapi;return Ne(i,r,"internal-error"),e.open({where:document.body,url:cR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Yi(r,"network-request-failed"),p=Xi().setTimeout(()=>{c(d)},sR.get());function _(){Xi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dR=500,mR=600,pR="_blank",gR="http://localhost";class pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yR(r,e,i,a=dR,l=mR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...fR,width:a.toString(),height:l.toString(),top:c,left:d},y=bn().toLowerCase();i&&(p=FE(y)?pR:i),HE(y)&&(e=e||gR,_.scrollbars="yes");const A=Object.entries(_).reduce((N,[q,re])=>`${N}${q}=${re},`,"");if(jA(y)&&p!=="_self")return _R(e||"",p),new pv(null);const w=window.open(e||"",p,A);Ne(w,r,"popup-blocked");try{w.focus()}catch{}return new pv(w)}function _R(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="__/auth/handler",ER="emulator/auth/handler",TR=encodeURIComponent("fac");async function gv(r,e,i,a,l,c){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Ro,eventId:l};if(e instanceof e0){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",lS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof ru){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${TR}=${encodeURIComponent(_)}`:"";return`${bR(r)}?${nu(p).slice(1)}${y}`}function bR({config:r}){return r.emulator?Cm(r,ER):`https://${r.authDomain}/${vR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class SR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o0,this._completeRedirectFn=Xw,this._overrideRedirectResult=Fw}async _openPopup(e,i,a,l){Dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gv(e,i,a,em(),l);return yR(e,c,Om())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await gv(e,i,a,em(),l);return Rw(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Dr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await hR(e),a=new Kw(e);return i.register("authEvent",l=>(Ne(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return KE()||qE()||Dm()}}const AR=SR;var yv="@firebase/auth",_v="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CR(r){yo(new fa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(r)},y=new YA(a,l,c,_);return nw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),yo(new fa("auth-internal",e=>{const i=Co(e.getProvider("auth").getImmediate());return(a=>new wR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(yv,_v,RR(r)),Ts(yv,_v,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=300,DR=wE("authIdTokenMaxAge")||IR;let vv=null;const xR=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>DR)return;const l=i?.token;vv!==l&&(vv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function NR(r=NE()){const e=wm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=tw(r,{popupRedirectResolver:AR,persistence:[kw,Sw,o0]}),a=wE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=xR(c.toString());vw(i,d,()=>d(i.currentUser)),_w(i,p=>d(p))}}const l=SE("auth");return l&&iw(i,`http://${l}`),i}function OR(){return document.getElementsByTagName("head")?.[0]??document}XA({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Yi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",OR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CR("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,m0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,R){function I(){}I.prototype=R.prototype,T.F=R.prototype,T.prototype=new I,T.prototype.constructor=T,T.D=function(V,O,P){for(var C=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)C[nt-2]=arguments[nt];return R.prototype[O].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(T,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=T.g[0],I=T.g[1],O=T.g[2];let P=T.g[3],C;C=R+(P^I&(O^P))+V[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(O^R&(I^O))+V[1]+3905402710&4294967295,P=R+(C<<12&4294967295|C>>>20),C=O+(I^P&(R^I))+V[2]+606105819&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(R^O&(P^R))+V[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(P^I&(O^P))+V[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(O^R&(I^O))+V[5]+1200080426&4294967295,P=R+(C<<12&4294967295|C>>>20),C=O+(I^P&(R^I))+V[6]+2821735955&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(R^O&(P^R))+V[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(P^I&(O^P))+V[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(O^R&(I^O))+V[9]+2336552879&4294967295,P=R+(C<<12&4294967295|C>>>20),C=O+(I^P&(R^I))+V[10]+4294925233&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(R^O&(P^R))+V[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(P^I&(O^P))+V[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=P+(O^R&(I^O))+V[13]+4254626195&4294967295,P=R+(C<<12&4294967295|C>>>20),C=O+(I^P&(R^I))+V[14]+2792965006&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(R^O&(P^R))+V[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(O^P&(I^O))+V[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(R^I))+V[6]+3225465664&4294967295,P=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(P^R))+V[11]+643717713&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(O^P))+V[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^P&(I^O))+V[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(R^I))+V[10]+38016083&4294967295,P=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(P^R))+V[15]+3634488961&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(O^P))+V[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^P&(I^O))+V[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(R^I))+V[14]+3275163606&4294967295,P=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(P^R))+V[3]+4107603335&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(O^P))+V[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^P&(I^O))+V[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(R^I))+V[2]+4243563512&4294967295,P=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(P^R))+V[7]+1735328473&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^R&(O^P))+V[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(I^O^P)+V[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^O)+V[8]+2272392833&4294967295,P=R+(C<<11&4294967295|C>>>21),C=O+(P^R^I)+V[11]+1839030562&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^R)+V[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^P)+V[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^O)+V[4]+1272893353&4294967295,P=R+(C<<11&4294967295|C>>>21),C=O+(P^R^I)+V[7]+4139469664&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^R)+V[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^P)+V[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^O)+V[0]+3936430074&4294967295,P=R+(C<<11&4294967295|C>>>21),C=O+(P^R^I)+V[3]+3572445317&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^R)+V[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^P)+V[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=P+(R^I^O)+V[12]+3873151461&4294967295,P=R+(C<<11&4294967295|C>>>21),C=O+(P^R^I)+V[15]+530742520&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^R)+V[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(O^(I|~P))+V[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~O))+V[7]+1126891415&4294967295,P=R+(C<<10&4294967295|C>>>22),C=O+(R^(P|~I))+V[14]+2878612391&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~R))+V[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~P))+V[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~O))+V[3]+2399980690&4294967295,P=R+(C<<10&4294967295|C>>>22),C=O+(R^(P|~I))+V[10]+4293915773&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~R))+V[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~P))+V[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~O))+V[15]+4264355552&4294967295,P=R+(C<<10&4294967295|C>>>22),C=O+(R^(P|~I))+V[6]+2734768916&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~R))+V[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~P))+V[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=P+(I^(R|~O))+V[11]+3174756917&4294967295,P=R+(C<<10&4294967295|C>>>22),C=O+(R^(P|~I))+V[2]+718787259&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~R))+V[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+P&4294967295}a.prototype.v=function(T,R){R===void 0&&(R=T.length);const I=R-this.blockSize,V=this.C;let O=this.h,P=0;for(;P<R;){if(O==0)for(;P<=I;)l(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<R;)if(V[O++]=T.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<R;)if(V[O++]=T[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;R=this.o*8;for(var I=T.length-8;I<T.length;++I)T[I]=R&255,R/=256;for(this.v(T),T=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)T[R++]=this.g[I]>>>V&255;return T};function c(T,R){var I=p;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=R(T)}function d(T,R){this.h=R;const I=[];let V=!0;for(let O=T.length-1;O>=0;O--){const P=T[O]|0;V&&P==R||(I[O]=P,V=!1)}this.g=I}var p={};function _(T){return-128<=T&&T<128?c(T,function(R){return new d([R|0],R<0?-1:0)}):new d([T|0],T<0?-1:0)}function y(T){if(isNaN(T)||!isFinite(T))return w;if(T<0)return G(y(-T));const R=[];let I=1;for(let V=0;T>=I;V++)R[V]=T/I|0,I*=4294967296;return new d(R,0)}function A(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return G(A(T.substring(1),R));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(R,8));let V=w;for(let P=0;P<T.length;P+=8){var O=Math.min(8,T.length-P);const C=parseInt(T.substring(P,P+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(C))):(V=V.j(I),V=V.add(y(C)))}return V}var w=_(0),N=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(te(this))return-G(this).m();let T=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);T+=(V>=0?V:4294967296+V)*R,R*=4294967296}return T},r.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(re(this))return"0";if(te(this))return"-"+G(this).toString(T);const R=y(Math.pow(T,6));var I=this;let V="";for(;;){const O=Be(I,R).g;I=de(I,O.j(R));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(T);if(I=O,re(I))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function re(T){if(T.h!=0)return!1;for(let R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function te(T){return T.h==-1}r.l=function(T){return T=de(this,T),te(T)?-1:re(T)?0:1};function G(T){const R=T.g.length,I=[];for(let V=0;V<R;V++)I[V]=~T.g[V];return new d(I,~T.h).add(N)}r.abs=function(){return te(this)?G(this):this},r.add=function(T){const R=Math.max(this.g.length,T.g.length),I=[];let V=0;for(let O=0;O<=R;O++){let P=V+(this.i(O)&65535)+(T.i(O)&65535),C=(P>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);V=C>>>16,P&=65535,C&=65535,I[O]=C<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function de(T,R){return T.add(G(R))}r.j=function(T){if(re(this)||re(T))return w;if(te(this))return te(T)?G(this).j(G(T)):G(G(this).j(T));if(te(T))return G(this.j(G(T)));if(this.l(q)<0&&T.l(q)<0)return y(this.m()*T.m());const R=this.g.length+T.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<T.g.length;O++){const P=this.i(V)>>>16,C=this.i(V)&65535,nt=T.i(O)>>>16,ft=T.i(O)&65535;I[2*V+2*O]+=C*ft,we(I,2*V+2*O),I[2*V+2*O+1]+=P*ft,we(I,2*V+2*O+1),I[2*V+2*O+1]+=C*nt,we(I,2*V+2*O+1),I[2*V+2*O+2]+=P*nt,we(I,2*V+2*O+2)}for(T=0;T<R;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=R;T<2*R;T++)I[T]=0;return new d(I,0)};function we(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function be(T,R){this.g=T,this.h=R}function Be(T,R){if(re(R))throw Error("division by zero");if(re(T))return new be(w,w);if(te(T))return R=Be(G(T),R),new be(G(R.g),G(R.h));if(te(R))return R=Be(T,G(R)),new be(G(R.g),R.h);if(T.g.length>30){if(te(T)||te(R))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=R;V.l(T)<=0;)I=Se(I),V=Se(V);var O=Me(I,1),P=Me(V,1);for(V=Me(V,2),I=Me(I,2);!re(V);){var C=P.add(V);C.l(T)<=0&&(O=O.add(I),P=C),V=Me(V,1),I=Me(I,1)}return R=de(T,O.j(R)),new be(O,R)}for(O=w;T.l(R)>=0;){for(I=Math.max(1,Math.floor(T.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=y(I),C=P.j(R);te(C)||C.l(T)>0;)I-=V,P=y(I),C=P.j(R);re(P)&&(P=N),O=O.add(P),T=de(T,C)}return new be(O,T)}r.B=function(T){return Be(this,T).h},r.and=function(T){const R=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&T.i(V);return new d(I,this.h&T.h)},r.or=function(T){const R=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|T.i(V);return new d(I,this.h|T.h)},r.xor=function(T){const R=Math.max(this.g.length,T.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^T.i(V);return new d(I,this.h^T.h)};function Se(T){const R=T.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=T.i(V)<<1|T.i(V-1)>>>31;return new d(I,T.h)}function Me(T,R){const I=R>>5;R%=32;const V=T.g.length-I,O=[];for(let P=0;P<V;P++)O[P]=R>0?T.i(P+I)>>>R|T.i(P+I+1)<<32-R:T.i(P+I);return new d(O,T.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,m0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ss=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p0,kl,g0,Hc,im,y0,_0,v0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in v))break e;v=v[j]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,j,X){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return m.prototype[j].apply(S,he)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function re(u,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const X=j.length||0;u.length=v+X;for(let he=0;he<X;he++)u[v+he]=j[he]}else u.push(j)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){d.setTimeout(()=>{throw u},0)}function de(){var u=T;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class we{constructor(){this.h=this.g=null}add(m,v){const S=be.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var be=new te(()=>new Be,u=>u.reset());class Be{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Me=!1,T=new we,R=()=>{const u=Promise.resolve(void 0);Se=()=>{u.then(I)}};function I(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){G(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function nt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(nt,O),nt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function $(u,m,v,S,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=j,this.key=++Q,this.da=this.fa=!1}function le(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function E(u){const m={};for(const v in u)m[v]=u[v];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)u[v]=S[v];for(let X=0;X<L.length;X++)v=L[X],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,S,j){const X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);const he=fe(u,m,S,j);return he>-1?(m=u[he],v||(m.fa=!1)):(m=new $(m,this.src,X,!!S,j),m.fa=v,u.push(m)),m};function ue(u,m){const v=m.type;if(v in u.g){var S=u.g[v],j=Array.prototype.indexOf.call(S,m,void 0),X;(X=j>=0)&&Array.prototype.splice.call(S,j,1),X&&(le(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function fe(u,m,v,S){for(let j=0;j<u.length;++j){const X=u[j];if(!X.da&&X.listener==m&&X.capture==!!v&&X.ha==S)return j}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),Ae={};function _e(u,m,v,S,j){if(Array.isArray(m)){for(let X=0;X<m.length;X++)_e(u,m[X],v,S,j);return null}return v=_t(v),u&&u[ft]?u.J(m,v,p(S)?!!S.capture:!1,j):Pe(u,m,v,!1,S,j)}function Pe(u,m,v,S,j,X){if(!m)throw Error("Invalid event type");const he=p(j)?!!j.capture:!!j;let ze=xt(u);if(ze||(u[ce]=ze=new se(u)),v=ze.add(m,v,S,he,X),v.proxy)return v;if(S=pe(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)P||(j=he),j===void 0&&(j=!1),u.addEventListener(m.toString(),S,j);else if(u.attachEvent)u.attachEvent(Ce(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pe(){function u(v){return m.call(u.src,u.listener,v)}const m=Dt;return u}function tt(u,m,v,S,j){if(Array.isArray(m))for(var X=0;X<m.length;X++)tt(u,m[X],v,S,j);else S=p(S)?!!S.capture:!!S,v=_t(v),u&&u[ft]?(u=u.i,X=String(m).toString(),X in u.g&&(m=u.g[X],v=fe(m,v,S,j),v>-1&&(le(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[X],u.h--)))):u&&(u=xt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fe(m,v,S,j)),(v=u>-1?m[u]:null)&&dt(v))}function dt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ft])ue(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Ce(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=xt(m))?(ue(v,u),v.h==0&&(v.src=null,m[ce]=null)):le(u)}}}function Ce(u){return u in Ae?Ae[u]:Ae[u]="on"+u}function Dt(u,m){if(u.da)u=!0;else{m=new nt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&dt(u),u=v.call(S,m)}return u}function xt(u){return u=u[ce],u instanceof se?u:null}var Et="__closure_events_fn_"+(Math.random()*1e9>>>0);function _t(u){return typeof u=="function"?u:(u[Et]||(u[Et]=function(m){return u.handleEvent(m)}),u[Et])}function it(){V.call(this),this.i=new se(this),this.M=this,this.G=null}w(it,V),it.prototype[ft]=!0,it.prototype.removeEventListener=function(u,m,v,S){tt(this,u,m,v,S)};function We(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var j=m;m=new O(S,u),J(m,j)}j=!0;let X,he;if(v)for(he=v.length-1;he>=0;he--)X=m.g=v[he],j=on(X,S,!0,m)&&j;if(X=m.g=u,j=on(X,S,!0,m)&&j,j=on(X,S,!1,m)&&j,v)for(he=0;he<v.length;he++)X=m.g=v[he],j=on(X,S,!1,m)&&j}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)le(v[S]);delete u.g[m],u.h--}}this.G=null},it.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},it.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function on(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let X=0;X<m.length;++X){const he=m[X];if(he&&!he.da&&he.capture==v){const ze=he.listener,Lt=he.ha||he.src;he.fa&&ue(u.i,he),j=ze.call(Lt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Ni(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function mi(u){u.g=Ni(()=>{u.g=null,u.i&&(u.i=!1,mi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Nt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(u){V.call(this),this.h=u,this.g={}}w($n,V);var Sn=[];function pi(u){Te(u.g,function(m,v){this.g.hasOwnProperty(v)&&dt(m)},u),u.g={}}$n.prototype.N=function(){$n.Z.N.call(this),pi(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,er=d.JSON.parse,tr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function gi(){}function yi(){}var tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}w(Ht,O);function An(){O.call(this,"c")}w(An,O);var Ot={},va=null;function Vr(){return va=va||new it}Ot.Ia="serverreachability";function Ea(u){O.call(this,Ot.Ia,u)}w(Ea,O);function Jn(u){const m=Vr();We(m,new Ea(m))}Ot.STAT_EVENT="statevent";function nr(u,m){O.call(this,Ot.STAT_EVENT,u),this.stat=m}w(nr,O);function Vt(u){const m=Vr();We(m,new nr(m,u))}Ot.Ja="timingevent";function Wn(u,m){O.call(this,Ot.Ja,u),this.size=m}w(Wn,O);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Cn(){this.g=!0}Cn.prototype.ua=function(){this.g=!1};function Vo(u,m,v,S,j,X){u.info(function(){if(u.g)if(X){var he="",ze=X.split("&");for(let at=0;at<ze.length;at++){var Lt=ze[at].split("=");if(Lt.length>1){const Ct=Lt[0];Lt=Lt[1];const ri=Ct.split("_");he=ri.length>=2&&ri[1]=="type"?he+(Ct+"="+Lt+"&"):he+(Ct+"=redacted&")}}}else he=null;else he=X;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+v+`
`+he})}function kr(u,m,v,S,j,X,he){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+v+`
`+X+" "+he})}function In(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ko(u,v)+(S?" "+S:"")})}function ir(u,m){u.info(function(){return"TIMEOUT: "+m})}Cn.prototype.info=function(){};function ko(u,m){if(!u.g)return m;if(!m)return null;try{const X=JSON.parse(m);if(X){for(u=0;u<X.length;u++)if(Array.isArray(X[u])){var v=X[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let he=1;he<S.length;he++)S[he]=""}}}}return Zn(X)}catch{return m}}var rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ks;function sr(){}w(sr,gi),sr.prototype.g=function(){return new XMLHttpRequest},ks=new sr;function ti(u){return encodeURIComponent(String(u))}function $t(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new $n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var Rt={},Ut={};function xn(u,m,v){u.M=1,u.A=Us(qt(m)),u.u=v,u.R=!0,ar(u,null)}function ar(u,m){u.F=Date.now(),Y(u),u.B=qt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Aa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Dn,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Nt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(Sn[0]=j.toString()),j=Sn);for(let X=0;X<j.length;X++){const he=_e(v,j[X],S||m.handleEvent,!1,m.h||m);if(!he)break;m.g[he.key]=he}m=u.J?E(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Jn(),Vo(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ei(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)e:{const ze=Ei(this.g),Lt=this.g.ya(),at=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||ze!=4||Lt==7||(Lt==8||at<=0?Jn(3):Jn(2)),oe(this);var m=this.g.ca();this.X=m;var v=Ta(this);if(this.o=m==200,kr(this.i,this.v,this.B,this.l,this.S,ze,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var X=S;break t}}X=null}if(u=X)In(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ve(this,u);else{this.o=!1,this.m=3,Vt(12),De(this),ge(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<v.length;)if(Ct=x(this,v),Ct==Ut){ze==4&&(this.m=4,Vt(14),u=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Rt){this.m=4,Vt(15),In(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else In(this.i,this.l,Ct,null),Ve(this,Ct);if(Ps(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||v.length!=0||this.h.h||(this.m=1,Vt(16),u=!1),this.o=this.o&&u,!u)In(this.i,this.l,v,"[Invalid Chunked Response]"),De(this),ge(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(he),he.P=!0,Vt(11))}}else In(this.i,this.l,v,null),Ve(this,v);ze==4&&De(this),this.o&&!this.K&&(ze==4?Eu(this.j,this):(this.o=!1,Y(this)))}else lr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),De(this),ge(this)}}}catch{}finally{}};function Ta(u){if(!Ps(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let v="";const S=m.length,j=Ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return De(u),ge(u),"";u.h.i=new d.TextDecoder}for(let X=0;X<S;X++)u.h.h=!0,v+=u.h.i.decode(m[X],{stream:!(j&&X==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Ps(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function x(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Ut:(v=Number(m.substring(v,S)),isNaN(v)?Rt:(S+=1,S+v>m.length?Ut:(m=m.slice(S,S+v),u.C=S+v,m)))}jn.prototype.cancel=function(){this.K=!0,De(this)};function Y(u){u.T=Date.now()+u.H,Z(u,u.H)}function Z(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function oe(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ir(this.i,this.B),this.M!=2&&(Jn(),Vt(17)),De(this),this.m=2,ge(this)):Z(this,this.T-u)};function ge(u){u.j.I==0||u.K||Eu(u.j,u)}function De(u){oe(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,pi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ve(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Mi(v.h,u))){if(!u.L&&Mi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Da(v),qr(v);else break e;Fs(v),Vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));nn(v.h)<=1&&v.ta&&(v.ta=void 0)}else zi(v,11)}else if((u.L||v.g==u)&&Da(v),!C(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let at=j[m];const Ct=at[0];if(!(Ct<=v.K))if(v.K=Ct,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const ri=at[3];ri!=null&&(v.ka=ri,v.j.info("VER="+v.ka));const ji=at[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const Ti=at[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(S=1.5*Ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const bi=u.g;if(bi){const Gs=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var X=S.h;X.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Po(X,X.h),X.h=null))}if(S.G){const xa=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,ut(S.J,S.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var he=u;if(S.na=Su(S,S.L?S.ba:null,S.W),he.L){Uo(S.h,he);var ze=he,Lt=S.O;Lt&&(ze.H=Lt),ze.D&&(oe(ze),Y(ze)),S.g=he}else _u(S);v.i.length>0&&Li(v)}else at[0]!="stop"&&at[0]!="close"||zi(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?zi(v,7):Yo(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}Jn(4)}catch{}}var qe=class{constructor(u,m){this.g=u,this.map=m}};function Tt(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function nn(u){return u.h?1:u.g?u.g.size:0}function Mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Po(u,m){u.g?u.g.add(m):u.h=m}function Uo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Tt.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Lo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let j,X=null;S>=0?(j=u[v].substring(0,S),X=u[v].substring(S+1)):j=u[v],m(j,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Bn?(this.l=u.l,rn(this,u.j),this.o=u.o,this.g=u.g,Pr(this,u.u),this.h=u.h,zo(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,rn(this,m[1]||"",!0),this.o=Vi(m[2]||""),this.g=Vi(m[3]||"",!0),Pr(this,m[4]),this.h=Vi(m[5]||"",!0),zo(this,m[6]||"",!0),this.m=Vi(m[7]||"")):(this.l=!1,this.i=new Lr(null,this.l))}Bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ls(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ls(m,Sa,!0),"@"),u.push(ti(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ls(v,v.charAt(0)=="/"?jo:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ls(v,mu)),u.join("")},Bn.prototype.resolve=function(u){const m=qt(this);let v=!!u.j;v?rn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Pr(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const X=[];for(let he=0;he<j.length;){const ze=j[he++];ze=="."?S&&he==j.length&&X.push(""):ze==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),S&&he==j.length&&X.push("")):(X.push(ze),S=!0)}S=X.join("/")}else S=j}return v?m.h=S:v=u.i.toString()!=="",v?zo(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function qt(u){return new Bn(u)}function rn(u,m,v){u.j=v?Vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Pr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function zo(u,m,v){m instanceof Lr?(u.i=m,wa(u.i,u.l)):(v||(m=Ls(m,Ur)),u.i=new Lr(m,u.l))}function ut(u,m,v){u.i.set(m,v)}function Us(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ls(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,du=/[#\?:]/g,jo=/[#\?]/g,Ur=/[#\?@]/g,mu=/#/g;function Lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function On(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Lr.prototype,r.add=function(u,m){On(this),this.i=null,u=zr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){On(u),m=zr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bo(u,m){return On(u),m=zr(u,m),u.g.has(m)}r.forEach=function(u,m){On(this),this.g.forEach(function(v,S){v.forEach(function(j){u.call(m,j,S,this)},this)},this)};function Ho(u,m){On(u);let v=[];if(typeof m=="string")Bo(u,m)&&(v=v.concat(u.g.get(zr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return On(this),this.i=null,u=zr(this,u),Bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ho(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(zr(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const j=ti(v);v=Ho(this,v);for(let X=0;X<v.length;X++){let he=j;v[X]!==""&&(he+="="+ti(v[X])),u.push(he)}}return this.i=u.join("&")};function gu(u){const m=new Lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function zr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function wa(u,m){m&&!u.j&&(On(u),u.i=null,u.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(pu(this,S),Aa(this,j,v))},u)),u.j=m}function _i(u,m){const v=new Cn;if(d.Image){const S=new Image;S.onload=A(ni,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(ni,v,"TestLoadImage: error",!1,m,S),S.onabort=A(ni,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(ni,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function qo(u,m){const v=new Cn,S=new AbortController,j=setTimeout(()=>{S.abort(),ni(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(X=>{clearTimeout(j),X.ok?ni(v,"TestPingServer: ok",!0,m):ni(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),ni(v,"TestPingServer: error",!1,m)})}function ni(u,m,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function jr(){this.g=new tr}function ki(u){this.i=u.Sb||null,this.h=u.ab||!1}w(ki,gi),ki.prototype.g=function(){return new zs(this.i,this.h)};function zs(u,m){it.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(zs,it),r=zs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,vi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Br(this):vi(this),this.readyState==3&&Ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Br(this))},r.Na=function(u){this.g&&(this.response=u,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(u){u.readyState=4,u.l=null,u.j=null,u.B=null,vi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ii(u){let m="";return Te(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function js(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ii(v),typeof u=="string"?v!=null&&ti(v):ut(u,m,v))}function mt(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(mt,it);var Pi=/^https?$/i,Fo=["POST","PUT"];r=mt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ks.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(X){Bs(this,X);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())v.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of v)this.g.setRequestHeader(X,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(X){Bs(this,X)}};function Bs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Go(u),or(u)}function Go(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,We(this,"complete"),We(this,"abort"),or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),mt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},r.Xa=function(){Hs(this)};function Hs(u){if(u.h&&typeof c<"u"){if(u.v&&Ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(We(u,"readystatechange"),Ei(u)==4){u.h=!1;try{const X=u.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=X===0){let he=String(u.D).match(fu)[1]||null;!he&&d.self&&d.self.location&&(he=d.self.location.protocol.slice(0,-1)),S=!Pi.test(he?he.toLowerCase():"")}v=S}if(v)We(u,"complete"),We(u,"success");else{u.o=6;try{var j=Ei(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Go(u)}}finally{or(u)}}}}function or(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||We(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ei(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),er(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(u){const m={};u=(u.g&&Ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=$t(u[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=m[j]||[];m[j]=X,X.push(v)}k(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Hr(u){this.za=0,this.i=[],this.j=new Cn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,u),this.Za=Ui("retryDelaySeedMs",1e4,u),this.Ta=Ui("forwardChannelMaxRetries",2,u),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Tt(u&&u.concurrentRequestLimit),this.Ba=new jr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Hr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){Vt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Su(this,null,this.W),Li(this)};function Yo(u){if(Ca(u),u.I==3){var m=u.V++,v=qt(u.J);if(ut(v,"SID",u.M),ut(v,"RID",m),ut(v,"TYPE","terminate"),qs(u,v),m=new jn(u,u.j,m),m.M=2,m.A=Us(qt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Y(m)}bu(u)}function qr(u){u.g&&(Qo(u),u.g.cancel(),u.g=null)}function Ca(u){qr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!yn(u.h)&&!u.m){u.m=!0;var m=u.Ea;Se||R(),Me||(Se(),Me=!0),T.add(m,u),u.D=0}}function Ia(u,m){return nn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new jn(this,this.j,u);let X=this.o;if(this.U&&(X?(X=E(X),J(X,this.U)):X=this.U),this.u!==null||this.R||(j.J=X,X=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yu(this,j,m),v=qt(this.J),ut(v,"RID",u),ut(v,"CVER",22),this.G&&ut(v,"X-HTTP-Session-Id",this.G),qs(this,v),X&&(this.R?m="headers="+ti(ii(X))+"&"+m:this.u&&js(v,this.u,X)),Po(this.h,j),this.Ra&&ut(v,"TYPE","init"),this.S?(ut(v,"$req",m),ut(v,"SID","null"),j.U=!0,xn(j,v,null)):xn(j,v,m),this.I=2}}else this.I==3&&(u?Xo(this,u):this.i.length==0||yn(this.h)||Xo(this))};function Xo(u,m){var v;m?v=m.l:v=u.V++;const S=qt(u.J);ut(S,"SID",u.M),ut(S,"RID",v),ut(S,"AID",u.K),qs(u,S),u.u&&u.o&&js(S,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Po(u.h,v),xn(v,S,m)}function qs(u,m){u.H&&Te(u.H,function(v,S){ut(m,S,v)}),u.l&&Te({},function(v,S){ut(m,S,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?y(u.l.Ka,u.l,u):null;e:{var j=u.i;let ze=-1;for(;;){const Lt=["count="+v];ze==-1?v>0?(ze=j[0].g,Lt.push("ofs="+ze)):ze=0:Lt.push("ofs="+ze);let at=!0;for(let Ct=0;Ct<v;Ct++){var X=j[Ct].g;const ri=j[Ct].map;if(X-=ze,X<0)ze=Math.max(0,j[Ct].g-100),at=!1;else try{X="req"+X+"_"||"";try{var he=ri instanceof Map?ri:Object.entries(ri);for(const[ji,Ti]of he){let bi=Ti;p(Ti)&&(bi=Zn(Ti)),Lt.push(X+ji+"="+encodeURIComponent(bi))}}catch(ji){throw Lt.push(X+"type="+encodeURIComponent("_badmap")),ji}}catch{S&&S(ri)}}if(at){he=Lt.join("&");break e}}he=void 0}return u=u.i.splice(0,v),m.G=u,he}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Se||R(),Me||(Se(),Me=!0),T.add(m,u),u.A=0}}function Fs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),Tu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),qr(this),vu(this))};function Qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=qt(u.na);ut(m,"RID","rpc"),ut(m,"SID",u.M),ut(m,"AID",u.K),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(m,"TO",u.ia),ut(m,"TYPE","xmlhttp"),qs(u,m),u.u&&u.o&&js(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Us(qt(m)),v.u=null,v.R=!0,ar(v,u)}r.Va=function(){this.C!=null&&(this.C=null,qr(this),Fs(this),Vt(19))};function Da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){Da(u),Qo(u),u.g=null;var S=2}else if(Mi(u.h,m))v=m.G,Uo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;S=Vr(),We(S,new Wn(S,v)),Li(u)}else _u(u);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&Ia(u,m)||S==2&&Fs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:zi(u,5);break;case 4:zi(u,10);break;case 3:zi(u,6);break;default:zi(u,2)}}}function Tu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function zi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),S=u.Ua;const j=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rn(S,"https"),Us(S),j?_i(S.toString(),v):qo(S.toString(),v)}else Vt(2);u.I=0,u.l&&u.l.pa(m),bu(u),Ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=Lo(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var S=v instanceof Bn?qt(v):new Bn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Pr(S,S.u);else{var j=d.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const X=new Bn(null);S&&rn(X,S),m&&(X.g=m),j&&Pr(X,j),v&&(X.h=v),S=X}return v=u.G,m=u.wa,v&&m&&ut(S,v,m),ut(S,"VER",u.ka),qs(u,S),S}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new mt(new ki({ab:v})):new mt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Fr(){}Fr.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){it.call(this),this.g=new Hr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ur(this)}w(wn,it),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Yo(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Zn(u),u=v);m.i.push(new qe(m.Ya++,u)),m.I==3&&Li(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,wn.Z.N.call(this)};function Ru(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ru,Ht);function Cu(){An.call(this),this.status=1}w(Cu,An);function ur(u){this.g=u}w(ur,wu),ur.prototype.ra=function(){We(this.g,"a")},ur.prototype.qa=function(u){We(this.g,new Ru(u))},ur.prototype.pa=function(u){We(this.g,new Cu)},ur.prototype.oa=function(){We(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,v0=function(){return new Fr},_0=function(){return Vr()},y0=Ot,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Hc=rr,Oi.COMPLETE="complete",g0=Oi,yi.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",it.prototype.listen=it.prototype.J,kl=yi,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,p0=mt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",bv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Sm("@firebase/firestore");function ao(){return ma.logLevel}function me(r,...e){if(ma.logLevel<=Ke.DEBUG){const i=e.map(Vm);ma.debug(`Firestore (${Do}): ${r}`,...i)}}function xr(r,...e){if(ma.logLevel<=Ke.ERROR){const i=e.map(Vm);ma.error(`Firestore (${Do}): ${r}`,...i)}}function vo(r,...e){if(ma.logLevel<=Ke.WARN){const i=e.map(Vm);ma.warn(`Firestore (${Do}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,E0(r,a,i)}function E0(r,e,i){let a=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xr(a),new Error(a)}function lt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||E0(e,l,a)}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Mr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new T0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class PR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=zR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function $e(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Fd(l)===Fd(c)?$e(l,c):Fd(l)?1:-1}return $e(r.length,e.length)}const jR=55296,BR=57343;function Fd(r){const e=r.charCodeAt(0);return e>=jR&&e<=BR}function Eo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class Gi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Oe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Oe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Gi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return $e(e.length,i.length)}static compareSegments(e,i){const a=Gi.isNumericId(e),l=Gi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Gi.extractNumericId(e).compare(Gi.extractNumericId(i)):rm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class At extends Gi{construct(e,i,a){return new At(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new At(i)}static emptyPath(){return new At([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Gi{construct(e,i,a){return new mn(e,i,a)}static isValidIdentifier(e){return HR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new mn([Av])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(i)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(At.fromString(e))}static fromName(e){return new Ie(At.fromString(e).popFirst(5))}static empty(){return new Ie(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return At.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r,e,i){if(!i)throw new ve(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qR(r,e,i,a){if(e===!0&&a===!0)throw new ve(ae.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function wv(r){if(!Ie.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rv(r){if(Ie.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function S0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Oe(12329,{type:typeof r})}function Nr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pm(r);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,e){const i={typeString:r};return e&&(i.value=e),i}function au(r,e){if(!S0(r))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ve(ae.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv=-62135596800,Iv=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Iv);return new wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Cv)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:Kt("string",wt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new wt(0,0))}static max(){return new ke(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function FR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=ke.fromTimestamp(a===1e9?new wt(i+1,0):new wt(i,a));return new ws(l,Ie.empty(),e)}function GR(r){return new ws(r.readTime,r.key,Kl)}class ws{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new ws(ke.min(),Ie.empty(),Kl)}static max(){return new ws(ke.max(),Ie.empty(),Kl)}}function YR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Ie.comparator(r.documentKey,e.documentKey),i!==0?i:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==XR)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ie(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ie?i:ie.resolve(i)}catch(i){return ie.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ie.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ie.reject(i)}static resolve(e){return new ie(((i,a)=>{i(e)}))}static reject(e){return new ie(((i,a)=>{a(e)}))}static waitFor(e){return new ie(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(e){let i=ie.resolve(!1);for(const a of e)i=i.next((l=>l?ie.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new ie(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new ie(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function KR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function Eh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function $R(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="";function ZR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Dv(e)),e=JR(r.get(i),e);return Dv(e)}function JR(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case A0:i+="";break;default:i+=c}}return i}function Dv(r){return r+A0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Os(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function w0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,i){this.comparator=e,this.root=i||dn.EMPTY}insert(e,i){return new Mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??dn.RED,this.left=l??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new dn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new dn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(e){return new Nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new en(this.comparator);return i.data=e,i}}class Nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new en(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new R0("Invalid base64 string: "+c):c}})(e);return new gn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new gn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(r){if(lt(!!r,39018),typeof r=="string"){let e=0;const i=WR.exec(r);if(lt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cs(r){return typeof r=="string"?gn.fromBase64String(r):gn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="server_timestamp",I0="__type__",D0="__previous_value__",x0="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[I0]?.stringValue===C0}function Th(r){const e=r.mapValue.fields[D0];return Lm(e)?Th(e):e}function $l(r){const e=Rs(r.mapValue.fields[x0].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,i,a,l,c,d,p,_,y,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const ih="(default)";class Zl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__type__",t2="__max__",Vc={mapValue:{}},O0="__vector__",rh="value";function Is(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:i2(r)?9007199254740991:n2(r)?10:11:Oe(28295,{value:r})}function Ji(r,e){if(r===e)return!0;const i=Is(r);if(i!==Is(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $l(r).isEqual($l(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Rs(l.timestampValue),p=Rs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Cs(l.bytesValue).isEqual(Cs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Bt(l.geoPointValue.latitude)===Bt(c.geoPointValue.latitude)&&Bt(l.geoPointValue.longitude)===Bt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Bt(l.integerValue)===Bt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Bt(l.doubleValue),p=Bt(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(xv(d)!==xv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ji(d[_],p[_])))return!1;return!0})(r,e);default:return Oe(52216,{left:r})}}function Jl(r,e){return(r.values||[]).find((i=>Ji(i,e)))!==void 0}function To(r,e){if(r===e)return 0;const i=Is(r),a=Is(e);if(i!==a)return $e(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Bt(c.integerValue||c.doubleValue),_=Bt(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,e);case 3:return Ov(r.timestampValue,e.timestampValue);case 4:return Ov($l(r),$l(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return(function(c,d){const p=Cs(c),_=Cs(d);return p.compareTo(_)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=$e(p[y],_[y]);if(A!==0)return A}return $e(p.length,_.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=$e(Bt(c.latitude),Bt(d.latitude));return p!==0?p:$e(Bt(c.longitude),Bt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Mv(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[rh]?.arrayValue,A=_[rh]?.arrayValue,w=$e(y?.values?.length||0,A?.values?.length||0);return w!==0?w:Mv(y,A)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const N=rm(_[w],A[w]);if(N!==0)return N;const q=To(p[_[w]],y[A[w]]);if(q!==0)return q}return $e(_.length,A.length)})(r.mapValue,e.mapValue);default:throw Oe(23264,{he:i})}}function Ov(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const i=Rs(r),a=Rs(e),l=$e(i.seconds,a.seconds);return l!==0?l:$e(i.nanos,a.nanos)}function Mv(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=To(i[l],a[l]);if(c)return c}return $e(i.length,a.length)}function bo(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Rs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Cs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Ie.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=sm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${sm(i.fields[d])}`;return l+"}"})(r.mapValue):Oe(61005,{value:r})}function qc(r){switch(Is(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(r);return e?16+qc(e):16;case 5:return 2*r.stringValue.length;case 6:return Cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Os(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(r.mapValue);default:throw Oe(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function Vv(r){return!!r&&"nullValue"in r}function kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[N0]?.stringValue===O0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Os(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Hl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return{...r}}function i2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=mn.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Hl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Os(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new zn(Hl(this.value))}}function M0(r){const e=[];return Os(r.fields,((i,a)=>{const l=new mn([i]);if(Fc(a)){const c=M0(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Tn(e,0,ke.min(),ke.min(),ke.min(),zn.empty(),0)}static newFoundDocument(e,i,a,l){return new Tn(e,1,i,ke.min(),a,l,0)}static newNoDocument(e,i){return new Tn(e,2,i,ke.min(),ke.min(),zn.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,ke.min(),ke.min(),zn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,i){this.position=e,this.inclusive=i}}function Pv(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=Ie.comparator(Ie.fromName(d.referenceValue),i.key):a=To(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Uv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ji(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function r2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{}class Jt extends V0{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new a2(e,i,a):i==="array-contains"?new u2(e,a):i==="in"?new c2(e,a):i==="not-in"?new h2(e,a):i==="array-contains-any"?new f2(e,a):new Jt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new o2(e,a):new l2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(To(i,this.value)):i!==null&&Is(this.value)===Is(i)&&this.matchesComparison(To(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends V0{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return k0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k0(r){return r.op==="and"}function P0(r){return s2(r)&&k0(r)}function s2(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function om(r){if(r instanceof Jt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(P0(r))return r.filters.map((e=>om(e))).join(",");{const e=r.filters.map((i=>om(i))).join(",");return`${r.op}(${e})`}}function U0(r,e){return r instanceof Jt?(function(a,l){return l instanceof Jt&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(r,e):r instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&U0(d,l.filters[p])),!0):!1})(r,e):void Oe(19439)}function L0(r){return r instanceof Jt?(function(i){return`${i.field.canonicalString()} ${i.op} ${bo(i.value)}`})(r):r instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(L0).join(" ,")+"}"})(r):"Filter"}class a2 extends Jt{constructor(e,i,a){super(e,i,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const i=Ie.comparator(e.key,this.key);return this.matchesComparison(i)}}class o2 extends Jt{constructor(e,i){super(e,"in",i),this.keys=z0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class l2 extends Jt{constructor(e,i){super(e,"not-in",i),this.keys=z0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function z0(r,e){return(e.arrayValue?.values||[]).map((i=>Ie.fromName(i.referenceValue)))}class u2 extends Jt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zm(i)&&Jl(i.arrayValue,this.value)}}class c2 extends Jt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class h2 extends Jt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class f2 extends Jt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Lv(r,e=null,i=[],a=[],l=null,c=null,d=null){return new d2(r,e,i,a,l,c,d)}function jm(r){const e=Le(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Eh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>bo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>bo(a))).join(",")),e.Te=i}return e.Te}function Bm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!r2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!U0(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Uv(r.startAt,e.startAt)&&Uv(r.endAt,e.endAt)}function lm(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(r,e,i,a,l,c,d,p){return new bh(r,e,i,a,l,c,d,p)}function Hm(r){return new bh(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function p2(r){return r.collectionGroup!==null}function ql(r){const e=Le(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new en(mn.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(mn.keyField().canonicalString())||e.Ie.push(new ah(mn.keyField(),a))}return e.Ie}function Qi(r){const e=Le(r);return e.Ee||(e.Ee=g2(e,ql(r))),e.Ee}function g2(r,e){if(r.limitType==="F")return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function um(r,e,i){return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Sh(r,e){return Bm(Qi(r),Qi(e))&&r.limitType===e.limitType}function j0(r){return`${jm(Qi(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>L0(l))).join(", ")}]`),Eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>bo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>bo(l))).join(",")),`Target(${a})`})(Qi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ie.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of ql(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Pv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,ql(a),l)||a.endAt&&!(function(d,p,_){const y=Pv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,ql(a),l))})(r,e)}function y2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B0(r){return(e,i)=>{let a=!1;for(const l of ql(r)){const c=_2(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function _2(r,e,i){const a=r.field.isKeyField()?Ie.comparator(e.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?To(_,y):Oe(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Oe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Mt(Ie.comparator);function Or(){return v2}const H0=new Mt(Ie.comparator);function Pl(...r){let e=H0;for(const i of r)e=e.insert(i.key,i);return e}function q0(r){let e=H0;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function la(){return Fl()}function F0(){return Fl()}function Fl(){return new ya((r=>r.toString()),((r,e)=>r.isEqual(e)))}const E2=new Mt(Ie.comparator),T2=new en(Ie.comparator);function Ze(...r){let e=T2;for(const i of r)e=e.add(i);return e}const b2=new en($e);function S2(){return b2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function G0(r){return{integerValue:""+r}}function A2(r,e){return $R(e)?G0(e):qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function w2(r,e,i){return r instanceof oh?(function(l,c){const d={fields:{[I0]:{stringValue:C0},[x0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=Th(c)),c&&(d.fields[D0]=c),{mapValue:d}})(i,e):r instanceof Wl?X0(r,e):r instanceof eu?Q0(r,e):(function(l,c){const d=Y0(l,c),p=jv(d)+jv(l.Ae);return am(d)&&am(l.Ae)?G0(p):qm(l.serializer,p)})(r,e)}function R2(r,e,i){return r instanceof Wl?X0(r,e):r instanceof eu?Q0(r,e):i}function Y0(r,e){return r instanceof lh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends wh{}class Wl extends wh{constructor(e){super(),this.elements=e}}function X0(r,e){const i=K0(e);for(const a of r.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class eu extends wh{constructor(e){super(),this.elements=e}}function Q0(r,e){let i=K0(e);for(const a of r.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class lh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function jv(r){return Bt(r.integerValue||r.doubleValue)}function K0(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function C2(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof Wl&&l instanceof Wl||a instanceof eu&&l instanceof eu?Eo(a.elements,l.elements,Ji):a instanceof lh&&l instanceof lh?Ji(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(r.transform,e.transform)}class I2{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function $0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fm(r.key,Di.none()):new ou(r.key,r.data,Di.none());{const i=r.data,a=zn.empty();let l=new en(mn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ms(r.key,a,new Kn(l.toArray()),Di.none())}}function D2(r,e,i){r instanceof ou?(function(l,c,d){const p=l.value.clone(),_=Hv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ms?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Hv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(Z0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Gl(r,e,i,a){return r instanceof ou?(function(c,d,p,_){if(!Gc(c.precondition,d))return p;const y=c.value.clone(),A=qv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,a):r instanceof Ms?(function(c,d,p,_){if(!Gc(c.precondition,d))return p;const y=qv(c.fieldTransforms,_,d),A=d.data;return A.setAll(Z0(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function x2(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=Y0(a.transform,l||null);c!=null&&(i===null&&(i=zn.empty()),i.set(a.field,c))}return i||null}function Bv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Eo(a,l,((c,d)=>C2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Rh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ms extends Rh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function Hv(r,e,i){const a=new Map;lt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,R2(d,p,i[l]))}return a}function qv(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,w2(c,d,e))}return a}class Fm extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N2 extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&D2(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Gl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=F0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=$0(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(ke.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((i,a)=>Bv(i,a)))&&Eo(this.baseMutations,e.baseMutations,((i,a)=>Bv(i,a)))}}class Gm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return E2})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,et;function k2(r){switch(r){case ae.OK:return Oe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Oe(15467,{code:r})}}function J0(r){if(r===void 0)return xr("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Qt.OK:return ae.OK;case Qt.CANCELLED:return ae.CANCELLED;case Qt.UNKNOWN:return ae.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ae.INTERNAL;case Qt.UNAVAILABLE:return ae.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ae.NOT_FOUND;case Qt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Qt.ABORTED:return ae.ABORTED;case Qt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Qt.DATA_LOSS:return ae.DATA_LOSS;default:return Oe(39323,{code:r})}}(et=Qt||(Qt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Ss([4294967295,4294967295],0);function Fv(r){const e=P2().encode(r),i=new m0;return i.update(e),new Uint8Array(i.digest())}function Gv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ss([i,a],0),new Ss([l,c],0)]}class Ym{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ss.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(Ss.fromNumber(a)));return l.compare(U2)===1&&(l=new Ss([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Fv(e),[a,l]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Fv(e),[a,l]=Gv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(ke.min(),l,new Mt($e),Or(),Ze())}}class lu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class W0{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=gn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Yv{constructor(){this.ve=0,this.Fe=Xv(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),i=Ze(),a=Ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Oe(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=Xv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=kc(),this.He=kc(),this.Ye=new Mt($e)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new Ie(c.path);this.et(i,d,Tn.newNoDocument(d,ke.min()))}else lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),_=p?this.ct(p,e,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Cs(a).toUint8Array()}catch(_){if(_ instanceof R0)return vo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Ym(d,l,c)}catch(_){return vo(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const _=new Ie(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Tn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ze();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ch(e,i,this.Ye,this.je,a);return this.je=Or(),this.Je=kc(),this.He=kc(),this.Ye=new Mt($e),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Yv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new en($e),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new en($e),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||me("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new Mt(Ie.comparator)}function Xv(){return new Mt(Ie.comparator)}const z2={asc:"ASCENDING",desc:"DESCENDING"},j2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class H2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(r,e){return r.useProto3Json||Eh(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function q2(r,e){return uh(r,e.toTimestamp())}function Ki(r){return lt(!!r,49232),ke.fromTimestamp((function(i){const a=Rs(i);return new wt(a.seconds,a.nanos)})(r))}function Xm(r,e){return hm(r,e).canonicalString()}function hm(r,e){const i=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function nT(r){const e=At.fromString(r);return lt(oT(e),10190,{key:e.toString()}),e}function fm(r,e){return Xm(r.databaseId,e.path)}function Gd(r,e){const i=nT(e);if(i.get(1)!==r.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Ie(rT(i))}function iT(r,e){return Xm(r.databaseId,e)}function F2(r){const e=nT(r);return e.length===4?At.emptyPath():rT(e)}function dm(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rT(r){return lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qv(r,e,i){return{name:fm(r,e),fields:i.value.mapValue.fields}}function G2(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Oe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(lt(A===void 0||typeof A=="string",58123),gn.fromBase64String(A||"")):(lt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),gn.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?ae.UNKNOWN:J0(y.code);return new ve(A,y.message||"")})(d);i=new eT(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Ki(a.document.updateTime),d=a.document.createTime?Ki(a.document.createTime):ke.min(),p=new zn({mapValue:{fields:a.document.fields}}),_=Tn.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Yc(y,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Ki(a.readTime):ke.min(),d=Tn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new V2(l,c),p=a.targetId;i=new W0(p,d)}}return i}function Y2(r,e){let i;if(e instanceof ou)i={update:Qv(r,e.key,e.value)};else if(e instanceof Fm)i={delete:fm(r,e.key)};else if(e instanceof Ms)i={update:Qv(r,e.key,e.data),updateMask:tC(e.fieldMask)};else{if(!(e instanceof N2))return Oe(16599,{Vt:e.type});i={verify:fm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof lh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Oe(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:q2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Oe(27497)})(r,e.precondition)),i}function X2(r,e){return r&&r.length>0?(lt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ki(l.updateTime):Ki(c);return d.isEqual(ke.min())&&(d=Ki(c)),new I2(d,l.transformResults||[])})(i,e)))):[]}function Q2(r,e){return{documents:[iT(r,e.path)]}}function K2(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,l);const c=(function(y){if(y.length!==0)return aT(Wi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(N){return{field:lo(N.field),direction:J2(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function $2(r){let e=F2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){lt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const N=sT(w);return N instanceof Wi&&P0(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((N=>(function(re){return new ah(uo(re.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let N;return N=typeof w=="object"?w.value:w,Eh(N)?null:N})(i.limit));let _=null;i.startAt&&(_=(function(w){const N=!!w.before,q=w.values||[];return new sh(q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const N=!w.before,q=w.values||[];return new sh(q,N)})(i.endAt)),m2(e,l,d,c,p,"F",_,y)}function Z2(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function sT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=uo(i.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=uo(i.unaryFilter.field);return Jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=uo(i.unaryFilter.field);return Jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=uo(i.unaryFilter.field);return Jt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Jt.create(uo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>sT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(i.compositeFilter.op))})(r):Oe(30097,{filter:r})}function J2(r){return z2[r]}function W2(r){return j2[r]}function eC(r){return B2[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return mn.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof Jt?(function(i){if(i.op==="=="){if(kv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NAN"}};if(Vv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(kv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NAN"}};if(Vv(i.value))return{unaryFilter:{field:lo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(i.field),op:W2(i.op),value:i.value}}})(r):r instanceof Wi?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:eC(i.op),filters:a}}})(r):Oe(54877,{filter:r})}function tC(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i,a,l,c=ke.min(),d=ke.min(),p=gn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.yt=e}}function iC(r){const e=$2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Cn=new sC}addToCollectionParentIndex(e,i){return this.Cn.add(i),ie.resolve()}getCollectionParents(e,i){return ie.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ie.resolve()}deleteFieldIndex(e,i){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,i){return ie.resolve()}getDocumentsMatchingTarget(e,i){return ie.resolve(null)}getIndexType(e,i){return ie.resolve(0)}getFieldIndexes(e,i){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,i){return ie.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,i){return ie.resolve(ws.min())}updateCollectionGroup(e,i,a){return ie.resolve()}updateIndexEntries(e,i){return ie.resolve()}}class sC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new en(At.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new en(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(lT,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new So(0)}static cr(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LruGarbageCollector",aC=1048576;function Zv([r,e],[i,a]){const l=$e(r,i);return l===0?$e(e,a):l}class oC{constructor(e){this.Ir=e,this.buffer=new en(Zv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Zv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me($v,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){No(i)?me($v,"Ignoring IndexedDB error during garbage collection: ",i):await xo(i)}await this.Vr(3e5)}))}}class uC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return ie.resolve(vh.ce);const a=new oC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Kv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),ao()<=Ke.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function cC(r,e){return new uC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.changes=new ya((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ie.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Gl(a.mutation,l,Kn.empty(),wt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ze()){const l=la();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Pl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=la();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ze())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=Or();const d=Fl(),p=(function(){return Fl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Ms)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Gl(A.mutation,y,A.mutation.getFieldMask(),wt.now())):d.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new fC(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Fl();let l=new Mt(((d,p)=>d-p)),c=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Kn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const w=(l.get(p.batchId)||Ze()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,w=F0();A.forEach((N=>{if(!c.has(N)){const q=$0(i.get(N),a.get(N));q!==null&&w.set(N,q),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ie.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Ie.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):p2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):ie.resolve(la());let p=Kl,_=c;return d.next((y=>ie.forEach(y,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?ie.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{_=_.insert(A,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,Ze()))).next((A=>({batchId:p,changes:q0(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ie(i)).next((a=>{let l=Pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(_=>{const y=(function(w,N){return new bh(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((A=>{A.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Tn.newInvalidDocument(A)))}));let p=Pl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Gl(A.mutation,y,Kn.empty(),wt.now()),Ah(i,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ie.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ki(l.createTime)}})(i)),ie.resolve()}getNamedQuery(e,i){return ie.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:iC(l.bundledQuery),readTime:Ki(l.readTime)}})(i)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.overlays=new Mt(Ie.comparator),this.qr=new Map}getOverlay(e,i){return ie.resolve(this.overlays.get(i))}getOverlays(e,i){const a=la();return ie.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),ie.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,i,a){const l=la(),c=i.length+1,d=new Ie(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Mt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=la(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=la(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return ie.resolve(p)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new M2(i,a));let c=this.qr.get(i);c===void 0&&(c=Ze(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new an(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new an(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Ie(new At([])),a=new an(i,e),l=new an(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ie(new At([])),a=new an(i,e),l=new an(i,e+1);let c=Ze();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new an(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class an{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ie.comparator(e.key,i.key)||$e(e.Yr,i.Yr)}static Kr(e,i){return $e(e.Yr,i.Yr)||Ie.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new O2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new an(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,i){return ie.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new en($e);return i.forEach((l=>{const c=new an(l,0),d=new an(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Ie.isDocumentKey(c)||(c=c.child(""));const d=new an(new Ie(c),0);let p=new en($e);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),ie.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){lt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ie.forEach(i.mutations,(l=>{const c=new an(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new an(i,0),l=this.Zr.firstAfterOrEqual(a);return ie.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ie.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=Or();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Tn.newInvalidDocument(l))})),ie.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Or();const d=i.path,p=new Ie(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||YR(GR(A),a)<=0||(l.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Oe(9500)}ii(e,i){return ie.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new vC(this)}getSize(e){return ie.resolve(this.size)}}class vC extends hC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),ie.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.persistence=e,this.si=new ya((i=>jm(i)),Bm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=So.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),ie.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new So(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ie.resolve()}updateTargetData(e,i){return this.Pr(i),ie.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),ie.waitFor(c).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return ie.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),ie.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ie.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return ie.resolve(a)}containsKey(e,i){return ie.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new gC,this.referenceDelegate=e(this),this.Pi=new EC(this),this.indexManager=new rC,this.remoteDocumentCache=(function(l){return new _C(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new nC(i),this.Ii=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new yC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){me("MemoryPersistence","Starting transaction:",e);const l=new TC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return ie.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class TC extends QR{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Ri=new Qm,this.Vi=null}static mi(e){return new Km(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),ie.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ie.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(a=>{const l=Ie.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,ke.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ie.or([()=>ie.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ya((a=>ZR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=cC(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return ie.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?ie.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((p=>{p||(a++,c.removeEntry(d,ke.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qc(e.data.value)),i}br(e,i,a){return ie.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ie.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ze(),l=Ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nS()?8:KR(bn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new bC;return this.Ss(e,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(ao()<=Ke.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(ao()<=Ke.DEBUG&&me("QueryEngine","Query:",oo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ao()<=Ke.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qi(i))):ie.resolve())}ys(e,i){if(zv(i))return ie.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ze(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(e,um(i,null,"F")):this.vs(e,y,i,_)}))))})))))}ws(e,i,a,l){return zv(i)||l.isEqual(ke.min())?ie.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?ie.resolve(null):(ao()<=Ke.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),oo(i)),this.vs(e,d,i,FR(l,Kl)).next((p=>p)))}))}Ds(e,i){let a=new en(B0(e));return i.forEach(((l,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return ao()<=Ke.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",oo(i)),this.ps.getDocumentsMatchingQuery(e,i,ws.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",AC=3e8;class wC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Mt($e),this.xs=new ya((c=>jm(c)),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function RC(r,e,i,a){return new wC(r,e,i,a)}async function cT(r,e){const i=Le(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ze();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function CC(r,e){const i=Le(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const w=y.batch,N=w.keys();let q=ie.resolve();return N.forEach((re=>{q=q.next((()=>A.getEntry(_,re))).next((te=>{const G=y.docVersions.get(re);lt(G!==null,48541),te.version.compareTo(G)<0&&(w.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),A.addEntry(te)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function IC(r,e){const i=Le(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];e.targetChanges.forEach(((A,w)=>{const N=l.get(w);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let q=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(gn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,a)),l=l.insert(w,q),(function(te,G,de){return te.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=AC?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(N,q,A)&&p.push(i.Pi.updateTargetData(c,q))}));let _=Or(),y=Ze();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(DC(c,d,e.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(ke.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return ie.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function DC(r,e,i){let a=Ze(),l=Ze();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Or();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(ke.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):me(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function xC(r,e){const i=Le(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function NC(r,e){const i=Le(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,ie.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new _s(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function mm(r,e,i){const a=Le(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!No(d))throw d;me(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function Jv(r,e,i){const a=Le(r);let l=ke.min(),c=Ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=Le(_),N=w.xs.get(A);return N!==void 0?ie.resolve(w.Ms.get(N)):w.Pi.getTargetData(y,A)})(a,d,Qi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:ke.min(),i?c:Ze()))).next((p=>(OC(a,y2(e),p),{documents:p,Qs:c})))))}function OC(r,e,i){let a=r.Os.get(e)||ke.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class Wv{constructor(){this.activeTargetIds=S2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MC{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(eE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function pm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=pm(),p=this.zo(e,i.toUriEncodedString());me(Yd,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=wo(y);return this.Jo(e,p,_,a,A).then((w=>(me(Yd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw vo(Yd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Do})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=kC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class LC extends PC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=pm();return new Promise(((p,_)=>{const y=new p0;y.setWithCredentials(!0),y.listenOnce(g0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Hc.NO_ERROR:const w=y.getResponseJson();me(vn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case Hc.TIMEOUT:me(vn,`RPC '${e}' ${d} timed out`),_(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const N=y.getStatus();if(me(vn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const re=q?.error;if(re&&re.status&&re.message){const te=(function(de){const we=de.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(we)>=0?we:ae.UNKNOWN})(re.status);_(new ve(te,re.message))}else _(new ve(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(vn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);me(vn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=v0(),p=_0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");me(vn,`Creating RPC '${e}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let N=!1,q=!1;const re=new UC({Yo:G=>{q?me(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(N||(me(vn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),N=!0),me(vn,`RPC '${e}' stream ${l} sending:`,G),w.send(G))},Zo:()=>w.close()}),te=(G,de,we)=>{G.listen(de,(be=>{try{we(be)}catch(Be){setTimeout((()=>{throw Be}),0)}}))};return te(w,kl.EventType.OPEN,(()=>{q||(me(vn,`RPC '${e}' stream ${l} transport opened.`),re.o_())})),te(w,kl.EventType.CLOSE,(()=>{q||(q=!0,me(vn,`RPC '${e}' stream ${l} transport closed`),re.a_(),this.E_(w))})),te(w,kl.EventType.ERROR,(G=>{q||(q=!0,vo(vn,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),re.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),te(w,kl.EventType.MESSAGE,(G=>{if(!q){const de=G.data[0];lt(!!de,16349);const we=de,be=we?.error||we[0]?.error;if(be){me(vn,`RPC '${e}' stream ${l} received error:`,be);const Be=be.status;let Se=(function(R){const I=Qt[R];if(I!==void 0)return J0(I)})(Be),Me=be.message;Se===void 0&&(Se=ae.INTERNAL,Me="Unknown error status: "+Be+" with message "+be.message),q=!0,re.a_(new ve(Se,Me)),w.close()}else me(vn,`RPC '${e}' stream ${l} received:`,de),re.u_(de)}})),te(p,y0.STAT_EVENT,(G=>{G.stat===im.PROXY?me(vn,`RPC '${e}' stream ${l} detected buffering proxy`):G.stat===im.NOPROXY&&me(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{re.__()}),0),re}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new H2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class dT{constructor(e,i,a,l,c,d,p,_){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ae.RESOURCE_EXHAUSTED?(xr(i.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ve(ae.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(me(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zC extends dT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=G2(this.serializer,e),a=(function(c){if(!("targetChange"in c))return ke.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ke.min():d.readTime?Ki(d.readTime):ke.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=lm(_)?{documents:Q2(c,_)}:{query:K2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=tT(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(ke.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=Z2(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.q_(i)}}class jC extends dT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=X2(e.writeResults,e.commitTime),a=Ki(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=dm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Y2(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{}class HC extends BC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ae.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,hm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ae.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(i),this.aa=!1):me("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class FC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{_a(this)&&(me(pa,"Restarting streams for network reachability change."),await(async function(_){const y=Le(_);y.Ea.add(4),await uu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)})(this))}))})),this.Ra=new qC(a,l)}}async function Dh(r){if(_a(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function mT(r,e){const i=Le(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tp(i)?ep(i):Oo(i).O_()&&Wm(i,e))}function Jm(r,e){const i=Le(r),a=Oo(i);i.Ia.delete(e),a.O_()&&pT(i,e),i.Ia.size===0&&(a.O_()?a.L_():_a(i)&&i.Ra.set("Unknown"))}function Wm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Oo(r).Y_(e)}function pT(r,e){r.Va.Ue(e),Oo(r).Z_(e)}function ep(r){r.Va=new L2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.Ra.ua()}function tp(r){return _a(r)&&!Oo(r).x_()&&r.Ia.size>0}function _a(r){return Le(r).Ea.size===0}function gT(r){r.Va=void 0}async function GC(r){r.Ra.set("Online")}async function YC(r){r.Ia.forEach(((e,i)=>{Wm(r,e)}))}async function XC(r,e){gT(r),tp(r)?(r.Ra.ha(e),ep(r)):r.Ra.set("Unknown")}async function QC(r,e,i){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,e)}catch(a){me(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Yc?r.Va.Ze(e):e instanceof W0?r.Va.st(e):r.Va.tt(e),!i.isEqual(ke.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(gn.EMPTY_BYTE_STRING,A.snapshotVersion)),pT(c,_);const w=new _s(A.target,_,y,A.sequenceNumber);Wm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){me(pa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!No(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(pa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dh(r)}))}function yT(r,e){return e().catch((i=>hh(r,i,e)))}async function xh(r){const e=Le(r),i=Ds(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;KC(e);)try{const l=await xC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,$C(e,l)}catch(l){await hh(e,l)}_T(e)&&vT(e)}function KC(r){return _a(r)&&r.Ta.length<10}function $C(r,e){r.Ta.push(e);const i=Ds(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _T(r){return _a(r)&&!Ds(r).x_()&&r.Ta.length>0}function vT(r){Ds(r).start()}async function ZC(r){Ds(r).ra()}async function JC(r){const e=Ds(r);for(const i of r.Ta)e.ea(i.mutations)}async function WC(r,e,i){const a=r.Ta.shift(),l=Gm.from(a,e,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function eI(r,e){e&&Ds(r).X_&&await(async function(a,l){if((function(d){return k2(d)&&d!==ae.ABORTED})(l.code)){const c=a.Ta.shift();Ds(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),_T(r)&&vT(r)}async function iE(r,e){const i=Le(r);i.asyncQueue.verifyOperationInProgress(),me(pa,"RemoteStore received new credentials");const a=_a(i);i.Ea.add(3),await uu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dh(i)}async function tI(r,e){const i=Le(r);e?(i.Ea.delete(2),await Dh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function Oo(r){return r.ma||(r.ma=(function(i,a,l){const c=Le(i);return c.sa(),new zC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:GC.bind(null,r),t_:YC.bind(null,r),r_:XC.bind(null,r),H_:QC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tp(r)?ep(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function Ds(r){return r.fa||(r.fa=(function(i,a,l){const c=Le(i);return c.sa(),new jC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZC.bind(null,r),r_:eI.bind(null,r),ta:JC.bind(null,r),na:WC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(me(pa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new np(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(r,e){if(xr("AsyncQueue",`${e}: ${r}`),No(r))return new ve(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ie.comparator(i.key,a.key):(i,a)=>Ie.comparator(i.key,a.key),this.keyedMap=Pl(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new po;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.ga=new Mt(Ie.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Ao{constructor(e,i,a,l,c,d,p,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ao(e,i,po.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iI{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Le(i),c=l.queries;l.queries=sE(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function sE(){return new ya((r=>j0(r)),Sh)}async function ET(r,e){const i=Le(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new nI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ip(d,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&rp(i)}async function TT(r,e){const i=Le(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function rI(r,e){const i=Le(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&rp(i)}function sI(r,e,i){const a=Le(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function rp(r){r.Ca.forEach((e=>{e.next()}))}var gm,aE;(aE=gm||(gm={})).Ma="default",aE.Cache="cache";class bT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Ao(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.key=e}}class AT{constructor(e){this.key=e}}class aI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=B0(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new rE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const N=l.get(A),q=Ah(this.query,w)?w:null,re=!!N&&this.mutatedKeys.has(N.key),te=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let G=!1;N&&q?N.data.isEqual(q.data)?re!==te&&(a.track({type:3,doc:q}),G=!0):this.su(N,q)||(a.track({type:2,doc:q}),G=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(p=!0)):!N&&q?(a.track({type:0,doc:q}),G=!0):N&&!q&&(a.track({type:1,doc:N}),G=!0,(_||y)&&(p=!0)),G&&(q?(d=d.add(q),c=te?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(q,re){const te=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:G})}};return te(q)-te(re)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new Ao(this.query,e.tu,c,d,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new AT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new ST(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class oI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class lI{constructor(e){this.key=e,this.hu=!1}}class uI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ya((p=>j0(p)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ie.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=So.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cI(r,e,i=!0){const a=xT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,e,i,!0),l}async function hI(r,e){const i=xT(r);await wT(i,e,!0,!1)}async function wT(r,e,i,a){const l=await NC(r.localStore,Qi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await fI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),p}async function fI(r,e,i,a,l){r.pu=(w,N,q)=>(async function(te,G,de,we){let be=G.view.ru(de);be.Cs&&(be=await Jv(te.localStore,G.query,!1).then((({documents:T})=>G.view.ru(T,be))));const Be=we&&we.targetChanges.get(G.targetId),Se=we&&we.targetMismatches.get(G.targetId)!=null,Me=G.view.applyChanges(be,te.isPrimaryClient,Be,Se);return lE(te,G.targetId,Me.au),Me.snapshot})(r,w,N,q);const c=await Jv(r.localStore,e,!0),d=new aI(e,c.Qs),p=d.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);lE(r,i,y.au);const A=new oI(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function dI(r,e,i){const a=Le(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Sh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(xo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function mI(r,e){const i=Le(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function pI(r,e,i){const a=bI(r);try{const l=await(function(d,p){const _=Le(d),y=wt.now(),A=p.reduce(((q,re)=>q.add(re.key)),Ze());let w,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let re=Or(),te=Ze();return _.Ns.getEntries(q,A).next((G=>{re=G,re.forEach(((de,we)=>{we.isValidDocument()||(te=te.add(de))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,re))).next((G=>{w=G;const de=[];for(const we of p){const be=x2(we,w.get(we.key).overlayedDocument);be!=null&&de.push(new Ms(we.key,be,M0(be.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,de,p)})).next((G=>{N=G;const de=G.applyToLocalDocumentSet(w,te);return _.documentOverlayCache.saveOverlays(q,G.batchId,de)}))})).then((()=>({batchId:N.batchId,changes:q0(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Mt($e)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await cu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=ip(l,"Failed to persist write");i.reject(c)}}async function RT(r,e){const i=Le(r);try{const a=await IC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(lt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?lt(d.hu,14607):l.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await xo(a)}}function oE(r,e,i){const a=Le(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Le(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,w)=>{for(const N of w.Sa)N.va(p)&&(y=!0)})),y&&rp(_)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function gI(r,e,i){const a=Le(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Mt(Ie.comparator);d=d.insert(c,Tn.newNoDocument(c,ke.min()));const p=Ze().add(c),_=new Ch(ke.min(),new Map,new Mt($e),d,p);await RT(a,_),a.du=a.du.remove(c),a.Au.delete(e),ap(a)}else await mm(a.localStore,e,!1).then((()=>ym(a,e,i))).catch(xo)}async function yI(r,e){const i=Le(r),a=e.batch.batchId;try{const l=await CC(i.localStore,e);IT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,l)}catch(l){await xo(l)}}async function _I(r,e,i){const a=Le(r);try{const l=await(function(d,p){const _=Le(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(lt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);IT(a,e,i),CT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,l)}catch(l){await xo(l)}}function CT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function IT(r,e,i){const a=Le(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||DT(r,a)}))}function DT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ap(r))}function lE(r,e,i){for(const a of i)a instanceof ST?(r.Ru.addReference(a.key,e),vI(r,a)):a instanceof AT?(me(sp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||DT(r,a.key)):Oe(19791,{wu:a})}function vI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(me(sp,"New document in limbo: "+i),r.Eu.add(a),ap(r))}function ap(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Ie(At.fromString(e)),a=r.fu.next();r.Au.set(a,new lI(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new _s(Qi(Hm(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function cu(r,e,i){const a=Le(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=$m.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=Le(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(y,(N=>ie.forEach(N.Es,(q=>A.persistence.referenceDelegate.addReference(w,N.targetId,q))).next((()=>ie.forEach(N.ds,(q=>A.persistence.referenceDelegate.removeReference(w,N.targetId,q)))))))))}catch(w){if(!No(w))throw w;me(Zm,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const q=A.Ms.get(N),re=q.snapshotVersion,te=q.withLastLimboFreeSnapshotVersion(re);A.Ms=A.Ms.insert(N,te)}}})(a.localStore,c))}async function EI(r,e){const i=Le(r);if(!i.currentUser.isEqual(e)){me(sp,"User change. New user:",e.toKey());const a=await cT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ve(ae.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ls)}}function TI(r,e){const i=Le(r),a=i.Au.get(e);if(a&&a.hu)return Ze().add(a.key);{let l=Ze();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gI.bind(null,e),e.Pu.H_=rI.bind(null,e.eventManager),e.Pu.yu=sI.bind(null,e.eventManager),e}function bI(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_I.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return RC(this.persistence,new SC,e.initialUser,this.serializer)}Cu(e){return new uT(Km.mi,this.serializer)}Du(e){return new MC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class SI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new lC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new uT((a=>ch.mi(a,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>oE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=EI.bind(null,this.syncEngine),await tI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iI})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new LC(c)})(e.databaseInfo);return(function(c,d,p,_){return new HC(c,d,p,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new FC(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>oE(this.syncEngine,i,0)),(function(){return tE.v()?new tE:new VC})())}createSyncEngine(e,i){return(function(l,c,d,p,_,y,A){const w=new uI(l,c,d,p,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Le(i);me(pa,"RemoteStore shutting down."),a.Ea.add(5),await uu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class AI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=En.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{me(xs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(me(xs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Qd(r,e){r.asyncQueue.verifyOperationInProgress(),me(xs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function uE(r,e){r.asyncQueue.verifyOperationInProgress();const i=await wI(r);me(xs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iE(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iE(e.remoteStore,l))),r._onlineComponents=e}async function wI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(xs,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new fh)}}else me(xs,"Using default OfflineComponentProvider"),await Qd(r,new SI(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(xs,"Using user provided OnlineComponentProvider"),await uE(r,r._uninitializedComponentsProvider._online)):(me(xs,"Using default OnlineComponentProvider"),await uE(r,new _m))),r._onlineComponents}function RI(r){return OT(r).then((e=>e.syncEngine))}async function MT(r){const e=await OT(r),i=e.eventManager;return i.onListen=cI.bind(null,e.syncEngine),i.onUnlisten=dI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mI.bind(null,e.syncEngine),i}function CI(r,e,i={}){const a=new Cr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new NT({next:N=>{A.Nu(),d.enqueueAndForget((()=>TT(c,w)));const q=N.docs.has(p);!q&&N.fromCache?y.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&N.fromCache&&_&&_.source==="server"?y.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new bT(Hm(p.path),A,{includeMetadataChanges:!0,qa:!0});return ET(c,w)})(await MT(r),r.asyncQueue,e,i,a))),a.promise}function II(r,e,i={}){const a=new Cr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new NT({next:N=>{A.Nu(),d.enqueueAndForget((()=>TT(c,w))),N.fromCache&&_.source==="server"?y.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new bT(p,A,{includeMetadataChanges:!0,qa:!0});return ET(c,w)})(await MT(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firestore.googleapis.com",hE=!0;class fE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=hE}else this.host=e.host,this.ssl=e.ssl??hE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new MR;switch(a.type){case"firstParty":return new UR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cE.get(i);a&&(me("ComponentProvider","Removing Datastore"),cE.delete(i),a.terminate())})(this),Promise.resolve()}}function DI(r,e,i,a={}){r=Nr(r,Nh);const l=wo(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;l&&(RE(`https://${p}`),CE("Firestore",!0)),c.host!==kT&&c.host!==p&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!ha(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=En.MOCK_USER;else{y=Xb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new En(w)}r._authCredentials=new VR(new T0(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Oh(this.firestore,e,this._query)}}class Wt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,Wt._jsonSchema))return new Wt(e,a||null,new Ie(At.fromString(i.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Kt("string",Wt._jsonSchemaVersion),referencePath:Kt("string")};class As extends Oh{constructor(e,i,a){super(e,i,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Ie(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Ll(r,e,...i){if(r=pn(r),b0("collection","path",e),r instanceof Nh){const a=At.fromString(e,...i);return Rv(a),new As(r,null,a)}{if(!(r instanceof Wt||r instanceof As))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...i));return Rv(a),new As(r.firestore,null,a)}}function ua(r,e,...i){if(r=pn(r),arguments.length===1&&(e=km.newId()),b0("doc","path",e),r instanceof Nh){const a=At.fromString(e,...i);return wv(a),new Wt(r,null,new Ie(a))}{if(!(r instanceof Wt||r instanceof As))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...i));return wv(a),new Wt(r.firestore,r instanceof As?r.converter:null,new Ie(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="AsyncQueue";class mE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&me(dE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;me(dE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",pE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=np.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Oe(47125,{Pc:pE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Mo extends Nh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new mE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function xI(r,e){const i=typeof r=="object"?r:NE(),a=typeof r=="string"?r:ih,l=wm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&DI(l,...c)}return l}function op(r){if(r._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NI(r),r._firestoreClient}function NI(r){const e=r._freezeSettings(),i=(function(l,c,d,p){return new e2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(gn.fromBase64String(e))}catch(i){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new di(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:Kt("string",di._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(au(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Kt("string",$i._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zi(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Kt("string",Zi._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=/^__.*__$/;class MI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}class PT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ms(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function UT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:r})}}class up{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new up({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(UT(this.Ac)&&OI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,l=!1){return new up({Ac:e,methodName:i,Dc:a,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LT(r){const e=r._freezeSettings(),i=Ih(r._databaseId);return new VI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function kI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);cp("Data must be an object, but it was:",d,a);const p=zT(a,d);let _,y;if(c.merge)_=new Kn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const N=vm(e,w,i);if(!d.contains(N))throw new ve(ae.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);BT(A,N)||A.push(N)}_=new Kn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new MI(new zn(p),_,y)}class Vh extends lp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function PI(r,e,i,a){const l=r.Cc(1,e,i);cp("Data must be an object, but it was:",l,a);const c=[],d=zn.empty();Os(a,((_,y)=>{const A=hp(e,_,i);y=pn(y);const w=l.yc(A);if(y instanceof Vh)c.push(A);else{const N=kh(y,w);N!=null&&(c.push(A),d.set(A,N))}}));const p=new Kn(c);return new PT(d,p,l.fieldTransforms)}function UI(r,e,i,a,l,c){const d=r.Cc(1,e,i),p=[vm(e,a,i)],_=[l];if(c.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(vm(e,c[N])),_.push(c[N+1]);const y=[],A=zn.empty();for(let N=p.length-1;N>=0;--N)if(!BT(y,p[N])){const q=p[N];let re=_[N];re=pn(re);const te=d.yc(q);if(re instanceof Vh)y.push(q);else{const G=kh(re,te);G!=null&&(y.push(q),A.set(q,G))}}const w=new Kn(y);return new PT(A,w,d.fieldTransforms)}function kh(r,e){if(jT(r=pn(r)))return cp("Unsupported field value:",e,r),zT(r,e);if(r instanceof lp)return(function(a,l){if(!UT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=kh(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=pn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return A2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=wt.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof wt){const c=new wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof $i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof di)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof Wt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,p){return{mapValue:{fields:{[N0]:{stringValue:O0},[rh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Pm(a)}`)})(r,e)}function zT(r,e){const i={};return w0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(r,((a,l)=>{const c=kh(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof $i||r instanceof di||r instanceof Wt||r instanceof lp||r instanceof Zi)}function cp(r,e,i){if(!jT(i)||!S0(i)){const a=Pm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function vm(r,e,i){if((e=pn(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return hp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const LI=new RegExp("[~\\*/\\[\\]]");function hp(r,e,i){if(e.search(LI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Mh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ve(ae.INVALID_ARGUMENT,p+r+_)}function BT(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zI extends HT{data(){return super.data()}}function qT(r,e){return typeof e=="string"?hp(r,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BI{convertValue(e,i="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Os(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((a=>Bt(a.doubleValue)));return new Zi(i)}convertGeoPoint(e){return new $i(Bt(e.latitude),Bt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const i=Rs(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=At.fromString(e);lt(oT(a),9688,{name:e});const l=new Zl(a.get(1),a.get(3)),c=new Ie(a.popFirst(5));return l.isEqual(i)||xr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends HT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(qT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Kt("string",ca._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Xc extends ca{data(e={}){return super.data(e)}}class go{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new zl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new zl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:qI(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r){r=Nr(r,Wt);const e=Nr(r.firestore,Mo);return CI(op(e),r._key).then((i=>GI(e,r,i)))}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Kt("string",go._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class FT extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,i)}}function Em(r){r=Nr(r,Oh);const e=Nr(r.firestore,Mo),i=op(e),a=new FT(e);return jI(r._query),II(i,r._query).then((l=>new go(e,a,r,l)))}function Tm(r,e,i,...a){r=Nr(r,Wt);const l=Nr(r.firestore,Mo),c=LT(l);let d;return d=typeof(e=pn(e))=="string"||e instanceof Mh?UI(c,"updateDoc",r._key,e,i,a):PI(c,"updateDoc",r._key,e),fp(l,[d.toMutation(r._key,Di.exists(!0))])}function gE(r){return fp(Nr(r.firestore,Mo),[new Fm(r._key,Di.none())])}function yE(r,e){const i=Nr(r.firestore,Mo),a=ua(r),l=HI(r.converter,e);return fp(i,[kI(LT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Di.exists(!1))]).then((()=>a))}function fp(r,e){return(function(a,l){const c=new Cr;return a.asyncQueue.enqueueAndForget((async()=>pI(await RI(a),l,c))),c.promise})(op(r),e)}function GI(r,e,i){const a=i.docs.get(e._key),l=new FT(r);return new ca(r,l,e._key,a,new zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Do=l})(Ro),yo(new fa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Mo(new kR(a.getProvider("auth-internal")),new LR(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ts(Tv,bv,e),Ts(Tv,bv,"esm2020")})();var YI="firebase",XI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(YI,XI,"app");const QI={apiKey:"AIzaSyAYw6oBVlkecGJlAZzuCZlruBCSeFsPuuM",authDomain:"poklona-a8530.firebaseapp.com",projectId:"poklona-a8530",storageBucket:"poklona-a8530.firebasestorage.app",messagingSenderId:"396446466261",appId:"1:396446466261:web:9119f5e342138a4319625c"},GT=xE(QI),Ph=NR(GT),Ri=xI(GT);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$I=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_E=r=>{const e=$I(r);return e.charAt(0).toUpperCase()+e.slice(1)},YT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),ZI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Fe.createElement("svg",{ref:_,...JI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:YT("lucide",l),...!c&&!ZI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Fe.createElement(y,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=(r,e)=>{const i=Fe.forwardRef(({className:a,...l},c)=>Fe.createElement(WI,{ref:c,iconNode:e,className:YT(`lucide-${KI(_E(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_E(r),i};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tD=Vs("circle-check-big",eD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],XT=Vs("gift",nD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],rD=Vs("lock",iD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aD=Vs("log-out",sD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lD=Vs("plus",oD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cD=Vs("settings",uD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fD=Vs("square-pen",hD);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mD=Vs("trash-2",dD);function pD(){const[r,e]=Fe.useState(""),[i,a]=Fe.useState(""),[l,c]=Fe.useState(""),[d,p]=Fe.useState(!1),[_,y]=Fe.useState("text-green-500"),A=["text-green-500","text-yellow-500","text-red-500"];Fe.useEffect(()=>{const N=setInterval(()=>{y(q=>{const re=A.indexOf(q);return A[(re+1)%A.length]})},2e3);return document.body.classList.add("no-scroll"),()=>{clearInterval(N),document.body.classList.remove("no-scroll")}},[]);const w=async N=>{N.preventDefault(),c(""),p(!0);try{await yw(Ph,r,i)}catch{c("Pogrena email adresa ili lozinka"),p(!1)}};return z.jsx("div",{className:"fixed inset-0 sm:relative sm:min-h-screen w-full flex items-center justify-center p-4 sm:p-6 md:p-8 bg-[#f5f4dc]",children:z.jsx("div",{className:"w-full max-w-sm sm:max-w-md relative pb-4 pr-4",children:z.jsxs("div",{className:"relative z-10 bg-[#fffdfd]/95 border-4 border-black p-6 sm:p-8 text-center",style:{boxShadow:"12px 12px 0 0 #000"},children:[z.jsx("div",{className:"mb-6",children:z.jsx(XT,{size:48,className:`${_} mx-auto transition-colors duration-500`})}),z.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold text-[#111827] mb-2",children:"Pavel Voli Taru"}),z.jsx("p",{className:"text-xs sm:text-sm text-gray-700 mb-6",children:"Prijavi se da otvori svoj(e) poklon(e)"}),z.jsxs("form",{onSubmit:w,className:"flex flex-col gap-4",children:[z.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:N=>e(N.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 rounded-none border-2 border-black bg-[#f6f4ee] text-[#111827] text-sm sm:text-base outline-none focus:ring-0",required:!0}),z.jsx("input",{type:"password",placeholder:"Lozinka",value:i,onChange:N=>a(N.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 rounded-none border-2 border-black bg-[#f6f4ee] text-[#111827] text-sm sm:text-base outline-none focus:ring-0",required:!0}),l&&z.jsx("p",{className:"text-sm text-red-600 text-center",children:l}),z.jsx("button",{type:"submit",disabled:d,className:"mt-2 py-2 sm:py-3 px-3 sm:px-4 text-sm sm:text-base rounded-none bg-primary text-white font-bold border-2 border-black disabled:opacity-60 hover:scale-[1.02] transition-transform",children:d?"Prijava...":"Prijavi se"})]})]})})})}function gD({present:r,onOpen:e,isLocked:i}){const[a,l]=Fe.useState(""),[c,d]=Fe.useState(null);Fe.useEffect(()=>{const A=()=>{const re=new Date(r.unlockDate+"T00:00:00")-new Date;if(re<=0){l(""),d(null);return}const te=re/(1e3*60*60*24),G=re/(1e3*60*60);if(d(G),te>=1){const de=Math.ceil(te);l(`${de} dana`)}else{const de=Math.ceil(re/1e3),we=Math.floor(de/3600),be=Math.floor(de%3600/60),Be=de%60;l(`${we}h ${be}m ${Be}s`)}};A();const w=setInterval(A,1e3);return()=>clearInterval(w)},[r.unlockDate]);const p=()=>{i||e(r)},_=()=>c?c<24?"text-yellow-600":"text-red-600":"",y=()=>{if(r.opened)return z.jsx(tD,{size:28,className:"text-green-600"});if(i){const A=_();return z.jsx(rD,{size:28,className:A||"text-gray-400"})}return z.jsx(XT,{size:28,className:"text-green-600"})};return z.jsxs("div",{className:`p-6 border-2 border-black bg-[#f6f4ee] text-[#111827] ${i?"opacity-75 cursor-not-allowed":"hover:scale-105 cursor-pointer"} transform transition-all duration-300`,onClick:p,style:{borderRadius:0},children:[z.jsx("div",{className:"mb-4",children:y()}),z.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Dan ",r.day]}),i&&z.jsx("p",{className:`text-sm font-medium ${_()}`,children:a}),r.opened&&z.jsx("p",{className:"text-sm text-green-600 font-medium",children:" Otvoreno"})]})}var hu={};(function r(e,i,a,l){var c=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),d=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=(function(){if(!e.OffscreenCanvas)return!1;try{var k=new OffscreenCanvas(1,1),E=k.getContext("2d");E.fillRect(0,0,1,1);var L=k.transferToImageBitmap();E.createPattern(L,"no-repeat")}catch{return!1}return!0})();function _(){}function y(k){var E=i.exports.Promise,L=E!==void 0?E:e.Promise;return typeof L=="function"?new L(k):(k(_,_),null)}var A=(function(k,E){return{transform:function(L){if(k)return L;if(E.has(L))return E.get(L);var J=new OffscreenCanvas(L.width,L.height),se=J.getContext("2d");return se.drawImage(L,0,0),E.set(L,J),J},clear:function(){E.clear()}}})(p,new Map),w=(function(){var k=Math.floor(16.666666666666668),E,L,J={},se=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(ue){var fe=Math.random();return J[fe]=requestAnimationFrame(function ce(Ae){se===Ae||se+k-1<Ae?(se=Ae,delete J[fe],ue()):J[fe]=requestAnimationFrame(ce)}),fe},L=function(ue){J[ue]&&cancelAnimationFrame(J[ue])}):(E=function(ue){return setTimeout(ue,k)},L=function(ue){return clearTimeout(ue)}),{frame:E,cancel:L}})(),N=(function(){var k,E,L={};function J(se){function ue(fe,ce){se.postMessage({options:fe||{},callback:ce})}se.init=function(ce){var Ae=ce.transferControlToOffscreen();se.postMessage({canvas:Ae},[Ae])},se.fire=function(ce,Ae,_e){if(E)return ue(ce,null),E;var Pe=Math.random().toString(36).slice(2);return E=y(function(pe){function tt(dt){dt.data.callback===Pe&&(delete L[Pe],se.removeEventListener("message",tt),E=null,A.clear(),_e(),pe())}se.addEventListener("message",tt),ue(ce,Pe),L[Pe]=tt.bind(null,{data:{callback:Pe}})}),E},se.reset=function(){se.postMessage({reset:!0});for(var ce in L)L[ce](),delete L[ce]}}return function(){if(k)return k;if(!a&&c){var se=["var CONFETTI, SIZE = {}, module = {};","("+r.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([se])))}catch(ue){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ue),null}J(k)}return k}})(),q={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function re(k,E){return E?E(k):k}function te(k){return k!=null}function G(k,E,L){return re(k&&te(k[E])?k[E]:q[E],L)}function de(k){return k<0?0:Math.floor(k)}function we(k,E){return Math.floor(Math.random()*(E-k))+k}function be(k){return parseInt(k,16)}function Be(k){return k.map(Se)}function Se(k){var E=String(k).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:be(E.substring(0,2)),g:be(E.substring(2,4)),b:be(E.substring(4,6))}}function Me(k){var E=G(k,"origin",Object);return E.x=G(E,"x",Number),E.y=G(E,"y",Number),E}function T(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function R(k){var E=k.getBoundingClientRect();k.width=E.width,k.height=E.height}function I(k){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=k,E}function V(k,E,L,J,se,ue,fe,ce,Ae){k.save(),k.translate(E,L),k.rotate(ue),k.scale(J,se),k.arc(0,0,1,fe,ce,Ae),k.restore()}function O(k){var E=k.angle*(Math.PI/180),L=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-E+(.5*L-Math.random()*L),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function P(k,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var L=E.tick++/E.totalTicks,J=E.x+E.random*E.tiltCos,se=E.y+E.random*E.tiltSin,ue=E.wobbleX+E.random*E.tiltCos,fe=E.wobbleY+E.random*E.tiltSin;if(k.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-L)+")",k.beginPath(),d&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))k.fill($(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(ue-J)*.1,Math.abs(fe-se)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var ce=Math.PI/10*E.wobble,Ae=Math.abs(ue-J)*.1,_e=Math.abs(fe-se)*.1,Pe=E.shape.bitmap.width*E.scalar,pe=E.shape.bitmap.height*E.scalar,tt=new DOMMatrix([Math.cos(ce)*Ae,Math.sin(ce)*Ae,-Math.sin(ce)*_e,Math.cos(ce)*_e,E.x,E.y]);tt.multiplySelf(new DOMMatrix(E.shape.matrix));var dt=k.createPattern(A.transform(E.shape.bitmap),"no-repeat");dt.setTransform(tt),k.globalAlpha=1-L,k.fillStyle=dt,k.fillRect(E.x-Pe/2,E.y-pe/2,Pe,pe),k.globalAlpha=1}else if(E.shape==="circle")k.ellipse?k.ellipse(E.x,E.y,Math.abs(ue-J)*E.ovalScalar,Math.abs(fe-se)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):V(k,E.x,E.y,Math.abs(ue-J)*E.ovalScalar,Math.abs(fe-se)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var Ce=Math.PI/2*3,Dt=4*E.scalar,xt=8*E.scalar,Et=E.x,_t=E.y,it=5,We=Math.PI/it;it--;)Et=E.x+Math.cos(Ce)*xt,_t=E.y+Math.sin(Ce)*xt,k.lineTo(Et,_t),Ce+=We,Et=E.x+Math.cos(Ce)*Dt,_t=E.y+Math.sin(Ce)*Dt,k.lineTo(Et,_t),Ce+=We;else k.moveTo(Math.floor(E.x),Math.floor(E.y)),k.lineTo(Math.floor(E.wobbleX),Math.floor(se)),k.lineTo(Math.floor(ue),Math.floor(fe)),k.lineTo(Math.floor(J),Math.floor(E.wobbleY));return k.closePath(),k.fill(),E.tick<E.totalTicks}function C(k,E,L,J,se){var ue=E.slice(),fe=k.getContext("2d"),ce,Ae,_e=y(function(Pe){function pe(){ce=Ae=null,fe.clearRect(0,0,J.width,J.height),A.clear(),se(),Pe()}function tt(){a&&!(J.width===l.width&&J.height===l.height)&&(J.width=k.width=l.width,J.height=k.height=l.height),!J.width&&!J.height&&(L(k),J.width=k.width,J.height=k.height),fe.clearRect(0,0,J.width,J.height),ue=ue.filter(function(dt){return P(fe,dt)}),ue.length?ce=w.frame(tt):pe()}ce=w.frame(tt),Ae=pe});return{addFettis:function(Pe){return ue=ue.concat(Pe),_e},canvas:k,promise:_e,reset:function(){ce&&w.cancel(ce),Ae&&Ae()}}}function nt(k,E){var L=!k,J=!!G(E||{},"resize"),se=!1,ue=G(E,"disableForReducedMotion",Boolean),fe=c&&!!G(E||{},"useWorker"),ce=fe?N():null,Ae=L?T:R,_e=k&&ce?!!k.__confetti_initialized:!1,Pe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,pe;function tt(Ce,Dt,xt){for(var Et=G(Ce,"particleCount",de),_t=G(Ce,"angle",Number),it=G(Ce,"spread",Number),We=G(Ce,"startVelocity",Number),on=G(Ce,"decay",Number),Ni=G(Ce,"gravity",Number),mi=G(Ce,"drift",Number),Nt=G(Ce,"colors",Be),$n=G(Ce,"ticks",Number),Sn=G(Ce,"shapes"),pi=G(Ce,"scalar"),Zn=!!G(Ce,"flat"),er=Me(Ce),tr=Et,gi=[],yi=k.width*er.x,tn=k.height*er.y;tr--;)gi.push(O({x:yi,y:tn,angle:_t,spread:it,startVelocity:We,color:Nt[tr%Nt.length],shape:Sn[we(0,Sn.length)],ticks:$n,decay:on,gravity:Ni,drift:mi,scalar:pi,flat:Zn}));return pe?pe.addFettis(gi):(pe=C(k,gi,Ae,Dt,xt),pe.promise)}function dt(Ce){var Dt=ue||G(Ce,"disableForReducedMotion",Boolean),xt=G(Ce,"zIndex",Number);if(Dt&&Pe)return y(function(We){We()});L&&pe?k=pe.canvas:L&&!k&&(k=I(xt),document.body.appendChild(k)),J&&!_e&&Ae(k);var Et={width:k.width,height:k.height};ce&&!_e&&ce.init(k),_e=!0,ce&&(k.__confetti_initialized=!0);function _t(){if(ce){var We={getBoundingClientRect:function(){if(!L)return k.getBoundingClientRect()}};Ae(We),ce.postMessage({resize:{width:We.width,height:We.height}});return}Et.width=Et.height=null}function it(){pe=null,J&&(se=!1,e.removeEventListener("resize",_t)),L&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,_e=!1)}return J&&!se&&(se=!0,e.addEventListener("resize",_t,!1)),ce?ce.fire(Ce,Et,it):tt(Ce,Et,it)}return dt.reset=function(){ce&&ce.reset(),pe&&pe.reset()},dt}var ft;function Q(){return ft||(ft=nt(null,{useWorker:!0,resize:!0})),ft}function $(k,E,L,J,se,ue,fe){var ce=new Path2D(k),Ae=new Path2D;Ae.addPath(ce,new DOMMatrix(E));var _e=new Path2D;return _e.addPath(Ae,new DOMMatrix([Math.cos(fe)*se,Math.sin(fe)*se,-Math.sin(fe)*ue,Math.cos(fe)*ue,L,J])),_e}function le(k){if(!d)throw new Error("path confetti are not supported in this browser");var E,L;typeof k=="string"?E=k:(E=k.path,L=k.matrix);var J=new Path2D(E),se=document.createElement("canvas"),ue=se.getContext("2d");if(!L){for(var fe=1e3,ce=fe,Ae=fe,_e=0,Pe=0,pe,tt,dt=0;dt<fe;dt+=2)for(var Ce=0;Ce<fe;Ce+=2)ue.isPointInPath(J,dt,Ce,"nonzero")&&(ce=Math.min(ce,dt),Ae=Math.min(Ae,Ce),_e=Math.max(_e,dt),Pe=Math.max(Pe,Ce));pe=_e-ce,tt=Pe-Ae;var Dt=10,xt=Math.min(Dt/pe,Dt/tt);L=[xt,0,0,xt,-Math.round(pe/2+ce)*xt,-Math.round(tt/2+Ae)*xt]}return{type:"path",path:E,matrix:L}}function Te(k){var E,L=1,J="#000000",se='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?E=k:(E=k.text,L="scalar"in k?k.scalar:L,se="fontFamily"in k?k.fontFamily:se,J="color"in k?k.color:J);var ue=10*L,fe=""+ue+"px "+se,ce=new OffscreenCanvas(ue,ue),Ae=ce.getContext("2d");Ae.font=fe;var _e=Ae.measureText(E),Pe=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),pe=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),tt=2,dt=_e.actualBoundingBoxLeft+tt,Ce=_e.actualBoundingBoxAscent+tt;Pe+=tt+tt,pe+=tt+tt,ce=new OffscreenCanvas(Pe,pe),Ae=ce.getContext("2d"),Ae.font=fe,Ae.fillStyle=J,Ae.fillText(E,dt,Ce);var Dt=1/L;return{type:"bitmap",bitmap:ce.transferToImageBitmap(),matrix:[Dt,0,0,Dt,-Pe*Dt/2,-pe*Dt/2]}}i.exports=function(){return Q().apply(this,arguments)},i.exports.reset=function(){Q().reset()},i.exports.create=nt,i.exports.shapeFromPath=le,i.exports.shapeFromText=Te})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),hu,!1);const yD=hu.exports;hu.exports.create;function _D(){const[r,e]=Fe.useState([]),[i,a]=Fe.useState(null),[l,c]=Fe.useState(!0),[d,p]=Fe.useState(!0);Fe.useEffect(()=>{_(),window.scrollTo(0,0),document.documentElement.style.zoom="100%",document.body.style.zoom="100%",document.body.classList.remove("no-scroll")},[]),Fe.useEffect(()=>{i?.type==="image"&&p(!0)},[i?.id]),Fe.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]);const _=async()=>{try{const re=(await Em(Ll(Ri,"presents"))).docs.map(te=>({id:te.id,...te.data()}));re.sort((te,G)=>te.day-G.day),e(re),c(!1)}catch(q){console.error("Error loading presents:",q),c(!1)}},y=async q=>{if(a(q),!q.opened)try{const re=ua(Ri,"presents",q.id);await Tm(re,{opened:!0,openedAt:new Date().toISOString()}),yD({particleCount:200,spread:360,startVelocity:50,gravity:.4,ticks:300,scalar:1.2,colors:["#667eea","#f5f4dc","#111827","#fffdfd","#ff6b6b","#4ecdc4","#ffd93d","#a8dadc"],origin:{y:.5}}),_()}catch(re){console.error("Error opening present:",re)}},A=q=>{const re=new Date,te=new Date(q.unlockDate+"T00:00:00");return re<te},w=q=>{if(!q)return"";const re=new Date(q),te=G=>G.toString().padStart(2,"0");return`${re.getFullYear()}-${te(re.getMonth()+1)}-${te(re.getDate())} ${te(re.getHours())}:${te(re.getMinutes())}:${te(re.getSeconds())}`},N=()=>{i0(Ph)};return l?z.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 bg-[#f5f4dc]",children:z.jsx("div",{className:"w-full max-w-md relative pb-4 pr-4",children:z.jsxs("div",{className:"relative z-10 bg-[#fffdfd]/95 border-4 border-black p-6 sm:p-8 text-center",style:{boxShadow:"12px 12px 0 0 #000"},children:[z.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#111827] mb-2",children:"Uitavanje"}),z.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Molimo priekajte..."})]})})}):z.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 bg-[#f5f4dc] overflow-x-hidden",children:z.jsx("div",{className:"w-full max-w-6xl relative",children:z.jsxs("div",{className:"relative z-10 bg-[#fffdfd]/95 border-4 border-black p-6",children:[z.jsxs("header",{className:"flex items-center justify-between mb-6",children:[z.jsx("h1",{className:"text-3xl font-extrabold text-[#111827]",children:"For Ma Waf"}),z.jsx("button",{onClick:N,className:"py-2 px-4 border-2 border-black bg-[#111827] text-white",children:"Odjavi se"})]}),z.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map(q=>z.jsx(gD,{present:q,onOpen:y,isLocked:A(q)},q.id))}),i&&z.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 backdrop-blur-sm transition-all duration-200 animate-fadeIn",onClick:()=>a(null),children:z.jsxs("div",{className:"bg-[#fffdfd]/95 border-4 border-black p-6 sm:p-8 max-w-sm sm:max-w-md w-full relative shadow-lg transform transition-all duration-300 animate-slideUp",onClick:q=>q.stopPropagation(),children:[z.jsx("button",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 text-[#111827] text-xl hover:scale-110 transition-transform",onClick:()=>a(null),children:""}),z.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#111827] mb-2",children:["Dan ",i.day]}),i.opened&&i.openedAt&&z.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:["Otvoreno: ",w(i.openedAt)]}),i.type==="text"&&z.jsx("p",{className:"text-xs sm:text-base text-[#111827] leading-relaxed",children:i.content}),i.type==="image"&&z.jsxs("div",{children:[i.title&&z.jsx("p",{className:"text-xs sm:text-base text-[#111827] leading-relaxed mb-4",children:i.title}),z.jsxs("div",{className:"relative mt-4 min-h-48 bg-gradient-to-br from-[#f5f4dc] to-[#f6f4ee] flex items-center justify-center",children:[d&&z.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:z.jsxs("div",{className:"flex flex-col items-center gap-3",children:[z.jsx("div",{className:"relative w-12 h-12",children:z.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-primary border-r-primary rounded-full animate-spin",style:{animation:"spin 1s linear infinite"}})}),z.jsx("p",{className:"text-xs text-[#111827] font-medium",children:"Uitavanje slike..."})]})}),z.jsx("img",{src:i.content,alt:"Present",className:`w-full transition-opacity duration-500 ${d?"opacity-0":"opacity-100"}`,onLoad:()=>p(!1),onError:()=>p(!1)})]})]}),i.type==="song"&&z.jsxs("div",{children:[z.jsx("p",{className:"text-sm sm:text-base text-[#111827] font-semibold mb-4",children:i.title}),(()=>{if(i.content.includes("spotify.com")){const q=i.content.split("/track/")[1]?.split("?")[0];if(q)return z.jsx("iframe",{src:`https://open.spotify.com/embed/track/${q}`,width:"100%",height:"352",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",style:{border:"none",display:"block"}})}if(i.content.includes("youtube.com")||i.content.includes("youtu.be")){let q="";if(i.content.includes("youtube.com/watch?v=")?q=i.content.split("v=")[1]?.split("&")[0]:i.content.includes("youtu.be/")&&(q=i.content.split("youtu.be/")[1]),q)return z.jsx("div",{className:"border-4 border-black p-0 overflow-hidden",children:z.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${q}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{border:"none",display:"block"}})})}return z.jsx("p",{className:"text-sm text-red-600 p-4",children:"Nevaei Spotify ili YouTube URL"})})()]}),z.jsx("div",{className:"mt-6 flex justify-end gap-2",children:z.jsx("button",{onClick:()=>a(null),className:"px-3 sm:px-4 py-2 text-xs sm:text-sm border-2 border-black bg-[#111827] text-white hover:bg-black transition-colors",children:"Zatvori"})})]})})]})})})}const vD=()=>{const r=new Date("2025-11-03"),e=[];for(let i=1;i<=365;i++){const a=new Date(r);a.setDate(a.getDate()+(i-1));const l=a.toISOString().split("T")[0];e.push({day:i,type:"text",title:"",content:`Day ${i} - PavelVoliTaru${i}`,unlockDate:l,opened:!1,createdAt:new Date().toISOString()})}return e},ED=r=>{const e=`Day,Type,Title,Content,Unlock Date
`,i=r.map(p=>`${p.day},${p.type},"${p.title}","${p.content}",${p.unlockDate}`).join(`
`),a=e+i,l=new Blob([a],{type:"text/csv"}),c=window.URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download="365-pokloni-backup.csv",d.click(),window.URL.revokeObjectURL(c)},TD=async r=>{const e=new FormData;e.append("file",r),e.append("upload_preset","365_poklona");try{const i=await fetch("https://api.cloudinary.com/v1_1/dl0mux3ig/image/upload",{method:"POST",body:e});if(!i.ok)throw new Error("Upload failed");return(await i.json()).secure_url}catch(i){return console.error("Cloudinary upload error:",i),null}};function bD(){const[r,e]=Fe.useState([]),[i,a]=Fe.useState(!1),[l,c]=Fe.useState(!1),[d,p]=Fe.useState(null),[_,y]=Fe.useState(!1),[A,w]=Fe.useState(!1),[N,q]=Fe.useState([]),[re,te]=Fe.useState(!1),[G,de]=Fe.useState({day:"",type:"text",title:"",content:"",unlockDate:""}),[we,be]=Fe.useState(null);Fe.useEffect(()=>{Be()},[]);const Be=async()=>{try{const le=(await Em(Ll(Ri,"presents"))).docs.map(Te=>({id:Te.id,...Te.data()}));le.sort((Te,k)=>Te.day-k.day),e(le)}catch($){console.error("Error loading presents:",$)}},Se=async $=>{$.preventDefault();try{let le=G.content;if(G.type==="image"&&we){y(!0);const k=await TD(we);if(y(!1),!k){alert("Greka pri uitavanju slike");return}le=k}if(G.type==="image"&&!le){alert("Molimo odaberi sliku");return}const Te={day:parseInt(G.day),type:G.type,title:G.title,content:le,unlockDate:G.unlockDate,opened:!1};d?await Tm(ua(Ri,"presents",d.id),Te):await yE(Ll(Ri,"presents"),Te),P(),Be()}catch(le){console.error("Error saving present:",le),alert("Greka pri spremanju poklona")}},Me=$=>{p($),de({day:$.day,type:$.type,title:$.title||"",content:$.content,unlockDate:$.unlockDate}),a(!0)},T=async $=>{if(window.confirm("Jesi li siguran da eli obrisati ovaj poklon?"))try{await gE(ua(Ri,"presents",$)),Be()}catch(le){console.error("Error deleting present:",le)}},R=async $=>{if(window.confirm('eli li zaista vratiti ovaj poklon u stanje "spakirano"?'))try{await Tm(ua(Ri,"presents",$),{opened:!1,openedAt:null}),Be()}catch(le){console.error("Error re-packing present:",le)}},I=async()=>{if(window.confirm(` Ovo e generisati svih 365 poklona poevi od 3.11.2025.

Sigurno eli nastaviti?`))try{w(!0);const le=vD();let Te=0;for(const k of le)await yE(Ll(Ri,"presents"),k),Te++;alert(` Svih ${Te} poklona je uspjeno dodano!`),Be()}catch(le){console.error("Error generating presents:",le),alert(" Greka pri generisanju poklona")}finally{w(!1)}},V=async()=>{if(window.confirm(` PANJA! Ovo e obrisati SVE poklone iz baze!

Ova akcija se ne moe vratiti!

Sigurno eli nastaviti?`))try{w(!0);const le=await Em(Ll(Ri,"presents"));let Te=0;for(const k of le.docs)await gE(ua(Ri,"presents",k.id)),Te++;alert(` Obrisano ${Te} poklona`),Be()}catch(le){console.error("Error deleting presents:",le),alert(" Greka pri brisanju poklona")}finally{w(!1)}},O=$=>{if(!$)return"";const le=new Date($),Te=k=>k.toString().padStart(2,"0");return`${le.getFullYear()}-${Te(le.getMonth()+1)}-${Te(le.getDate())} ${Te(le.getHours())}:${Te(le.getMinutes())}:${Te(le.getSeconds())}`},P=()=>{de({day:"",type:"text",title:"",content:"",unlockDate:""}),be(null),p(null),a(!1)},C=()=>{i0(Ph)},nt=()=>{const $=new Date,le=new Date($.getTime()+480*60*1e3),Te=r.filter(k=>{const E=new Date(k.unlockDate),L=k.type==="text"&&k.content&&k.content.includes("PavelVoliTaru"),J=E>$&&E<=le;return L&&J});q(Te),te(Te.length>0)},ft=()=>{if(l){a(!0),c(!1);return}p(null),de({day:"",type:"text",title:"",content:"",unlockDate:""}),a(!0),c(!1)},Q=()=>{a(!1),c(!0)};return z.jsx("div",{className:"min-h-screen flex items-start justify-center p-4 sm:p-6 bg-[#f5f4dc]",children:z.jsx("div",{className:"w-full max-w-4xl relative mt-4 sm:mt-6",children:z.jsxs("div",{className:"relative z-10 bg-[#fffdfd]/95 border-4 border-black p-4 sm:p-6",children:[z.jsxs("header",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsx(cD,{size:28,className:"text-[#111827]"}),z.jsx("h1",{className:"text-2xl font-extrabold text-[#111827]",children:"Admin Dashboard"})]}),z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsxs("button",{onClick:ft,className:"flex items-center gap-2 bg-[#111827] text-white px-4 py-2 border-2 border-black",children:[z.jsx(lD,{size:14}),z.jsx("span",{className:"text-sm",children:"Dodaj Poklon"})]}),z.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 border-2 border-black bg-[#f6f4ee] text-[#111827]",children:[z.jsx(aD,{size:14}),z.jsx("span",{className:"text-sm",children:"Odjavi se"})]})]})]}),z.jsxs("div",{className:"mb-6 p-4 bg-[#f6f4ee] border-2 border-dashed border-[#111827]",children:[z.jsx("h3",{className:"text-sm font-bold text-[#111827] mb-3",children:"Bulk Akcije:"}),z.jsxs("div",{className:"flex flex-wrap gap-2",children:[z.jsx("button",{onClick:I,disabled:A,className:"py-2 px-3 text-xs sm:text-sm border-2 border-green-600 bg-green-100 text-green-800 hover:bg-green-200 transition-colors disabled:opacity-50 font-semibold",children:"Generiraj 365 Poklona"}),z.jsx("button",{onClick:()=>ED(r),disabled:A||r.length===0,className:"py-2 px-3 text-xs sm:text-sm border-2 border-blue-600 bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors disabled:opacity-50 font-semibold",children:"Preuzmi Backup (CSV)"}),z.jsx("button",{onClick:V,disabled:A,className:"py-2 px-3 text-xs sm:text-sm border-2 border-red-600 bg-red-100 text-red-800 hover:bg-red-200 transition-colors disabled:opacity-50 font-semibold",children:"Obrii Sve Poklone"}),z.jsx("button",{onClick:nt,disabled:A,className:"py-2 px-3 text-xs sm:text-sm border-2 border-orange-600 bg-orange-100 text-orange-800 hover:bg-orange-200 transition-colors disabled:opacity-50 font-semibold",children:"Provjeri Placeholdere (8h)"})]}),A&&z.jsx("p",{className:"text-xs text-[#111827] mt-2",children:"Obrada u tijeku..."}),re&&N.length>0&&z.jsx("div",{className:"mt-4 p-3 bg-orange-50 border-2 border-orange-500",children:z.jsxs("div",{className:"flex justify-between items-start",children:[z.jsxs("div",{children:[z.jsxs("h4",{className:"font-bold text-orange-800 mb-2",children:["UPOZORENJE: ",N.length," placeholder(a) se otvara za manje od 8h!"]}),z.jsx("ul",{className:"text-xs text-orange-700 space-y-1",children:N.map($=>z.jsxs("li",{children:["Dan ",$.day," - Otvara se: ",$.unlockDate]},$.id))})]}),z.jsx("button",{onClick:()=>te(!1),className:"text-orange-800 font-bold hover:text-orange-900",children:""})]})})]}),i&&z.jsxs("div",{className:"mb-6 relative",children:[z.jsx("h2",{className:"text-xl font-semibold text-[#111827] mb-4",children:d?"Uredi Poklon":"Novi Poklon"}),z.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[z.jsx("button",{type:"button",onClick:Q,title:"Minimize form",className:"px-3 py-1 border-2 border-black bg-[#f6f4ee]",children:""}),z.jsx("button",{type:"button",onClick:P,title:"Close form",className:"px-3 py-1 border-2 border-black bg-[#f6f4ee]",children:""})]}),z.jsxs("form",{onSubmit:Se,className:"flex flex-col gap-4",children:[z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:"Dan (1-365)"}),z.jsx("input",{type:"number",min:"1",max:"365",value:G.day,onChange:$=>de({...G,day:$.target.value}),className:"mt-1 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827]",required:!0})]}),z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:"Tip"}),z.jsxs("select",{value:G.type,onChange:$=>de({...G,type:$.target.value}),className:"mt-1 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827]",children:[z.jsx("option",{value:"text",children:"Tekst"}),z.jsx("option",{value:"image",children:"Slika"}),z.jsx("option",{value:"song",children:"Pjesma"})]})]}),G.type==="image"&&z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:"Uitaj sliku"}),d&&G.content&&!we&&z.jsxs("div",{className:"mt-2 mb-3",children:[z.jsx("img",{src:G.content,alt:"Current",className:"w-full max-h-48 object-cover border-2 border-black"}),z.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Trenutna slika"}),z.jsx("button",{type:"button",onClick:()=>de({...G,content:""}),className:"mt-2 px-3 py-1 text-xs border-2 border-black bg-red-200 text-red-800 font-semibold",children:"Ukloni sliku"})]}),we&&z.jsxs("div",{className:"mt-2 mb-3",children:[z.jsx("img",{src:URL.createObjectURL(we),alt:"Preview",className:"w-full max-h-48 object-cover border-2 border-black"}),z.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Nova slika: ",we.name]}),z.jsx("button",{type:"button",onClick:()=>be(null),className:"mt-2 px-3 py-1 text-xs border-2 border-black bg-gray-200 text-gray-800 font-semibold",children:"Ukloni novu sliku"})]}),z.jsx("input",{type:"file",accept:"image/*",onChange:$=>be($.target.files?.[0]||null),className:"mt-2 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827]"})]}),(G.type==="image"||G.type==="song")&&z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:G.type==="image"?"Poruka uz sliku (opcionalno)":"Naslov"}),z.jsx("input",{type:"text",value:G.title,onChange:$=>de({...G,title:$.target.value}),className:"mt-1 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827]",placeholder:G.type==="image"?"Upii poruku...":"Naziv pjesme"})]}),z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:G.type==="text"?"Tekst":G.type==="song"?"Spotify ili YouTube URL":""}),G.type!=="image"&&z.jsx("textarea",{value:G.content,onChange:$=>de({...G,content:$.target.value}),className:"mt-1 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827] min-h-[100px]",placeholder:G.type==="text"?"Upii poruku...":"https://open.spotify.com/track/... ili https://youtube.com/watch?v=...",required:!0}),G.type==="song"&&z.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Primjeri: Spotify track URL ili YouTube video link"})]}),z.jsxs("div",{className:"flex flex-col",children:[z.jsx("label",{className:"text-sm text-[#111827] font-medium",children:"Datum otkljuavanja"}),z.jsx("input",{type:"date",value:G.unlockDate,onChange:$=>de({...G,unlockDate:$.target.value}),className:"mt-1 p-3 border-2 border-black bg-[#f6f4ee] text-[#111827]",required:!0})]}),z.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[z.jsx("button",{type:"submit",disabled:_,className:"flex-1 py-3 bg-[#111827] text-white border-2 border-black font-semibold disabled:opacity-60",children:_?"Uitavanje slike...":d?"Spremi":"Dodaj"}),z.jsx("button",{type:"button",onClick:P,className:"flex-1 py-3 border-2 border-black bg-[#f6f4ee] text-[#111827]",children:"Odustani"})]})]})]}),z.jsxs("div",{children:[z.jsxs("h2",{className:"text-lg font-semibold text-[#111827] mb-4",children:["Svi Pokloni (",r.length,")"]}),z.jsx("div",{className:"flex flex-col gap-4",children:r.map($=>{const le=$.type==="text"&&$.content&&$.content.includes("PavelVoliTaru");return z.jsxs("div",{className:`p-3 sm:p-4 border-2 border-black flex flex-col sm:flex-row sm:items-center justify-between gap-3 ${le?"bg-yellow-100":"bg-[#f6f4ee]"}`,children:[z.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[z.jsxs("span",{className:"font-semibold text-[#111827]",children:["Dan ",$.day]}),z.jsx("span",{className:"text-sm text-[#111827] bg-[#fff] px-2 py-1 border-2 border-black",children:$.type}),le&&z.jsx("span",{className:"text-xs bg-yellow-500 text-white px-2 py-1 border-2 border-black font-bold",children:"PLACEHOLDER"}),z.jsx("span",{className:"text-sm text-[#666]",children:$.unlockDate}),$.opened&&z.jsxs("span",{className:"text-sm text-[#667eea] mt-1 sm:mt-0",children:["Otvoreno: ",$.openedAt?O($.openedAt):""]})]}),z.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-2 sm:mt-0",children:[z.jsx("button",{onClick:()=>{Me($),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 bg-[#111827] text-white border-2 border-black",children:z.jsx(fD,{size:14})}),z.jsx("button",{onClick:()=>T($.id),className:"p-2 border-2 border-black bg-[#f6f4ee] text-[#111827]",children:z.jsx(mD,{size:14})}),$.opened&&z.jsx("button",{onClick:()=>R($.id),className:"p-2 border-2 border-black bg-[#fff] text-[#111827]",children:"Spakiraj"})]})]},$.id)})})]})]})})})}function Uc({SIM_RESOLUTION:r=64,DYE_RESOLUTION:e=512,CAPTURE_RESOLUTION:i=256,DENSITY_DISSIPATION:a=4,VELOCITY_DISSIPATION:l=2.5,PRESSURE:c=.1,PRESSURE_ITERATIONS:d=10,CURL:p=2,SPLAT_RADIUS:_=.15,SPLAT_FORCE:y=4e3,SHADING:A=!1,COLOR_UPDATE_SPEED:w=5,BACK_COLOR:N={r:.5,g:0,b:0},TRANSPARENT:q=!0}){const re=Fe.useRef(null);return Fe.useEffect(()=>{const te=re.current;if(!te)return;const G=navigator.hardwareConcurrency||4,de=/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),we=G<=1||de&&G<=2,be=de||G<=2;if(we){te.style.display="none";return}function Be(){this.id=-1,this.texcoordX=0,this.texcoordY=0,this.prevTexcoordX=0,this.prevTexcoordY=0,this.deltaX=0,this.deltaY=0,this.down=!1,this.moved=!1,this.color=[0,0,0]}let Se={SIM_RESOLUTION:r,DYE_RESOLUTION:e,CAPTURE_RESOLUTION:i,DENSITY_DISSIPATION:a,VELOCITY_DISSIPATION:l,PRESSURE:c,PRESSURE_ITERATIONS:d,CURL:p,SPLAT_RADIUS:_,SPLAT_FORCE:y,SHADING:A,COLOR_UPDATE_SPEED:w};be&&(Se.SIM_RESOLUTION=Math.min(Se.SIM_RESOLUTION,32),Se.DYE_RESOLUTION=Math.min(Se.DYE_RESOLUTION,256),Se.CAPTURE_RESOLUTION=Math.min(Se.CAPTURE_RESOLUTION,128),Se.PRESSURE_ITERATIONS=Math.min(Se.PRESSURE_ITERATIONS,6),Se.SPLAT_FORCE=Math.min(Se.SPLAT_FORCE,2e3),Se.SHADING=!1,Se.COLOR_UPDATE_SPEED=Math.max(1,Se.COLOR_UPDATE_SPEED/2));let Me=[new Be];const{gl:T,ext:R}=I(te);R.supportLinearFiltering||(Se.DYE_RESOLUTION=256,Se.SHADING=!1);function I(x){const Y={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let Z=x.getContext("webgl2",Y);const oe=!!Z;oe||(Z=x.getContext("webgl",Y)||x.getContext("experimental-webgl",Y));let ge,De;oe?(Z.getExtension("EXT_color_buffer_float"),De=Z.getExtension("OES_texture_float_linear")):(ge=Z.getExtension("OES_texture_half_float"),De=Z.getExtension("OES_texture_half_float_linear")),Z.clearColor(0,0,0,1);const Ve=oe?Z.HALF_FLOAT:ge&&ge.HALF_FLOAT_OES;let qe,Tt,yn;return oe?(qe=V(Z,Z.RGBA16F,Z.RGBA,Ve),Tt=V(Z,Z.RG16F,Z.RG,Ve),yn=V(Z,Z.R16F,Z.RED,Ve)):(qe=V(Z,Z.RGBA,Z.RGBA,Ve),Tt=V(Z,Z.RGBA,Z.RGBA,Ve),yn=V(Z,Z.RGBA,Z.RGBA,Ve)),{gl:Z,ext:{formatRGBA:qe,formatRG:Tt,formatR:yn,halfFloatTexType:Ve,supportLinearFiltering:De}}}function V(x,Y,Z,oe){if(!O(x,Y,Z,oe))switch(Y){case x.R16F:return V(x,x.RG16F,x.RG,oe);case x.RG16F:return V(x,x.RGBA16F,x.RGBA,oe);default:return null}return{internalFormat:Y,format:Z}}function O(x,Y,Z,oe){const ge=x.createTexture();x.bindTexture(x.TEXTURE_2D,ge),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texImage2D(x.TEXTURE_2D,0,Y,4,4,0,Z,oe,null);const De=x.createFramebuffer();return x.bindFramebuffer(x.FRAMEBUFFER,De),x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,ge,0),x.checkFramebufferStatus(x.FRAMEBUFFER)===x.FRAMEBUFFER_COMPLETE}class P{constructor(Y,Z){this.vertexShader=Y,this.fragmentShaderSource=Z,this.programs=[],this.activeProgram=null,this.uniforms=[]}setKeywords(Y){let Z=0;for(let ge=0;ge<Y.length;ge++)Z+=jn(Y[ge]);let oe=this.programs[Z];if(oe==null){let ge=Q(T.FRAGMENT_SHADER,this.fragmentShaderSource,Y);oe=nt(this.vertexShader,ge),this.programs[Z]=oe}oe!==this.activeProgram&&(this.uniforms=ft(oe),this.activeProgram=oe)}bind(){T.useProgram(this.activeProgram)}}class C{constructor(Y,Z){this.uniforms={},this.program=nt(Y,Z),this.uniforms=ft(this.program)}bind(){T.useProgram(this.program)}}function nt(x,Y){let Z=T.createProgram();return T.attachShader(Z,x),T.attachShader(Z,Y),T.linkProgram(Z),T.getProgramParameter(Z,T.LINK_STATUS)||console.trace(T.getProgramInfoLog(Z)),Z}function ft(x){let Y=[],Z=T.getProgramParameter(x,T.ACTIVE_UNIFORMS);for(let oe=0;oe<Z;oe++){let ge=T.getActiveUniform(x,oe).name;Y[ge]=T.getUniformLocation(x,ge)}return Y}function Q(x,Y,Z){Y=$(Y,Z);const oe=T.createShader(x);return T.shaderSource(oe,Y),T.compileShader(oe),T.getShaderParameter(oe,T.COMPILE_STATUS)||console.trace(T.getShaderInfoLog(oe)),oe}function $(x,Y){if(!Y)return x;let Z="";return Y.forEach(oe=>{Z+="#define "+oe+`
`}),Z+x}const le=Q(T.VERTEX_SHADER,`
      precision highp float;
      attribute vec2 aPosition;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform vec2 texelSize;

      void main () {
          vUv = aPosition * 0.5 + 0.5;
          vL = vUv - vec2(texelSize.x, 0.0);
          vR = vUv + vec2(texelSize.x, 0.0);
          vT = vUv + vec2(0.0, texelSize.y);
          vB = vUv - vec2(0.0, texelSize.y);
          gl_Position = vec4(aPosition, 0.0, 1.0);
      }
    `),Te=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      uniform sampler2D uTexture;

      void main () {
          gl_FragColor = texture2D(uTexture, vUv);
      }
    `),k=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      uniform sampler2D uTexture;
      uniform float value;

      void main () {
          gl_FragColor = value * texture2D(uTexture, vUv);
      }
    `),E=`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform sampler2D uTexture;
      uniform sampler2D uDithering;
      uniform vec2 ditherScale;
      uniform vec2 texelSize;

      vec3 linearToGamma (vec3 color) {
          color = max(color, vec3(0));
          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));
      }

      void main () {
          vec3 c = texture2D(uTexture, vUv).rgb;
          #ifdef SHADING
              vec3 lc = texture2D(uTexture, vL).rgb;
              vec3 rc = texture2D(uTexture, vR).rgb;
              vec3 tc = texture2D(uTexture, vT).rgb;
              vec3 bc = texture2D(uTexture, vB).rgb;

              float dx = length(rc) - length(lc);
              float dy = length(tc) - length(bc);

              vec3 n = normalize(vec3(dx, dy, length(texelSize)));
              vec3 l = vec3(0.0, 0.0, 1.0);

              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
              c *= diffuse;
          #endif

          float a = max(c.r, max(c.g, c.b));
          gl_FragColor = vec4(c, a);
      }
    `,L=Q(T.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      uniform sampler2D uTarget;
      uniform float aspectRatio;
      uniform vec3 color;
      uniform vec2 point;
      uniform float radius;

      void main () {
          vec2 p = vUv - point.xy;
          p.x *= aspectRatio;
          vec3 splat = exp(-dot(p, p) / radius) * color;
          vec3 base = texture2D(uTarget, vUv).xyz;
          gl_FragColor = vec4(base + splat, 1.0);
      }
    `),J=Q(T.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      uniform sampler2D uVelocity;
      uniform sampler2D uSource;
      uniform vec2 texelSize;
      uniform vec2 dyeTexelSize;
      uniform float dt;
      uniform float dissipation;

      vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
          vec2 st = uv / tsize - 0.5;
          vec2 iuv = floor(st);
          vec2 fuv = fract(st);

          vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
          vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
          vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
          vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);

          return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
      }

      void main () {
          #ifdef MANUAL_FILTERING
              vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
              vec4 result = bilerp(uSource, coord, dyeTexelSize);
          #else
              vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
              vec4 result = texture2D(uSource, coord);
          #endif
          float decay = 1.0 + dissipation * dt;
          gl_FragColor = result / decay;
      }
    `,R.supportLinearFiltering?null:["MANUAL_FILTERING"]),se=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uVelocity, vL).x;
          float R = texture2D(uVelocity, vR).x;
          float T = texture2D(uVelocity, vT).y;
          float B = texture2D(uVelocity, vB).y;

          vec2 C = texture2D(uVelocity, vUv).xy;
          if (vL.x < 0.0) { L = -C.x; }
          if (vR.x > 1.0) { R = -C.x; }
          if (vT.y > 1.0) { T = -C.y; }
          if (vB.y < 0.0) { B = -C.y; }

          float div = 0.5 * (R - L + T - B);
          gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
      }
    `),ue=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uVelocity, vL).y;
          float R = texture2D(uVelocity, vR).y;
          float T = texture2D(uVelocity, vT).x;
          float B = texture2D(uVelocity, vB).x;
          float vorticity = R - L - T + B;
          gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
      }
    `),fe=Q(T.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform sampler2D uVelocity;
      uniform sampler2D uCurl;
      uniform float curl;
      uniform float dt;

      void main () {
          float L = texture2D(uCurl, vL).x;
          float R = texture2D(uCurl, vR).x;
          float T = texture2D(uCurl, vT).x;
          float B = texture2D(uCurl, vB).x;
          float C = texture2D(uCurl, vUv).x;

          vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
          force /= length(force) + 0.0001;
          force *= curl * C;
          force.y *= -1.0;

          vec2 velocity = texture2D(uVelocity, vUv).xy;
          velocity += force * dt;
          velocity = min(max(velocity, -1000.0), 1000.0);
          gl_FragColor = vec4(velocity, 0.0, 1.0);
      }
    `),ce=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uPressure;
      uniform sampler2D uDivergence;

      void main () {
          float L = texture2D(uPressure, vL).x;
          float R = texture2D(uPressure, vR).x;
          float T = texture2D(uPressure, vT).x;
          float B = texture2D(uPressure, vB).x;
          float C = texture2D(uPressure, vUv).x;
          float divergence = texture2D(uDivergence, vUv).x;
          float pressure = (L + R + B + T - divergence) * 0.25;
          gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
      }
    `),Ae=Q(T.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uPressure;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uPressure, vL).x;
          float R = texture2D(uPressure, vR).x;
          float T = texture2D(uPressure, vT).x;
          float B = texture2D(uPressure, vB).x;
          vec2 velocity = texture2D(uVelocity, vUv).xy;
          velocity.xy -= vec2(R - L, T - B);
          gl_FragColor = vec4(velocity, 0.0, 1.0);
      }
    `),_e=(T.bindBuffer(T.ARRAY_BUFFER,T.createBuffer()),T.bufferData(T.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),T.STATIC_DRAW),T.bindBuffer(T.ELEMENT_ARRAY_BUFFER,T.createBuffer()),T.bufferData(T.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),T.STATIC_DRAW),T.vertexAttribPointer(0,2,T.FLOAT,!1,0,0),T.enableVertexAttribArray(0),(x,Y=!1)=>{x==null?(T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.bindFramebuffer(T.FRAMEBUFFER,null)):(T.viewport(0,0,x.width,x.height),T.bindFramebuffer(T.FRAMEBUFFER,x.fbo)),Y&&(T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT)),T.drawElements(T.TRIANGLES,6,T.UNSIGNED_SHORT,0)});let Pe,pe,tt,dt,Ce;const Dt=new C(le,Te),xt=new C(le,k),Et=new C(le,L),_t=new C(le,J),it=new C(le,se),We=new C(le,ue),on=new C(le,fe),Ni=new C(le,ce),mi=new C(le,Ae),Nt=new P(le,E);function $n(){let x=ti(Se.SIM_RESOLUTION),Y=ti(Se.DYE_RESOLUTION);const Z=R.halfFloatTexType,oe=R.formatRGBA,ge=R.formatRG,De=R.formatR,Ve=R.supportLinearFiltering?T.LINEAR:T.NEAREST;T.disable(T.BLEND),Pe?Pe=er(Pe,Y.width,Y.height,oe.internalFormat,oe.format,Z,Ve):Pe=pi(Y.width,Y.height,oe.internalFormat,oe.format,Z,Ve),pe?pe=er(pe,x.width,x.height,ge.internalFormat,ge.format,Z,Ve):pe=pi(x.width,x.height,ge.internalFormat,ge.format,Z,Ve),tt=Sn(x.width,x.height,De.internalFormat,De.format,Z,T.NEAREST),dt=Sn(x.width,x.height,De.internalFormat,De.format,Z,T.NEAREST),Ce=pi(x.width,x.height,De.internalFormat,De.format,Z,T.NEAREST)}function Sn(x,Y,Z,oe,ge,De){T.activeTexture(T.TEXTURE0);let Ve=T.createTexture();T.bindTexture(T.TEXTURE_2D,Ve),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,De),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MAG_FILTER,De),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.texImage2D(T.TEXTURE_2D,0,Z,x,Y,0,oe,ge,null);let qe=T.createFramebuffer();T.bindFramebuffer(T.FRAMEBUFFER,qe),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,Ve,0),T.viewport(0,0,x,Y),T.clear(T.COLOR_BUFFER_BIT);let Tt=1/x,yn=1/Y;return{texture:Ve,fbo:qe,width:x,height:Y,texelSizeX:Tt,texelSizeY:yn,attach(nn){return T.activeTexture(T.TEXTURE0+nn),T.bindTexture(T.TEXTURE_2D,Ve),nn}}}function pi(x,Y,Z,oe,ge,De){let Ve=Sn(x,Y,Z,oe,ge,De),qe=Sn(x,Y,Z,oe,ge,De);return{width:x,height:Y,texelSizeX:Ve.texelSizeX,texelSizeY:Ve.texelSizeY,get read(){return Ve},set read(Tt){Ve=Tt},get write(){return qe},set write(Tt){qe=Tt},swap(){let Tt=Ve;Ve=qe,qe=Tt}}}function Zn(x,Y,Z,oe,ge,De,Ve){let qe=Sn(Y,Z,oe,ge,De,Ve);return Dt.bind(),T.uniform1i(Dt.uniforms.uTexture,x.attach(0)),_e(qe),qe}function er(x,Y,Z,oe,ge,De,Ve){return x.width===Y&&x.height===Z||(x.read=Zn(x.read,Y,Z,oe,ge,De,Ve),x.write=Sn(Y,Z,oe,ge,De,Ve),x.width=Y,x.height=Z,x.texelSizeX=1/Y,x.texelSizeY=1/Z),x}function tr(){let x=[];Se.SHADING&&x.push("SHADING"),Nt.setKeywords(x)}tr(),$n();let gi=Date.now(),yi=0,tn=null,Ht=!1;function An(){const x=Ot();va()&&$n(),Vr(x),Ea(),Jn(x),nr(null),tn=requestAnimationFrame(An)}function Ot(){let x=Date.now(),Y=(x-gi)/1e3;return Y=Math.min(Y,.016666),gi=x,Y}function va(){let x=$t(te.clientWidth),Y=$t(te.clientHeight);return te.width!==x||te.height!==Y?(te.width=x,te.height=Y,!0):!1}function Vr(x){yi+=x*Se.COLOR_UPDATE_SPEED,yi>=1&&(yi=sr(yi,0,1),Me.forEach(Y=>{Y.color=Oi()}))}function Ea(){Me.forEach(x=>{x.moved&&(x.moved=!1,Wn(x))})}function Jn(x){T.disable(T.BLEND),We.bind(),T.uniform2f(We.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),T.uniform1i(We.uniforms.uVelocity,pe.read.attach(0)),_e(dt),on.bind(),T.uniform2f(on.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),T.uniform1i(on.uniforms.uVelocity,pe.read.attach(0)),T.uniform1i(on.uniforms.uCurl,dt.attach(1)),T.uniform1f(on.uniforms.curl,Se.CURL),T.uniform1f(on.uniforms.dt,x),_e(pe.write),pe.swap(),it.bind(),T.uniform2f(it.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),T.uniform1i(it.uniforms.uVelocity,pe.read.attach(0)),_e(tt),xt.bind(),T.uniform1i(xt.uniforms.uTexture,Ce.read.attach(0)),T.uniform1f(xt.uniforms.value,Se.PRESSURE),_e(Ce.write),Ce.swap(),Ni.bind(),T.uniform2f(Ni.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),T.uniform1i(Ni.uniforms.uDivergence,tt.attach(0));for(let Z=0;Z<Se.PRESSURE_ITERATIONS;Z++)T.uniform1i(Ni.uniforms.uPressure,Ce.read.attach(1)),_e(Ce.write),Ce.swap();mi.bind(),T.uniform2f(mi.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),T.uniform1i(mi.uniforms.uPressure,Ce.read.attach(0)),T.uniform1i(mi.uniforms.uVelocity,pe.read.attach(1)),_e(pe.write),pe.swap(),_t.bind(),T.uniform2f(_t.uniforms.texelSize,pe.texelSizeX,pe.texelSizeY),R.supportLinearFiltering||T.uniform2f(_t.uniforms.dyeTexelSize,pe.texelSizeX,pe.texelSizeY);let Y=pe.read.attach(0);T.uniform1i(_t.uniforms.uVelocity,Y),T.uniform1i(_t.uniforms.uSource,Y),T.uniform1f(_t.uniforms.dt,x),T.uniform1f(_t.uniforms.dissipation,Se.VELOCITY_DISSIPATION),_e(pe.write),pe.swap(),R.supportLinearFiltering||T.uniform2f(_t.uniforms.dyeTexelSize,Pe.texelSizeX,Pe.texelSizeY),T.uniform1i(_t.uniforms.uVelocity,pe.read.attach(0)),T.uniform1i(_t.uniforms.uSource,Pe.read.attach(1)),T.uniform1f(_t.uniforms.dissipation,Se.DENSITY_DISSIPATION),_e(Pe.write),Pe.swap()}function nr(x){T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.enable(T.BLEND),Vt(x)}function Vt(x){let Y=T.drawingBufferWidth,Z=T.drawingBufferHeight;Nt.bind(),Se.SHADING&&T.uniform2f(Nt.uniforms.texelSize,1/Y,1/Z),T.uniform1i(Nt.uniforms.uTexture,Pe.read.attach(0)),_e(x)}function Wn(x){let Y=x.deltaX*Se.SPLAT_FORCE,Z=x.deltaY*Se.SPLAT_FORCE;Cn(x.texcoordX,x.texcoordY,Y,Z,x.color)}function ei(x){const Y=Oi();Y.r*=10,Y.g*=10,Y.b*=10;let Z=10*(Math.random()-.5),oe=30*(Math.random()-.5);Cn(x.texcoordX,x.texcoordY,Z,oe,Y)}function Cn(x,Y,Z,oe,ge){Et.bind(),T.uniform1i(Et.uniforms.uTarget,pe.read.attach(0)),T.uniform1f(Et.uniforms.aspectRatio,te.width/te.height),T.uniform2f(Et.uniforms.point,x,Y),T.uniform3f(Et.uniforms.color,Z,oe,0),T.uniform1f(Et.uniforms.radius,Vo(Se.SPLAT_RADIUS/100)),_e(pe.write),pe.swap(),T.uniform1i(Et.uniforms.uTarget,Pe.read.attach(0)),T.uniform3f(Et.uniforms.color,ge.r,ge.g,ge.b),_e(Pe.write),Pe.swap()}function Vo(x){let Y=te.width/te.height;return Y>1&&(x*=Y),x}function kr(x,Y,Z,oe){x.id=Y,x.down=!0,x.moved=!1,x.texcoordX=Z/te.width,x.texcoordY=1-oe/te.height,x.prevTexcoordX=x.texcoordX,x.prevTexcoordY=x.texcoordY,x.deltaX=0,x.deltaY=0,x.color=Oi()}function In(x,Y,Z,oe){x.prevTexcoordX=x.texcoordX,x.prevTexcoordY=x.texcoordY,x.texcoordX=Y/te.width,x.texcoordY=1-Z/te.height,x.deltaX=ko(x.texcoordX-x.prevTexcoordX),x.deltaY=rr(x.texcoordY-x.prevTexcoordY),x.moved=Math.abs(x.deltaX)>0||Math.abs(x.deltaY)>0,x.color=oe}function ir(x){x.down=!1}function ko(x){let Y=te.width/te.height;return Y<1&&(x*=Y),x}function rr(x){let Y=te.width/te.height;return Y>1&&(x/=Y),x}function Oi(){let x=ks(Math.random(),1,1);return x.r*=.15,x.g*=.15,x.b*=.15,x}function ks(x,Y,Z){let oe,ge,De,Ve,qe,Tt,yn,nn;switch(Ve=Math.floor(x*6),qe=x*6-Ve,Tt=Z*(1-Y),yn=Z*(1-qe*Y),nn=Z*(1-(1-qe)*Y),Ve%6){case 0:oe=Z,ge=nn,De=Tt;break;case 1:oe=yn,ge=Z,De=Tt;break;case 2:oe=Tt,ge=Z,De=nn;break;case 3:oe=Tt,ge=yn,De=Z;break;case 4:oe=nn,ge=Tt,De=Z;break;case 5:oe=Z,ge=Tt,De=yn;break}return{r:oe,g:ge,b:De}}function sr(x,Y,Z){const oe=Z-Y;return(x-Y)%oe+Y}function ti(x){let Y=T.drawingBufferWidth/T.drawingBufferHeight;Y<1&&(Y=1/Y);const Z=Math.round(x),oe=Math.round(x*Y);return T.drawingBufferWidth>T.drawingBufferHeight?{width:oe,height:Z}:{width:Z,height:oe}}function $t(x){const Y=window.devicePixelRatio||1;return Math.floor(x*Y)}function jn(x){if(x.length===0)return 0;let Y=0;for(let Z=0;Z<x.length;Z++)Y=(Y<<5)-Y+x.charCodeAt(Z),Y|=0;return Y}const Dn=x=>{let Y=Me[0],Z=$t(x.clientX),oe=$t(x.clientY);kr(Y,-1,Z,oe),ei(Y)},Rt=x=>{let Y=Me[0],Z=$t(x.clientX),oe=$t(x.clientY),ge=Oi();In(Y,Z,oe,ge),document.body.removeEventListener("mousemove",Rt)},Ut=x=>{let Y=Me[0],Z=$t(x.clientX),oe=$t(x.clientY),ge=Y.color;In(Y,Z,oe,ge)},xn=x=>{const Y=x.targetTouches;let Z=Me[0];for(let oe=0;oe<Y.length;oe++){let ge=$t(Y[oe].clientX),De=$t(Y[oe].clientY);kr(Z,Y[oe].identifier,ge,De)}document.body.removeEventListener("touchstart",xn)},ar=x=>{const Y=x.targetTouches;let Z=Me[0];for(let oe=0;oe<Y.length;oe++){let ge=$t(Y[oe].clientX),De=$t(Y[oe].clientY);kr(Z,Y[oe].identifier,ge,De)}},Ta=x=>{const Y=x.targetTouches;let Z=Me[0];for(let oe=0;oe<Y.length;oe++){let ge=$t(Y[oe].clientX),De=$t(Y[oe].clientY);In(Z,ge,De,Z.color)}},Ps=x=>{const Y=x.changedTouches;let Z=Me[0];for(let oe=0;oe<Y.length;oe++)ir(Z)};return window.addEventListener("mousedown",Dn),document.body.addEventListener("mousemove",Rt),window.addEventListener("mousemove",Ut),document.body.addEventListener("touchstart",xn),window.addEventListener("touchstart",ar),window.addEventListener("touchmove",Ta,!1),window.addEventListener("touchend",Ps),Ht||(Ht=!0,tn=requestAnimationFrame(An)),()=>{try{window.removeEventListener("mousedown",Dn),document.body.removeEventListener("mousemove",Rt),window.removeEventListener("mousemove",Ut),document.body.removeEventListener("touchstart",xn),window.removeEventListener("touchstart",ar),window.removeEventListener("touchmove",Ta,!1),window.removeEventListener("touchend",Ps)}catch{}tn&&cancelAnimationFrame(tn)}},[r,e,i,a,l,c,d,p,_,y,A,w,N,q]),z.jsx("div",{style:{position:"fixed",top:0,left:0,zIndex:50,pointerEvents:"none",width:"100%",height:"100%"},children:z.jsx("canvas",{ref:re,id:"fluid",style:{width:"100vw",height:"100vh",display:"block"}})})}function SD(){const[r,e]=Fe.useState(null),[i,a]=Fe.useState(null),[l,c]=Fe.useState(!0);return Fe.useEffect(()=>{const d=Ew(Ph,async p=>{if(p){e(p);try{const _=await FI(ua(Ri,"users",p.uid));_.exists()&&a(_.data().role)}catch(_){console.error("Error fetching user role:",_)}}else e(null),a(null);c(!1)});return()=>d()},[]),l?z.jsxs(z.Fragment,{children:[z.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 md:p-8 bg-[#f5f4dc]",children:z.jsx("div",{className:"w-full max-w-md relative pb-4 pr-4",children:z.jsxs("div",{className:"relative z-10 bg-[#fffdfd]/95 border-4 border-black p-6 sm:p-8 text-center",style:{boxShadow:"12px 12px 0 0 #000"},children:[z.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#111827] mb-2",children:"Uitavanje"}),z.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:"Molimo priekajte..."}),z.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[z.jsx("span",{className:"inline-block w-3 h-3 bg-primary rounded-sm animate-pulse"}),z.jsx("span",{style:{animationDelay:"0.12s"},className:"inline-block w-3 h-3 bg-primary rounded-sm animate-pulse"}),z.jsx("span",{style:{animationDelay:"0.24s"},className:"inline-block w-3 h-3 bg-primary rounded-sm animate-pulse"})]})]})})}),z.jsx(Uc,{})]}):r?i==="admin"?z.jsxs(z.Fragment,{children:[z.jsx(bD,{}),z.jsx(Uc,{})]}):z.jsxs(z.Fragment,{children:[z.jsx(_D,{}),z.jsx(Uc,{})]}):z.jsxs(z.Fragment,{children:[z.jsx(pD,{}),z.jsx(Uc,{})]})}const AD=Pb.createRoot(document.getElementById("root"));AD.render(z.jsx(Ib.StrictMode,{children:z.jsx(SD,{})}))});export default wD();
